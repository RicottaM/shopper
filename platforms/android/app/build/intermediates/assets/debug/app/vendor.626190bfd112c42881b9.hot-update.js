"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2022/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   APP_ROOT_VIEW: () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   ActionBarComponent: () => (/* binding */ ActionBarComponent),
/* harmony export */   ActionBarScope: () => (/* binding */ ActionBarScope),
/* harmony export */   ActionItemDirective: () => (/* binding */ ActionItemDirective),
/* harmony export */   AndroidFilterComponent: () => (/* binding */ AndroidFilterComponent),
/* harmony export */   AppHostAsyncView: () => (/* binding */ AppHostAsyncView),
/* harmony export */   AppHostView: () => (/* binding */ AppHostView),
/* harmony export */   BasePortalOutlet: () => (/* binding */ BasePortalOutlet),
/* harmony export */   BaseValueAccessor: () => (/* binding */ BaseValueAccessor),
/* harmony export */   COMMON_PROVIDERS: () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   CdkPortal: () => (/* binding */ CdkPortal),
/* harmony export */   CdkPortalOutlet: () => (/* binding */ CdkPortalOutlet),
/* harmony export */   CheckedValueAccessor: () => (/* binding */ CheckedValueAccessor),
/* harmony export */   CommentNode: () => (/* binding */ CommentNode),
/* harmony export */   ComponentPortal: () => (/* binding */ ComponentPortal),
/* harmony export */   DEVICE: () => (/* binding */ DEVICE),
/* harmony export */   DISABLE_ROOT_VIEW_HANDLING: () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   DateValueAccessor: () => (/* binding */ DateValueAccessor),
/* harmony export */   DetachedLoader: () => (/* binding */ DetachedLoader),
/* harmony export */   DomPortal: () => (/* binding */ DomPortal),
/* harmony export */   ENABLE_REUSABE_VIEWS: () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   EmulatedRenderer: () => (/* binding */ EmulatedRenderer),
/* harmony export */   FrameDirective: () => (/* binding */ FrameDirective),
/* harmony export */   FramePageComponent: () => (/* binding */ FramePageComponent),
/* harmony export */   FramePageModule: () => (/* binding */ FramePageModule),
/* harmony export */   FrameService: () => (/* binding */ FrameService),
/* harmony export */   IOSFilterComponent: () => (/* binding */ IOSFilterComponent),
/* harmony export */   InjectableAnimationEngine: () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   InvisibleNode: () => (/* binding */ InvisibleNode),
/* harmony export */   ItemContext: () => (/* binding */ ItemContext),
/* harmony export */   ListViewComponent: () => (/* binding */ ListViewComponent),
/* harmony export */   ModalDialogParams: () => (/* binding */ ModalDialogParams),
/* harmony export */   ModalDialogService: () => (/* binding */ ModalDialogService),
/* harmony export */   NAMESPACE_FILTERS: () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   NATIVESCRIPT_MODULE_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   NATIVESCRIPT_MODULE_STATIC_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   NATIVESCRIPT_ROOT_MODULE_ID: () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   NATIVE_DIALOG_DATA: () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   NATIVE_DIALOG_DEFAULT_OPTIONS: () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   NSEmptyOutletComponent: () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   NSFileSystem: () => (/* binding */ NSFileSystem),
/* harmony export */   NSLocationStrategy: () => (/* binding */ NSLocationStrategy),
/* harmony export */   NSRouteReuseStrategy: () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   NSRouterLink: () => (/* binding */ NSRouterLink),
/* harmony export */   NSRouterLinkActive: () => (/* binding */ NSRouterLinkActive),
/* harmony export */   NativeDialogCloseDirective: () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   NativeDialogConfig: () => (/* binding */ NativeDialogConfig),
/* harmony export */   NativeDialogModule: () => (/* binding */ NativeDialogModule),
/* harmony export */   NativeDialogRef: () => (/* binding */ NativeDialogRef),
/* harmony export */   NativeDialogService: () => (/* binding */ NativeDialogService),
/* harmony export */   NativeModalRef: () => (/* binding */ NativeModalRef),
/* harmony export */   NativeScriptAnimationDriver: () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   NativeScriptAnimationPlayer: () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   NativeScriptAnimationsModule: () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   NativeScriptCommonModule: () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   NativeScriptDocument: () => (/* binding */ NativeScriptDocument),
/* harmony export */   NativeScriptDomPortalOutlet: () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   NativeScriptFormsModule: () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   NativeScriptHttpClientModule: () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   NativeScriptLoadingService: () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   NativeScriptModule: () => (/* binding */ NativeScriptModule),
/* harmony export */   NativeScriptNgSafeEvent: () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   NativeScriptNgZone: () => (/* binding */ NativeScriptNgZone),
/* harmony export */   NativeScriptRendererFactory: () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   NativeScriptRouterModule: () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   NativeScriptSanitizer: () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   NativescriptXhrFactory: () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   NavigationButtonDirective: () => (/* binding */ NavigationButtonDirective),
/* harmony export */   NgViewRef: () => (/* binding */ NgViewRef),
/* harmony export */   NsHttpBackEnd: () => (/* binding */ NsHttpBackEnd),
/* harmony export */   NsTemplatedItem: () => (/* binding */ NsTemplatedItem),
/* harmony export */   NumberValueAccessor: () => (/* binding */ NumberValueAccessor),
/* harmony export */   Outlet: () => (/* binding */ Outlet),
/* harmony export */   PAGE_FACTORY: () => (/* binding */ PAGE_FACTORY),
/* harmony export */   PageDirective: () => (/* binding */ PageDirective),
/* harmony export */   PageRoute: () => (/* binding */ PageRoute),
/* harmony export */   PageRouterOutlet: () => (/* binding */ PageRouterOutlet),
/* harmony export */   PageService: () => (/* binding */ PageService),
/* harmony export */   PlatformNamespaceFilter: () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   Portal: () => (/* binding */ Portal),
/* harmony export */   PortalModule: () => (/* binding */ PortalModule),
/* harmony export */   RootCompositeModule: () => (/* binding */ RootCompositeModule),
/* harmony export */   RootViewProxy: () => (/* binding */ RootViewProxy),
/* harmony export */   RouterExtensions: () => (/* binding */ RouterExtensions),
/* harmony export */   START_PATH: () => (/* binding */ START_PATH),
/* harmony export */   SelectedIndexValueAccessor: () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   TEMPLATED_ITEMS_COMPONENT: () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   TabViewDirective: () => (/* binding */ TabViewDirective),
/* harmony export */   TabViewItemDirective: () => (/* binding */ TabViewItemDirective),
/* harmony export */   TemplateKeyDirective: () => (/* binding */ TemplateKeyDirective),
/* harmony export */   TemplatePortal: () => (/* binding */ TemplatePortal),
/* harmony export */   TextNode: () => (/* binding */ TextNode),
/* harmony export */   TextValueAccessor: () => (/* binding */ TextValueAccessor),
/* harmony export */   TimeValueAccessor: () => (/* binding */ TimeValueAccessor),
/* harmony export */   VisionOSFilterComponent: () => (/* binding */ VisionOSFilterComponent),
/* harmony export */   _NativeDialogBase: () => (/* binding */ _NativeDialogBase),
/* harmony export */   bootstrapApplication: () => (/* binding */ bootstrapApplication),
/* harmony export */   createKeyframeAnimation: () => (/* binding */ createKeyframeAnimation),
/* harmony export */   customFrameComponentFactory: () => (/* binding */ customFrameComponentFactory),
/* harmony export */   customFrameDirectiveFactory: () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   customPageFactory: () => (/* binding */ customPageFactory),
/* harmony export */   customPageFactoryFromFrame: () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   dashCaseToCamelCase: () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   defaultNavOptions: () => (/* binding */ defaultNavOptions),
/* harmony export */   defaultPageFactory: () => (/* binding */ defaultPageFactory),
/* harmony export */   defaultPageFactoryProvider: () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   detachViewFromParent: () => (/* binding */ detachViewFromParent),
/* harmony export */   disableRootViewHanding: () => (/* binding */ disableRootViewHanding),
/* harmony export */   errorHandler: () => (/* binding */ errorHandler),
/* harmony export */   extractSingleViewRecursive: () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   frameMeta: () => (/* binding */ frameMeta),
/* harmony export */   generateDetachedLoader: () => (/* binding */ generateDetachedLoader),
/* harmony export */   generateFallbackRootView: () => (/* binding */ generateFallbackRootView),
/* harmony export */   generateNativeScriptView: () => (/* binding */ generateNativeScriptView),
/* harmony export */   generateRandomId: () => (/* binding */ generateRandomId),
/* harmony export */   generateRootLayoutAndProxy: () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   getFirstNativeLikeView: () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   getItemViewRoot: () => (/* binding */ getItemViewRoot),
/* harmony export */   getSingleViewRecursive: () => (/* binding */ getSingleViewRecursive),
/* harmony export */   getViewClass: () => (/* binding */ getViewClass),
/* harmony export */   getViewMeta: () => (/* binding */ getViewMeta),
/* harmony export */   instantiateDefaultStyleNormalizer: () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   instantiateRendererFactory: () => (/* binding */ instantiateRendererFactory),
/* harmony export */   instantiateSupportedAnimationDriver: () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   isBlank: () => (/* binding */ isBlank),
/* harmony export */   isContentView: () => (/* binding */ isContentView),
/* harmony export */   isDetachedElement: () => (/* binding */ isDetachedElement),
/* harmony export */   isInvisibleNode: () => (/* binding */ isInvisibleNode),
/* harmony export */   isJsObject: () => (/* binding */ isJsObject),
/* harmony export */   isKnownView: () => (/* binding */ isKnownView),
/* harmony export */   isLayout: () => (/* binding */ isLayout),
/* harmony export */   isListLikeIterable: () => (/* binding */ isListLikeIterable),
/* harmony export */   isPresent: () => (/* binding */ isPresent),
/* harmony export */   isView: () => (/* binding */ isView),
/* harmony export */   onAfterLivesync: () => (/* binding */ onAfterLivesync),
/* harmony export */   onBeforeLivesync: () => (/* binding */ onBeforeLivesync),
/* harmony export */   once: () => (/* binding */ once),
/* harmony export */   platformNativeScript: () => (/* binding */ platformNativeScript),
/* harmony export */   platformNativeScriptDynamic: () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   postAngularBootstrap$: () => (/* binding */ postAngularBootstrap$),
/* harmony export */   preAngularDisposal$: () => (/* binding */ preAngularDisposal$),
/* harmony export */   provideLocationStrategy: () => (/* binding */ provideLocationStrategy),
/* harmony export */   registerElement: () => (/* binding */ registerElement),
/* harmony export */   registerNativeScriptViewComponents: () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   runNativeScriptAngularApp: () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   throwIfAlreadyLoaded: () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   throwNoPortalAttachedError: () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   throwNullPortalError: () => (/* binding */ throwNullPortalError),
/* harmony export */   throwNullPortalOutletError: () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   throwPortalAlreadyAttachedError: () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   throwPortalOutletAlreadyDisposedError: () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   throwUnknownPortalTypeError: () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _Users_Maciej_Applications_shopper_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/@nativescript/core/platform/common.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/@nativescript/core/application/application.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/color/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@nativescript/core/utils/macrotask-scheduler.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.android.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__("./node_modules/@nativescript/core/utils/mainthread-helper.android.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/browser.mjs");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs");


















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function VisionOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  static {
    this.id = 0;
  }
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
class TextNode extends InvisibleNode {
  static {
    this.textChangeEvent = 'textChange';
  }
  static {
    this.id = 0;
  }
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view?.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
  static {
    this.ɵfac = function NativeScriptLoadingService_Factory(t) {
      return new (t || NativeScriptLoadingService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeScriptLoadingService,
      factory: NativeScriptLoadingService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static {
    this.animationsTraceCategory = 'ns-animations';
  }
  static {
    this.rendererTraceCategory = 'ns-renderer';
  }
  static {
    this.viewUtilCategory = 'ns-view-util';
  }
  static {
    this.routerTraceCategory = 'ns-router';
  }
  static {
    this.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
  }
  static {
    this.listViewTraceCategory = 'ns-list-view';
  }
  static {
    this.bootstrapCategory = 'bootstrap';
  }
  // TODO: migrate all usage to this - avoids extraneous method executions
  static {
    this.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
}
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
  static {
    this.ɵfac = /* @__PURE__ */function () {
      let ɵNativescriptXhrFactory_BaseFactory;
      return function NativescriptXhrFactory_Factory(t) {
        return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
      };
    }();
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptXhrFactory,
      factory: NativescriptXhrFactory.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      parent.formattedText ??= new _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }

    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }

  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    if (parent.meta?.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }

  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    if (parent.meta?.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }

    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }

    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};

NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node?.destroyNode) {
        node?.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }

  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
  static {
    this.ɵfac = function EmulatedRenderer_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: EmulatedRenderer,
      factory: EmulatedRenderer.ɵfac
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: undefined
    }];
  }, {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof ngDevMode === 'undefined' || ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
  static {
    this.ɵfac = function CdkPortal_Factory(t) {
      return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortal,
      selectors: [["", "cdkPortal", ""]],
      exportAs: ["cdkPortal"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_componentFactoryResolver, _viewContainerRef, renderer) {
    super();
    this._componentFactoryResolver = _componentFactoryResolver;
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    const ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
  static {
    this.ɵfac = function CdkPortalOutlet_Factory(t) {
      return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortalOutlet,
      selectors: [["", "cdkPortalOutlet", ""]],
      inputs: {
        portal: ["cdkPortalOutlet", "portal"]
      },
      outputs: {
        attached: "attached"
      },
      exportAs: ["cdkPortalOutlet"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PortalModule {
  static {
    this.ɵfac = function PortalModule_Factory(t) {
      return new (t || PortalModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: PortalModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof ngDevMode === 'undefined' || ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };

    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
  static {
    this.ɵfac = function DetachedLoader_Factory(t) {
      return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: DetachedLoader,
      selectors: [["DetachedContainer"]],
      viewQuery: function DetachedLoader_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
        }
      },
      ngContentSelectors: _c1,
      decls: 5,
      vars: 0,
      consts: [["loader", ""], ["vc", ""]],
      template: function DetachedLoader_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "Placeholder", null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](2, null, 1);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](4);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }];
  }, {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!!this.page?.isLoaded);
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
  static {
    this.ɵfac = function PageService_Factory(t) {
      return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: PageService,
      factory: PageService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
  static {
    this.ɵfac = function FramePageComponent_Factory(t) {
      return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: FramePageComponent,
      selectors: [["FramePage"]],
      inputs: {
        actionBarHidden: "actionBarHidden"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function FramePageComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function FrameDirective_Factory(t) {
      return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: FrameDirective,
      selectors: [["Frame"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function PageDirective_Factory(t) {
      return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageDirective,
      selectors: [["Page"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService])]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class FramePageModule {
  static {
    this.ɵfac = function FramePageModule_Factory(t) {
      return new (t || FramePageModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: FramePageModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
  static {
    this.ɵfac = function ActionBarComponent_Factory(t) {
      return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarComponent,
      selectors: [["ActionBar"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function ActionBarComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
  static {
    this.ɵfac = function ActionBarScope_Factory(t) {
      return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarScope,
      selectors: [["ActionBarExtension"]],
      decls: 0,
      vars: 0,
      template: function ActionBarScope_Template(rf, ctx) {},
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
  static {
    this.ɵfac = function ActionItemDirective_Factory(t) {
      return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ActionItemDirective,
      selectors: [["ActionItem"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
  static {
    this.ɵfac = function NavigationButtonDirective_Factory(t) {
      return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NavigationButtonDirective,
      selectors: [["NavigationButton"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ActionBarScope,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}

function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef?.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.reattach();
    viewRef?.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_51__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !this._templateMap?.has('default')) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
  static {
    this.ɵfac = function ListViewComponent_Factory(t) {
      return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ListViewComponent,
      selectors: [["ListView"]],
      contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
        }
      },
      viewQuery: function ListViewComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
        }
      },
      hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
            return ctx.onItemLoading($event);
          });
        }
      },
      inputs: {
        items: "items"
      },
      outputs: {
        setupItemView: "setupItemView"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }])],
      decls: 3,
      vars: 0,
      consts: [["loader", ""]],
      template: function ListViewComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "DetachedContainer");
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](1, null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        }
      },
      encapsulation: 2,
      changeDetection: 0
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
  static {
    this.ɵfac = function TemplateKeyDirective_Factory(t) {
      return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TemplateKeyDirective,
      selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
      inputs: {
        nsTemplateKey: "nsTemplateKey",
        nsTemplateKeys: "nsTemplateKeys"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Host
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [TEMPLATED_ITEMS_COMPONENT]
      }]
    }];
  }, {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
  }
  static {
    this.ɵfac = function FrameService_Factory(t) {
      return new (t || FrameService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: FrameService,
      factory: FrameService.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }

        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: {
        ...queryParams
      }
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = {
          ...queryParams
        };
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: {
        ...queryParams
      }
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }

  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
  static {
    this.ɵfac = function NSLocationStrategy_Factory(t) {
      return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](START_PATH, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSLocationStrategy,
      factory: NSLocationStrategy.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: FrameService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [START_PATH]
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = options.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = options.moduleRef?.injector || options.viewContainerRef?.injector || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    }
    this.location?._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog({
            ...options,
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          });
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    var _this = this;
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once( /*#__PURE__*/(0,_Users_Maciej_Applications_shopper_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (...args) {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = _this.openedModalParams.pop();
        if (_this._closed$) {
          _this._closed$.next(params);
        }
        yield _this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          _this.zone.run(() => {
            portalOutlet?.dispose();
            detachedLoaderRef?.instance.detectChanges();
            detachedLoaderRef?.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, {
        ...options,
        closeCallback
      });
    });
  }
  static {
    this.ɵfac = function ModalDialogService_Factory(t) {
      return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: ModalDialogService,
      factory: ModalDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }];
  }, null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  static {
    this.ɵfac = function TabViewDirective_Factory(t) {
      return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewDirective,
      selectors: [["TabView"]],
      inputs: {
        selectedIndex: "selectedIndex"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
  static {
    this.ɵfac = function TabViewItemDirective_Factory(t) {
      return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewItemDirective,
      selectors: [["", "tabItem", ""]],
      inputs: {
        config: ["tabItem", "config"],
        title: "title",
        iconSource: "iconSource",
        textTransform: "textTransform"
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], function () {
    return [{
      type: TabViewDirective
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }];
  }, {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
  }
  static {
    this.ɵfac = function AndroidFilterComponent_Factory(t) {
      return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: AndroidFilterComponent,
      selectors: [["android"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function AndroidFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
  }
  static {
    this.ɵfac = function IOSFilterComponent_Factory(t) {
      return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: IOSFilterComponent,
      selectors: [["ios"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function IOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();

/* eslint-disable @angular-eslint/component-selector */
class VisionOSFilterComponent {
  constructor(device) {
    // Note: casting any to be backwards compatible
    // Available in 8.6+ only
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.visionos;
  }
  static {
    this.ɵfac = function VisionOSFilterComponent_Factory(t) {
      return new (t || VisionOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: VisionOSFilterComponent,
      selectors: [["visionos"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function VisionOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, VisionOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VisionOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'visionos',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [DEVICE]
      }]
    }];
  }, null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent, VisionOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {
  static {
    this.ɵfac = function NativeScriptCommonModule_Factory(t) {
      return new (t || NativeScriptCommonModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptCommonModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [ModalDialogService],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_14__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
  static {
    this.ɵfac = function NativeScriptModule_Factory(t) {
      return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], function () {
    return [{
      type: NativeScriptModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NativeScriptModule]
      }]
    }];
  }, null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}

function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done?.();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done?.();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...(options?.providers ?? [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}

function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵinternalCreateApplication"])({
    rootComponent,
    ...createProvidersConfig(options)
  });
}
function runNativeScriptAngularApp(options) {
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && global.NativeScriptGlobals?.events?.[Zone.__symbol__('addEventListener')]) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {
  static {
    this.ɵfac = function RootCompositeModule_Factory(t) {
      return new (t || RootCompositeModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: RootCompositeModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _this2 = this;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._isDismissed = false;
    let parentView = this._config.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once( /*#__PURE__*/(0,_Users_Maciej_Applications_shopper_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.stateChanged.next({
        state: 'closing'
      });
      if (!_this2._isDismissed) {
        _this2.modalViewRef.firstNativeLikeView?.closeModal();
      }
      yield _this2.location?._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if (_this2.modalViewRef?.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.fromEvent)(_this2.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => _this2.stateChanged.next({
          state: 'closed'
        }));
      } else {
        _this2.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(this._config.viewContainerRef?.injector || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    var _this3 = this;
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref3 = (0,_Users_Maciej_Applications_shopper_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          yield _this3.location?._closeModalNavigation();
          _this3.onDismiss.next();
          _this3.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref3.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    var _this4 = this;
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref4 = (0,_Users_Maciej_Applications_shopper_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          _this4._isDismissed = true;
          _this4._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
          _this4.onDismiss.next();
          _this4.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref4.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame ? this.parentView : this.parentView?.page?.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    this.location?._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof ngDevMode === 'undefined' || ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
  static {
    this.ɵfac = function _NativeDialogBase_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: _NativeDialogBase
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: undefined
    }, {
      type: undefined
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken
    }, {
      type: NSLocationStrategy
    }];
  }, null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
  static {
    this.ɵfac = function NativeDialogService_Factory(t) {
      return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeDialogService,
      factory: NativeDialogService.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
    }, {
      type: NativeDialogConfig,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
      }]
    }, {
      type: NativeDialogService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: NSLocationStrategy,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }];
  }, null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return {
    ...defaultOptions,
    ...config
  };
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
  static {
    this.ɵfac = function NativeDialogCloseDirective_Factory(t) {
      return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogService));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NativeDialogCloseDirective,
      selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
      hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
            return ctx._onButtonClick();
          });
        }
      },
      inputs: {
        dialogResult: ["native-dialog-close", "dialogResult"],
        _matDialogClose: ["nativeDialogClose", "_matDialogClose"]
      },
      exportAs: ["nativeDialogClose"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], function () {
    return [{
      type: NativeDialogRef,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: NativeDialogService
    }];
  }, {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {
  static {
    this.ɵfac = function NativeDialogModule_Factory(t) {
      return new (t || NativeDialogModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeDialogModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NativeDialogService]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.exists(path);
  }
  static {
    this.ɵfac = function NSFileSystem_Factory(t) {
      return new (t || NSFileSystem)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSFileSystem,
      factory: NSFileSystem.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = viewContainerRef?.injector || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = viewContainerRef?.createComponent(detachedFactory) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = options.viewContainerRef?.injector || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef?.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
  static {
    this.ɵfac = function TextValueAccessor_Factory(t) {
      return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TextValueAccessor,
      selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
      hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
            return ctx.onTouched();
          })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
  static {
    this.ɵfac = function CheckedValueAccessor_Factory(t) {
      return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CheckedValueAccessor,
      selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
      hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
  static {
    this.ɵfac = function DateValueAccessor_Factory(t) {
      return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateValueAccessor,
      selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
      hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
  static {
    this.ɵfac = function TimeValueAccessor_Factory(t) {
      return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TimeValueAccessor,
      selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
      hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
  static {
    this.ɵfac = function NumberValueAccessor_Factory(t) {
      return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NumberValueAccessor,
      selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
      hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
  static {
    this.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
      return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: SelectedIndexValueAccessor,
      selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
      hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, null);
})();
class NativeScriptFormsModule {
  static {
    this.ɵfac = function NativeScriptFormsModule_Factory(t) {
      return new (t || NativeScriptFormsModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptFormsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_58__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_60__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_61__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  static {
    this.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_45__.CssAnimationProperty._getPropertyNames(), 'transform'];
  }
  getParentElement(element) {
    return element?.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
  static {
    this.ɵfac = function InjectableAnimationEngine_Factory(t) {
      return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: InjectableAnimationEngine,
      factory: InjectableAnimationEngine.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT]
      }]
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver
    }, {
      type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]
    }];
  }, null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
function instantiateRendererFactory(renderer, engine, zone) {
  return new _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵAnimationRendererFactory"](renderer, engine, zone);
}
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
  static {
    this.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
      return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptAnimationsModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptAnimationsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }],
      imports: [NativeScriptCommonModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      }, {
        provide: _angular_animations__WEBPACK_IMPORTED_MODULE_64__.AnimationBuilder,
        useClass: _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_63__["ɵBrowserAnimationBuilder"]
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }, {
        provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
        useFactory: instantiateRendererFactory,
        deps: [NativeScriptRendererFactory, _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"], _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone]
      }]
    }]
  }], function () {
    return [{
      type: NativeScriptAnimationsModule,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
      }, {
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }];
  }, null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
  static {
    this.ɵfac = function NsHttpBackEnd_Factory(t) {
      return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSFileSystem));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NsHttpBackEnd,
      factory: NsHttpBackEnd.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory
    }, {
      type: NSFileSystem
    }];
  }, null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {
  static {
    this.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
      return new (t || NativeScriptHttpClientModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptHttpClientModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_65__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}

const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && cache.peek()?.key === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = cache.pop()?.state;
        if (state?.componentRef) {
          destroyComponentRef(state?.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
  static {
    this.ɵfac = function NSRouteReuseStrategy_Factory(t) {
      return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSRouteReuseStrategy,
      factory: NSRouteReuseStrategy.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
  static {
    this.ɵfac = function RouterExtensions_Factory(t) {
      return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: RouterExtensions,
      factory: RouterExtensions.ɵfac,
      providedIn: 'root'
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: NSLocationStrategy
    }, {
      type: FrameService
    }];
  }, null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, {
      ...extras,
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
  static {
    this.ɵfac = function NSRouterLink_Factory(t) {
      return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLink,
      selectors: [["", "nsRouterLink", ""]],
      inputs: {
        target: "target",
        queryParams: "queryParams",
        fragment: "fragment",
        queryParamsHandling: "queryParamsHandling",
        preserveQueryParams: "preserveQueryParams",
        preserveFragment: "preserveFragment",
        skipLocationChange: "skipLocationChange",
        replaceUrl: "replaceUrl",
        clearHistory: "clearHistory",
        pageTransition: "pageTransition",
        pageTransitionDuration: "pageTransitionDuration",
        params: ["nsRouterLink", "params"]
      }
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], function () {
    return [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: RouterExtensions
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }];
  }, {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_52__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
  static {
    this.ɵfac = function NSRouterLinkActive_Factory(t) {
      return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLinkActive,
      selectors: [["", "nsRouterLinkActive", ""]],
      contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.links = _t);
        }
      },
      inputs: {
        nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
        nsRouterLinkActive: "nsRouterLinkActive"
      },
      exportAs: ["routerLinkActive"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
    }];
  }, {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!flags?.skipSelf && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (this.parentContexts.getContext(this.name)?.outlet === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    this.postNavFunction?.();
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    this.postNavFunction?.();
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    let children = this.parentContexts.getContext(this.name)?.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = {
      ...defaultNavOptions,
      ...(this.router.getCurrentNavigation().extras || {})
    };
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
  static {
    this.ɵfac = function PageRouterOutlet_Factory(t) {
      return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageRouterOutlet,
      selectors: [["page-router-outlet"]],
      outputs: {
        activateEvents: "activate",
        deactivateEvents: "deactivate"
      }
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['name']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['actionBarVisibility']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
        args: ['isEmptyOutlet']
      }]
    }, {
      type: NSLocationStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [PAGE_FACTORY]
      }]
    }, {
      type: NSRouteReuseStrategy
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
    }, {
      type: ViewUtil
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector
    }];
  }, {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
  static {
    this.ɵfac = function NativescriptPlatformLocation_Factory(t) {
      return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptPlatformLocation,
      factory: NativescriptPlatformLocation.ɵfac
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: NSLocationStrategy
    }];
  }, null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
  static {
    this.ɵfac = function NSEmptyOutletComponent_Factory(t) {
      return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: NSEmptyOutletComponent,
      selectors: [["ns-empty-outlet"]],
      viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
        }
      },
      decls: 1,
      vars: 0,
      consts: [["isEmptyOutlet", "true"]],
      template: function NSEmptyOutletComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "page-router-outlet", 0);
        }
      },
      dependencies: [PageRouterOutlet],
      encapsulation: 2
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], function () {
    return [{
      type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page
    }];
  }, {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forChild(routes).providers
    };
  }
  static {
    this.ɵfac = function NativeScriptRouterModule_Factory(t) {
      return new (t || NativeScriptRouterModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptRouterModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule]
    });
  }
}
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_66__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_67__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_67__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_67__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLjYyNjE5MGJmZDExMmM0Mjg4MWI5LmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUMweEI7QUFDL3hCO0FBQ3NtQjtBQUNsbEI7QUFDaEI7QUFDMEc7QUFDOUQ7QUFDVTtBQUN0RDtBQUN3SDtBQUNoRztBQUNUO0FBQ0g7QUFDc0Y7QUFDL0I7QUFDVztBQUFBLE1BQUF5SixHQUFBO0FBQUEsTUFBQUMsR0FBQTtBQUFBLE1BQUFDLEdBQUE7QUFBQSxTQUFBQyw2Q0FBQUMsRUFBQSxFQUFBQyxHQUFBO0VBQUEsSUFBQUQsRUFBQTtJQXFQbEI3RiwwREFBRSx3QkF1N0d1RyxDQUFDO0VBQUE7QUFBQTtBQUFBLFNBQUFnRyx5Q0FBQUgsRUFBQSxFQUFBQyxHQUFBO0VBQUEsSUFBQUQsRUFBQTtJQXY3RzFHN0YsMERBQUUsd0JBMDhHK0YsQ0FBQztFQUFBO0FBQUE7QUFBQSxTQUFBaUcsOENBQUFKLEVBQUEsRUFBQUMsR0FBQTtFQUFBLElBQUFELEVBQUE7SUExOEdsRzdGLDBEQUFFLHdCQSs5R3lHLENBQUM7RUFBQTtBQUFBO0FBbHRIaE4sTUFBTWtHLFlBQVksR0FBSUMsUUFBUSxJQUFLQSxRQUFRLENBQUNDLFdBQVcsQ0FBQ0MsSUFBSTtBQUM1RCxNQUFNQyxhQUFhLFNBQVNySyxvREFBSSxDQUFDO0VBQzdCbUssV0FBV0EsQ0FBQ0MsSUFBSSxHQUFHLEVBQUUsRUFBRTtJQUNuQixLQUFLLENBQUMsQ0FBQztJ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QVEsQ0FBQ2MsV0FBVyxDQUFDMXRDLE1BQU0sRUFBRS9LLEtBQUssQ0FBQztNQUNuQ21xQixJQUFJLENBQUMrc0IsaUJBQWlCLENBQUMsTUFBTS9zQixJQUFJLENBQUMyckIsT0FBTyxDQUFDemlDLElBQUksQ0FBQ3JULEtBQUssQ0FBQyxDQUFDO01BQ3RELE9BQU8sS0FBSztJQUNoQjtFQUNKLENBQUMsQ0FBQztBQUNOO0FBQ0EsU0FBU3UzQyxxQkFBcUJBLENBQUNwdEIsSUFBSSxFQUFFO0VBQ2pDLElBQUlBLElBQUksQ0FBQ2t1QixxQkFBcUIsSUFBSWx1QixJQUFJLENBQUNrc0IsMkJBQTJCLEtBQUssQ0FBQyxDQUFDLEVBQUU7SUFDdkVsc0IsSUFBSSxDQUFDc3JCLG9CQUFvQixHQUFHLElBQUk7RUFDcEMsQ0FBQyxNQUNJO0lBQ0R0ckIsSUFBSSxDQUFDc3JCLG9CQUFvQixHQUFHLEtBQUs7RUFDckM7QUFDSjtBQUNBLFNBQVNtQyxPQUFPQSxDQUFDenRCLElBQUksRUFBRTtFQUNuQkEsSUFBSSxDQUFDOHJCLFFBQVEsRUFBRTtFQUNmLElBQUk5ckIsSUFBSSxDQUFDdXJCLFFBQVEsRUFBRTtJQUNmdnJCLElBQUksQ0FBQ3VyQixRQUFRLEdBQUcsS0FBSztJQUNyQnZyQixJQUFJLENBQUN3ckIsVUFBVSxDQUFDdGlDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDOUI7QUFDSjtBQUNBLFNBQVMwa0MsT0FBT0EsQ0FBQzV0QixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQzhyQixRQUFRLEVBQUU7RUFDZmtCLFdBQVcsQ0FBQ2h0QixJQUFJLENBQUM7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUU4M0c7QUFDOTNHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vU2hvcHBlci8uL25vZGVfbW9kdWxlcy9AbmF0aXZlc2NyaXB0L2FuZ3VsYXIvZmVzbTIwMjIvbmF0aXZlc2NyaXB0LWFuZ3VsYXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGkxIGZyb20gJ0BuYXRpdmVzY3JpcHQvY29yZSc7XG5pbXBvcnQgeyBWaWV3LCBMYXlvdXRCYXNlLCBDb250ZW50VmlldywgUHJveHlWaWV3Q29udGFpbmVyLCBQYWdlLCBwbGF0Zm9ybU5hbWVzLCBHcmlkTGF5b3V0LCBBcHBsaWNhdGlvbiwgVHJhY2UsIEZvcm1hdHRlZFN0cmluZywgU3BhbiwgQWJzb2x1dGVMYXlvdXQsIEFjdGl2aXR5SW5kaWNhdG9yLCBCdXR0b24sIERhdGVQaWNrZXIsIERvY2tMYXlvdXQsIEZyYW1lLCBIdG1sVmlldywgSW1hZ2UsIExhYmVsLCBMaXN0UGlja2VyLCBMaXN0VmlldywgUGxhY2Vob2xkZXIsIFByb2dyZXNzLCBSZXBlYXRlciwgUm9vdExheW91dCwgU2Nyb2xsVmlldywgU2VhcmNoQmFyLCBTZWdtZW50ZWRCYXIsIFNlZ21lbnRlZEJhckl0ZW0sIFNsaWRlciwgU3RhY2tMYXlvdXQsIEZsZXhib3hMYXlvdXQsIFN3aXRjaCwgVGFiVmlldywgVGV4dEZpZWxkLCBUZXh0VmlldywgVGltZVBpY2tlciwgV2ViVmlldywgV3JhcExheW91dCwgdW5zZXRWYWx1ZSwgcHJvZmlsZSwgYWRkVGFnZ2VkQWRkaXRpb25hbENTUywgZ2V0Vmlld0J5SWQsIE9ic2VydmFibGUsIEFjdGlvbkl0ZW0sIE5hdmlnYXRpb25CdXR0b24sIEFjdGlvbkJhciwgT2JzZXJ2YWJsZUFycmF5LCBUYWJWaWV3SXRlbSwgQ29sb3IsIERldmljZSwgVXRpbHMsIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1MsIGtub3duRm9sZGVycywgRmlsZSwgS2V5ZnJhbWVBbmltYXRpb24sIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyLCBwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zLCBDU1NIZWxwZXIsIENzc0FuaW1hdGlvblByb3BlcnR5LCBlYWNoRGVzY2VuZGFudCwgcGF0aCB9IGZyb20gJ0BuYXRpdmVzY3JpcHQvY29yZSc7XG5pbXBvcnQgKiBhcyBpMCBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEluamVjdGlvblRva2VuLCBJbmplY3QsIENvbXBvbmVudFJlZiwgSW5qZWN0YWJsZSwgVmlld0VuY2Fwc3VsYXRpb24sIE9wdGlvbmFsLCBFbGVtZW50UmVmLCBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBOZ01vZHVsZSwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBBcHBsaWNhdGlvblJlZiwgSW5qZWN0b3IsIFZpZXdDb250YWluZXJSZWYsIENvbXBvbmVudCwgVmlld0NoaWxkLCBJbnB1dCwgaW5qZWN0LCBJdGVyYWJsZURpZmZlcnMsIENoYW5nZURldGVjdG9yUmVmLCBmb3J3YXJkUmVmLCBUZW1wbGF0ZVJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbnRlbnRDaGlsZCwgSG9zdExpc3RlbmVyLCBIb3N0LCBOT19FUlJPUlNfU0NIRU1BLCBFcnJvckhhbmRsZXIsIFNraXBTZWxmLCDJtUlOSkVDVE9SX1NDT1BFLCBSZW5kZXJlckZhY3RvcnkyLCBBcHBsaWNhdGlvbk1vZHVsZSwgUGxhdGZvcm1SZWYsIE5nTW9kdWxlUmVmLCDJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24sIE5nWm9uZSwgU2FuaXRpemVyLCBjcmVhdGVQbGF0Zm9ybUZhY3RvcnksIHBsYXRmb3JtQ29yZSwgQ29udGVudENoaWxkcmVuLCBJbmplY3RGbGFncywgQXR0cmlidXRlLCBpc0Rldk1vZGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IF9fZGVjb3JhdGUsIF9fcGFyYW0sIF9fbWV0YWRhdGEgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgKiBhcyBpMSQxIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBYaHJGYWN0b3J5LCBMb2NhdGlvblN0cmF0ZWd5LCBDb21tb25Nb2R1bGUsIFZpZXdwb3J0U2Nyb2xsZXIsIMm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIsIERPQ1VNRU5ULCBQbGF0Zm9ybUxvY2F0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IGZpbHRlciwgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgdGFrZSwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCBmcm9tRXZlbnQsIGRlZmVyLCBPYnNlcnZhYmxlIGFzIE9ic2VydmFibGUkMSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0ICogYXMgaTEkMyBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgRGVmYXVsdFVybFNlcmlhbGl6ZXIsIFBSSU1BUllfT1VUTEVULCBOYXZpZ2F0aW9uRW5kLCBBY3RpdmF0ZWRSb3V0ZSwgQ2hpbGRyZW5PdXRsZXRDb250ZXh0cywgUm91dGVyTW9kdWxlLCBSb3V0ZVJldXNlU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IsIEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0ICogYXMgaTEkMiBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zL2Jyb3dzZXInO1xuaW1wb3J0IHsgybVBbmltYXRpb25FbmdpbmUsIMm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciwgQW5pbWF0aW9uRHJpdmVyLCDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMvYnJvd3Nlcic7XG5pbXBvcnQgeyDJtUFuaW1hdGlvblJlbmRlcmVyRmFjdG9yeSwgybVCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBIdHRwWGhyQmFja2VuZCwgSHR0cFJlc3BvbnNlLCBIdHRwRXJyb3JSZXNwb25zZSwgSHR0cENsaWVudE1vZHVsZSwgSHR0cEJhY2tlbmQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmNvbnN0IGdldENsYXNzTmFtZSA9IChpbnN0YW5jZSkgPT4gaW5zdGFuY2UuY29uc3RydWN0b3IubmFtZTtcbmNsYXNzIEludmlzaWJsZU5vZGUgZXh0ZW5kcyBWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJycpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5ub2RlVHlwZSA9IDE7XG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSBnZXRDbGFzc05hbWUodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ub2RlTmFtZX0oJHt0aGlzLmlkfSktJHt0aGlzLm5hbWV9YDtcbiAgICB9XG59XG5jbGFzcyBDb21tZW50Tm9kZSBleHRlbmRzIEludmlzaWJsZU5vZGUge1xuICAgIHN0YXRpYyB7IHRoaXMuaWQgPSAwOyB9XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLm1ldGEgPSB7XG4gICAgICAgICAgICBza2lwQWRkVG9Eb206IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWQgPSBDb21tZW50Tm9kZS5pZC50b1N0cmluZygpO1xuICAgICAgICBDb21tZW50Tm9kZS5pZCArPSAxO1xuICAgIH1cbn1cbmNsYXNzIFRleHROb2RlIGV4dGVuZHMgSW52aXNpYmxlTm9kZSB7XG4gICAgc3RhdGljIHsgdGhpcy50ZXh0Q2hhbmdlRXZlbnQgPSAndGV4dENoYW5nZSc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLmlkID0gMDsgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG4gICAgc2V0IHRleHQodCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdDtcbiAgICAgICAgdGhpcy5ub3RpZnkoeyBldmVudE5hbWU6IFRleHROb2RlLnRleHRDaGFuZ2VFdmVudCwgb2JqZWN0OiB0aGlzLCB2YWx1ZTogdCB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gJyc7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tZXRhID0ge1xuICAgICAgICAgICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gVGV4dE5vZGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgVGV4dE5vZGUuaWQgKz0gMTtcbiAgICB9XG4gICAgcmVnaXN0ZXJUZXh0Q2hhbmdlKGNhbGxiYWNrLCBpZCkge1xuICAgICAgICBjb25zdCBjYiA9IChldnQpID0+IGNhbGxiYWNrKGV2dC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNiQXJyID0gdGhpcy5jYWxsYmFja01hcC5nZXQoaWQpIHx8IFtdO1xuICAgICAgICBjYkFyci5wdXNoKGNiKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja01hcC5zZXQoaWQsIGNiQXJyKTtcbiAgICAgICAgdGhpcy5vbigndGV4dENoYW5nZScsIGNiKTtcbiAgICB9XG4gICAgdW5yZWdpc3RlclRleHRDaGFuZ2UoaWQpIHtcbiAgICAgICAgY29uc3QgY2JBcnIgPSB0aGlzLmNhbGxiYWNrTWFwLmdldChpZCkgfHwgW107XG4gICAgICAgIGNiQXJyLmZvckVhY2goKGNiKSA9PiB0aGlzLm9mZigndGV4dENoYW5nZScsIGNiKSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAuZGVsZXRlKGlkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRGV0YWNoZWRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50Lm1ldGEgJiYgZWxlbWVudC5tZXRhLnNraXBBZGRUb0RvbTtcbn1cbmZ1bmN0aW9uIGlzVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBWaWV3O1xufVxuZnVuY3Rpb24gaXNJbnZpc2libGVOb2RlKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGU7XG59XG5mdW5jdGlvbiBpc0xheW91dCh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlO1xufVxuZnVuY3Rpb24gaXNDb250ZW50Vmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBDb250ZW50Vmlldztcbn1cbmZ1bmN0aW9uIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldywgZXh0cmFjdEZyb21OU1BhcmVudCA9IGZhbHNlKSB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3LmdldENoaWxkQXQoMCkpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFjdEZyb21OU1BhcmVudCkge1xuICAgICAgICBjb25zdCBub2RlID0gdmlldy5wYXJlbnROb2RlO1xuICAgICAgICBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KTtcbiAgICAgICAgdmlldy5wYXJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG5mdW5jdGlvbiBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdmlldz8ucGFyZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKSB7XG4gICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKHBhcmVudCwgdmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkgJiYgcGFyZW50LmNvbnRlbnQgPT09IHZpZXcpIHtcbiAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1ZpZXcocGFyZW50KSkge1xuICAgICAgICBwYXJlbnQuX3JlbW92ZVZpZXcodmlldyk7XG4gICAgfVxufVxuXG5jb25zdCBBUFBfUk9PVF9WSUVXID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRBcHBSb290VmlldycpO1xuY29uc3QgTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRSb290TW9kdWxlSWQnKTtcbmNvbnN0IFNUQVJUX1BBVEggPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFN0YXJ0UGF0aCcpO1xuY29uc3QgRU5BQkxFX1JFVVNBQkVfVklFV1MgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdEVuYWJsZVJldXNhYmxlVmlld3MnKTtcbmNvbnN0IERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHREaXNhYmxlUm9vdFZpZXdIYW5kbGluZycpO1xuY29uc3QgREVWSUNFID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHREZXZpY2UnKTtcbmNvbnN0IFBBR0VfRkFDVE9SWSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0UGFnZUZhY3RvcnknKTtcbmNvbnN0IGRlZmF1bHRQYWdlRmFjdG9yeSA9IGZ1bmN0aW9uIChfb3B0cykge1xuICAgIHJldHVybiBuZXcgUGFnZSgpO1xufTtcblxubGV0IFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyID0gY2xhc3MgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcbiAgICB9XG4gICAgcnVuc0luKG5hbWVzcGFjZSwgbmV4dCkge1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5hbmRyb2lkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09ICdpb3MnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuaW9zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KG5hbWVzcGFjZSk7XG4gICAgfVxufTtcblBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJbmplY3QoREVWSUNFKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3RdKVxuXSwgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIpO1xuY29uc3QgTkFNRVNQQUNFX0ZJTFRFUlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdE5hbWVzcGFjZUZpbHRlcicpO1xuXG5jbGFzcyBOZ1ZpZXdSZWYge1xuICAgIGNvbnN0cnVjdG9yKHJlZikge1xuICAgICAgICB0aGlzLnJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy52aWV3ID0gcmVmIGluc3RhbmNlb2YgQ29tcG9uZW50UmVmID8gcmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQgOiByZWYucm9vdE5vZGVzLmZpbmQoKHYpID0+ICEodiBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICAgICAgdGhpcy5maXJzdE5hdGl2ZUxpa2VWaWV3ID0gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh0aGlzLnZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hOYXRpdmVMaWtlVmlldygpIHtcbiAgICAgICAgZGV0YWNoVmlld0Zyb21QYXJlbnQodGhpcy5maXJzdE5hdGl2ZUxpa2VWaWV3KTtcbiAgICB9XG59XG5cbmNsYXNzIEFwcEhvc3RWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICAgIGdldCBuZ0FwcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZ0FwcFJvb3Q7XG4gICAgfVxuICAgIHNldCBuZ0FwcFJvb3QodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmdBcHBSb290ID0gdmFsdWU7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBnZXQgY29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gICAgfVxuICAgIHNldCBjb250ZW50KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnBhcmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGVudCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQucGFyZW50Tm9kZSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZ0FwcFJvb3QgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZExheW91dCgpO1xuICAgICAgICAgICAgZ3JpZC5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIGdyaWQuYWRkQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLm5nQXBwUm9vdCA9IGdyaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmdBcHBSb290KSB7XG4gICAgICAgICAgICAvLyBtYXliZSB1c2UgdGhpcyBhcHByb2FjaFxuICAgICAgICAgICAgLy8gdGhpcy5zY2hlZHVsZVJvb3RDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY2hlZHVsZVJvb3RDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMubmdBcHBSb290KTtcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiAoKSA9PiB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gLTE7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEFwcEhvc3RBc3luY1ZpZXcgZXh0ZW5kcyBHcmlkTGF5b3V0IHtcbiAgICBjb25zdHJ1Y3RvcihiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICAgIGdldCBuZ0FwcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXQgbmdBcHBSb290KHZhbHVlKSB7XG4gICAgICAgIC8vIGlnbm9yZWRcbiAgICB9XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkID0gbmV3IEJlaGF2aW9yU3ViamVjdChmYWxzZSk7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0cnVlKTtcbiAgICAgICAgdGhpcy5vbk1haW5Nb2R1bGVSZWFkeSQgPSB0aGlzLm1haW5Nb2R1bGVSZWFkeSQucGlwZShmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkZWxheXMgZGVzdHJveWluZyB0aGlzIG1vZHVsZSB1bnRpbCBgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKWAuXG4gICAgICogcmVtZW1iZXIgdG8gY2FsbCBgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKWAgd2hlbiBkb25lIVxuICAgICAqL1xuICAgIHdhaXRVbnRpbE5vdGlmaWVkKCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5uZXh0KGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbm90aWZpZXMgdGhpcyBtb2R1bGUgaXMgcmVhZHkgdG8gYmUgZGVzdHJveWVkXG4gICAgICovXG4gICAgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLm5leHQodHJ1ZSk7XG4gICAgfVxuICAgIGlzTWFpbk1vZHVsZVJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWluTW9kdWxlUmVhZHkkLnZhbHVlO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY2lvbiBpcyBjYWxsZWQgYnkgdGhlIGJvb3RzdHJhcCBjb2RlIHdoZW4gdGhlIGFwcCBpcyByZWFkeVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9ub3RpZnlNYWluTW9kdWxlUmVhZHkoKSB7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JC5uZXh0KHRydWUpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIHByb3ZpZGVkSW46ICdyb290JyB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgTmF0aXZlU2NyaXB0RGVidWcge1xuICAgIHN0YXRpYyB7IHRoaXMuYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkgPSAnbnMtYW5pbWF0aW9ucyc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSA9ICducy1yZW5kZXJlcic7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnZpZXdVdGlsQ2F0ZWdvcnkgPSAnbnMtdmlldy11dGlsJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMucm91dGVyVHJhY2VDYXRlZ29yeSA9ICducy1yb3V0ZXInOyB9XG4gICAgc3RhdGljIHsgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5ID0gJ25zLXJvdXRlLXJldXNlLXN0cmF0ZWd5JzsgfVxuICAgIHN0YXRpYyB7IHRoaXMubGlzdFZpZXdUcmFjZUNhdGVnb3J5ID0gJ25zLWxpc3Qtdmlldyc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLmJvb3RzdHJhcENhdGVnb3J5ID0gJ2Jvb3RzdHJhcCc7IH1cbiAgICAvLyBUT0RPOiBtaWdyYXRlIGFsbCB1c2FnZSB0byB0aGlzIC0gYXZvaWRzIGV4dHJhbmVvdXMgbWV0aG9kIGV4ZWN1dGlvbnNcbiAgICBzdGF0aWMgeyB0aGlzLmVuYWJsZWQgPSBUcmFjZS5pc0VuYWJsZWQoKTsgfVxuICAgIHN0YXRpYyBpc0xvZ0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBUcmFjZS5pc0VuYWJsZWQoKTtcbiAgICB9XG4gICAgc3RhdGljIGFuaW1hdGlvbnNMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByZW5kZXJlckxvZyhtc2cpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobXNnLCBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVuZGVyZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgdmlld1V0aWxMb2cobXNnKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1zZywgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZXJMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlckVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVSZXVzZVN0cmF0ZWd5TG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyBzdHlsZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgVHJhY2UuY2F0ZWdvcmllcy5TdHlsZSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbn1cblxuY2xhc3MgTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSBleHRlbmRzIFhockZhY3Rvcnkge1xuICAgIGJ1aWxkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogbnVsbCwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dIH0pO1xuXG5jb25zdCBmcmFtZU1ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgIC8vIFBhZ2UgY2Fubm90IGJlIGFkZGVkIHRvIEZyYW1lIHdpdGggX2FkZENoaWxkRnJvbUJ1aWxkZXIgKHRod29zIFwidXNlIGRlZmF1bHRQYWdlXCIgZXJyb3IpXG4gICAgICAgIGlmIChpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICBwYXJlbnQubmF2aWdhdGUoeyBjcmVhdGU6ICgpID0+IGNoaWxkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IGEgUGFnZSBjYW4gYmUgYSBjaGlsZCBvZiBGcmFtZScpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5jb25zdCBmb3JtYXR0ZWRTdHJpbmdNZXRhID0ge1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuc3BhbnMuaW5kZXhPZihuZXh0KTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5wdXNoKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5zcGFucy5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5jb25zdCB0ZXh0QmFzZU1ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBGb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA/Pz0gbmV3IEZvcm1hdHRlZFN0cmluZygpO1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nTWV0YS5pbnNlcnRDaGlsZChwYXJlbnQuZm9ybWF0dGVkVGV4dCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmICghcGFyZW50LmZvcm1hdHRlZFRleHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEZvcm1hdHRlZFN0cmluZykge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5mb3JtYXR0ZWRUZXh0ID09PSBjaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNwYW4pIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZ01ldGEucmVtb3ZlQ2hpbGQocGFyZW50LmZvcm1hdHRlZFRleHQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG5jb25zdCBlbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuY29uc3QgY2FtZWxDYXNlU3BsaXQgPSAvKFthLXowLTldKShbQS1aXSkvZztcbmNvbnN0IGRlZmF1bHRWaWV3TWV0YSA9IHsgc2tpcEFkZFRvRG9tOiBmYWxzZSB9O1xuZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KGVsZW1lbnROYW1lLCByZXNvbHZlciwgbWV0YSkge1xuICAgIGNvbnN0IGVudHJ5ID0geyByZXNvbHZlciwgbWV0YSB9O1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLCBlbnRyeSk7XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSwgZW50cnkpO1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLnJlcGxhY2UoY2FtZWxDYXNlU3BsaXQsICckMS0kMicpLnRvTG93ZXJDYXNlKCksIGVudHJ5KTtcbn1cbmZ1bmN0aW9uIGdldFZpZXdDbGFzcyhlbGVtZW50TmFtZSkge1xuICAgIGNvbnN0IGVudHJ5ID0gZWxlbWVudE1hcC5nZXQoZWxlbWVudE5hbWUpIHx8IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8ga25vd24gY29tcG9uZW50IGZvciBlbGVtZW50ICR7ZWxlbWVudE5hbWV9LmApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZW50cnkucmVzb2x2ZXIoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgQ291bGQgbm90IGxvYWQgdmlldyBmb3I6ICR7ZWxlbWVudE5hbWV9LiR7ZX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRWaWV3TWV0YShub2RlTmFtZSkge1xuICAgIGNvbnN0IGVudHJ5ID0gZWxlbWVudE1hcC5nZXQobm9kZU5hbWUpIHx8IGVsZW1lbnRNYXAuZ2V0KG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiAoZW50cnkgJiYgZW50cnkubWV0YSkgfHwgZGVmYXVsdFZpZXdNZXRhO1xufVxuZnVuY3Rpb24gaXNLbm93blZpZXcoZWxlbWVudE5hbWUpIHtcbiAgICByZXR1cm4gZWxlbWVudE1hcC5oYXMoZWxlbWVudE5hbWUpIHx8IGVsZW1lbnRNYXAuaGFzKGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCkge1xuICAgIGNvbnN0IGFjdHVhbE5vZGVzID0gbm9kZXMuZmlsdGVyKChub2RlKSA9PiAhKG5vZGUgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgaWYgKGFjdHVhbE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1aXRhYmxlIHZpZXdzIGZvdW5kIGluIGxpc3QgdGVtcGxhdGUhIGAgKyBgTmVzdGluZyBsZXZlbDogJHtuZXN0TGV2ZWx9YCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjdHVhbE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNb3JlIHRoYW4gb25lIHZpZXcgZm91bmQgaW4gbGlzdCB0ZW1wbGF0ZSFgICsgYE5lc3RpbmcgbGV2ZWw6ICR7bmVzdExldmVsfWApO1xuICAgIH1cbiAgICBjb25zdCByb290TGF5b3V0ID0gYWN0dWFsTm9kZXNbMF07XG4gICAgaWYgKCFyb290TGF5b3V0KSB7XG4gICAgICAgIHJldHVybiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShyb290TGF5b3V0LmNoaWxkcmVuLCBuZXN0TGV2ZWwgKyAxKTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50TGF5b3V0ID0gcm9vdExheW91dC5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudExheW91dCBpbnN0YW5jZW9mIExheW91dEJhc2UpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHJvb3RMYXlvdXQucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50TGF5b3V0LnJlbW92ZUNoaWxkKHJvb3RMYXlvdXQpO1xuICAgICAgICByb290TGF5b3V0LnBhcmVudE5vZGUgPSBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdExheW91dDtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZSBpcyBkZXByZWNhdGVkLCB1c2UgZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmVcbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKSB7XG4gICAgcmV0dXJuIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpO1xufVxuXG4vLyBSZWdpc3RlciBkZWZhdWx0IE5hdGl2ZVNjcmlwdCBjb21wb25lbnRzXG4vLyBOb3RlOiBBY3Rpb25CYXIgcmVsYXRlZCBjb21wb25lbnRzIGFyZSByZWdpc3RlcmQgdG9nZXRoZXIgd2l0aCBhY3Rpb24tYmFyIGRpcmVjdGl2ZXMuXG5mdW5jdGlvbiByZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzKCkge1xuICAgIGlmICghZ2xvYmFsLl9fbmdSZWdpc3RlcmVkVmlld3MpIHtcbiAgICAgICAgZ2xvYmFsLl9fbmdSZWdpc3RlcmVkVmlld3MgPSB0cnVlO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0Fic29sdXRlTGF5b3V0JywgKCkgPT4gQWJzb2x1dGVMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0FjdGl2aXR5SW5kaWNhdG9yJywgKCkgPT4gQWN0aXZpdHlJbmRpY2F0b3IpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0J1dHRvbicsICgpID0+IEJ1dHRvbiwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdDb250ZW50VmlldycsICgpID0+IENvbnRlbnRWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdEYXRlUGlja2VyJywgKCkgPT4gRGF0ZVBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRG9ja0xheW91dCcsICgpID0+IERvY2tMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ZyYW1lJywgKCkgPT4gRnJhbWUsIGZyYW1lTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnR3JpZExheW91dCcsICgpID0+IEdyaWRMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0h0bWxWaWV3JywgKCkgPT4gSHRtbFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ltYWdlJywgKCkgPT4gSW1hZ2UpO1xuICAgICAgICAvLyBQYXJzZTUgY2hhbmdlcyA8SW1hZ2U+IHRhZ3MgdG8gPGltZz4uIFdURiFcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdpbWcnLCAoKSA9PiBJbWFnZSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGFiZWwnLCAoKSA9PiBMYWJlbCwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMaXN0UGlja2VyJywgKCkgPT4gTGlzdFBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGlzdFZpZXcnLCAoKSA9PiBMaXN0Vmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUGFnZScsICgpID0+IFBhZ2UpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1BsYWNlaG9sZGVyJywgKCkgPT4gUGxhY2Vob2xkZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Byb2dyZXNzJywgKCkgPT4gUHJvZ3Jlc3MpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Byb3h5Vmlld0NvbnRhaW5lcicsICgpID0+IFByb3h5Vmlld0NvbnRhaW5lcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUmVwZWF0ZXInLCAoKSA9PiBSZXBlYXRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUm9vdExheW91dCcsICgpID0+IFJvb3RMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Njcm9sbFZpZXcnLCAoKSA9PiBTY3JvbGxWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWFyY2hCYXInLCAoKSA9PiBTZWFyY2hCYXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlZ21lbnRlZEJhcicsICgpID0+IFNlZ21lbnRlZEJhcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VnbWVudGVkQmFySXRlbScsICgpID0+IFNlZ21lbnRlZEJhckl0ZW0pO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NsaWRlcicsICgpID0+IFNsaWRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3RhY2tMYXlvdXQnLCAoKSA9PiBTdGFja0xheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRmxleGJveExheW91dCcsICgpID0+IEZsZXhib3hMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1N3aXRjaCcsICgpID0+IFN3aXRjaCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGFiVmlldycsICgpID0+IFRhYlZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RleHRGaWVsZCcsICgpID0+IFRleHRGaWVsZCwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUZXh0VmlldycsICgpID0+IFRleHRWaWV3LCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RpbWVQaWNrZXInLCAoKSA9PiBUaW1lUGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdXZWJWaWV3JywgKCkgPT4gV2ViVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnV3JhcExheW91dCcsICgpID0+IFdyYXBMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0Zvcm1hdHRlZFN0cmluZycsICgpID0+IEZvcm1hdHRlZFN0cmluZywgZm9ybWF0dGVkU3RyaW5nTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3BhbicsICgpID0+IFNwYW4pO1xuICAgIH1cbn1cblxuLy8gTm90ZTogdGhpcyB1dGlsaXR5IGV4aXN0cyBmcm9tIGRlZXAgY29yZSBpbXBvcnQgaG93ZXZlciByZXN1bHRzIGluXG4vLyBNb2R1bGUgbm90IGZvdW5kOiBFcnJvcjogQ2FuJ3QgcmVzb2x2ZSAnQG5hdGl2ZXNjcmlwdC9jb3JlL3VpL2NvcmUvcHJvcGVydGllcydcbmZ1bmN0aW9uIGlzQ3NzVmFyaWFibGUocHJvcGVydHkpIHtcbiAgICByZXR1cm4gL14tLVteLFxcc10rPyQvLnRlc3QocHJvcGVydHkpO1xufVxuY29uc3QgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xuY29uc3QgWE1MX0FUVFJJQlVURVMgPSBPYmplY3QuZnJlZXplKFsnc3R5bGUnLCAncm93cycsICdjb2x1bW5zJywgJ2ZvbnRBdHRyaWJ1dGVzJ10pO1xuY29uc3Qgd2hpdGVTcGFjZVNwbGl0dGVyID0gL1xccysvO1xuZnVuY3Rpb24gcHJpbnROZ1RyZWUodmlldykge1xuICAgIGxldCBwYXJlbnQgPSB2aWV3O1xuICAgIHdoaWxlIChwYXJlbnQucGFyZW50ICYmIHBhcmVudC5wYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICBwcmludENoaWxkcmVuUmVjdXJzZShwYXJlbnQpO1xufVxuZnVuY3Rpb24gcHJpbnRDaGlsZHJlblJlY3Vyc2UocGFyZW50KSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnQuZmlyc3RDaGlsZCA/IFtwYXJlbnQuZmlyc3RDaGlsZCwgLi4uZ2V0Q2hpbGRyZW5TaWJsaW5ncyhwYXJlbnQuZmlyc3RDaGlsZCkubmV4dFNpYmxpbmdzXSA6IFtdO1xuICAgIGNvbnNvbGUubG9nKGBwYXJlbnQ6ICR7cGFyZW50fSwgZmlyc3RDaGlsZDogJHtwYXJlbnQuZmlyc3RDaGlsZH0sIGxhc3RDaGlsZDogJHtwYXJlbnQubGFzdENoaWxkfSBjaGlsZHJlbjogJHtjaGlsZHJlbn1gKTtcbiAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYC0tLS0tIHN0YXJ0ICR7cGFyZW50fWApO1xuICAgIH1cbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBwcmludENoaWxkcmVuUmVjdXJzZShjKSk7XG4gICAgaWYgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtLS0tLSBlbmQgJHtwYXJlbnR9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5TaWJsaW5ncyh2aWV3KSB7XG4gICAgY29uc3QgbmV4dFNpYmxpbmdzID0gW107XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5ncyA9IFtdO1xuICAgIGxldCBzaWJsaW5nID0gdmlldy5uZXh0U2libGluZztcbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICBuZXh0U2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHNpYmxpbmcgPSB2aWV3LnByZXZpb3VzU2libGluZztcbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICBwcmV2aW91c1NpYmxpbmdzLnB1c2goc2libGluZyk7XG4gICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJldmlvdXNTaWJsaW5ncyxcbiAgICAgICAgbmV4dFNpYmxpbmdzLFxuICAgIH07XG59XG5mdW5jdGlvbiBwcmludFNpYmxpbmdzVHJlZSh2aWV3KSB7XG4gICAgY29uc3QgeyBwcmV2aW91c1NpYmxpbmdzLCBuZXh0U2libGluZ3MgfSA9IGdldENoaWxkcmVuU2libGluZ3Modmlldyk7XG4gICAgY29uc29sZS5sb2coYCR7dmlld30gcHJldmlvdXNTaWJsaW5nczogJHtwcmV2aW91c1NpYmxpbmdzfSBuZXh0U2libGluZ3M6ICR7bmV4dFNpYmxpbmdzfWApO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmNvbnN0IHByb3BlcnR5TWFwcyA9IG5ldyBNYXAoKTtcbmNsYXNzIFZpZXdVdGlsIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSBjaGlsZCBpbnRvIGEgcGFycmVudCwgcHJlZmVyYWJseSBiZWZvcmUgbmV4dC5cbiAgICAgKiBAcGFyYW0gcGFyZW50IHBhcmVudCB2aWV3XG4gICAgICogQHBhcmFtIGNoaWxkIGNoaWxkIHZpZXcgdG8gYmUgYWRkZWRcbiAgICAgKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgZWxlbWVudC4gSWYgcHJlc2VudCwgaW5zZXJ0IGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIG5leHQgbmV4dCBlbGVtZW50LiBJZiBwcmVzZW50LCBpbnNlcnQgYmVmb3JlIHRoaXMgKHByZXZpb3VzIGlzIGlnbm9yZWQpLlxuICAgICAqL1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5kZWRQYXJlbnQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocGFyZW50KTtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRDaGlsZCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhjaGlsZCk7XG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGVudGVyLCBhcyBhbmd1bGFyIGlzIHN1cHBvc2VkIHRvIHJlbW92ZSB0aGUgY2hpbGQgZnJvbSB0aGUgcHJldmlvdXMgcGFyZW50IGJlZm9yZSBjYWxsaW5nIHRoaXNcbiAgICAgICAgLy8gYnV0IHdoZW4gYW5ndWxhciBhbmltYXRpb25zIGFyZSBlbmFibGVkLCB0aGUgcmVtb3ZhbCBtaWdodCBiZSBkZWxheWVkLCBzbyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGlzIHZpZXcgaXMgbm90IGFueXdoZXJlXG4gICAgICAgIC8vIHRoaXMgc2VlbXMgdG8gb25seSBoYXBwZW5zIHRvIENvbW1lbnROb2Rlc1xuICAgICAgICBpZiAoZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhIG5leHQgY2hpbGQsIHByZXZpb3VzIGlzIHRoZSBwcmV2aW91c1NpYmxpbmcgb2YgaXRcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gbmV4dC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cywgbmV4dCBpcyB0aGUgbmV4dFNpYmxpbmcgb2YgaXRcbiAgICAgICAgICAgIG5leHQgPSBwcmV2aW91cy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHByZXZpb3VzIG9yIG5leHQsIGFwcGVuZCB0byB0aGUgcGFyZW50XG4gICAgICAgICAgICBwcmV2aW91cyA9IGV4dGVuZGVkUGFyZW50Lmxhc3RDaGlsZDsgLy8gdGhpcyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkIGlmIHRoZSBwYXJlbnQgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0SW5MaXN0KGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBwcmV2aW91cywgbmV4dCk7XG4gICAgICAgIGlmIChpc0RldGFjaGVkRWxlbWVudChjaGlsZCkgfHwgaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlID0gZXh0ZW5kZWRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0RldGFjaGVkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICAgICAgdGhpcy5hZGRUb1Zpc3VhbFRyZWUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIG5leHRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW52aXNpYmxlTm9kZShleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgICAgICB0aGlzLmFkZEludmlzaWJsZU5vZGUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIG5leHRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByaW50TmdUcmVlKGV4dGVuZGVkQ2hpbGQpO1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBjaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRSZWYgPSByZWZDaGlsZCA/IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhyZWZDaGlsZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgdW5kZWZpbmVkLCBleHRlbmRlZFJlZik7XG4gICAgfVxuICAgIGluc2VydEFmdGVyKHBhcmVudCwgY2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUmVmID0gcmVmQ2hpbGQgPyB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocmVmQ2hpbGQpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIGV4dGVuZGVkUmVmKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgdmlldyBpbnRvIHRoZSBwYXJlbnQvc2libGluZyBsaW5rZWQgbGlzdFxuICAgICAqICFXQVJOSU5HOiB0aGlzIG1ldGhvZCBtYWtlcyBubyBjaGVja3MgdG8gdmFsaWRhdGUgdGhlIGludGVncml0eSBvZiBwcmV2aW91cy9uZXh0IGNoaWxkcmVuXG4gICAgICogQHBhcmFtIHBhcmVudCBwYXJlbnQgdmlld1xuICAgICAqIEBwYXJhbSBjaGlsZCBjaGlsZCB2aWV3XG4gICAgICogQHBhcmFtIHByZXZpb3VzIHByZXZpb3VzIGVsZW1lbnQuIG51bGwvdW5kZWZpbmVkIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICogQHBhcmFtIG5leHQgbmV4dCBlbGVtZW50LiBudWxsL3VuZGVmaW5lZCBmb3IgbGFzdCBlbGVtZW50XG4gICAgICovXG4gICAgaW5zZXJ0SW5MaXN0KHBhcmVudCwgY2hpbGQsIHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmluc2VydEluTGlzdCBwYXJlbnQ6ICR7cGFyZW50fSwgdmlldzogJHtjaGlsZH0sIGAgKyBgcHJldmlvdXM6ICR7cHJldmlvdXN9LCBuZXh0OiAke25leHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0U2libGluZyA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG5leHQ7XG4gICAgICAgICAgICBuZXh0LnByZXZpb3VzU2libGluZyA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRvVmlzdWFsVHJlZShwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmFkZFRvVmlzdWFsVHJlZSBwYXJlbnQ6ICR7cGFyZW50fSwgdmlldzogJHtjaGlsZH0sIG5leHQ6ICR7bmV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEuaW5zZXJ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0VG9MYXlvdXQocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuY29udGVudCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCAmJiBwYXJlbnQuX2FkZENoaWxkRnJvbUJ1aWxkZXIpIHtcbiAgICAgICAgICAgIHBhcmVudC5fYWRkQ2hpbGRGcm9tQnVpbGRlcihjaGlsZC5ub2RlTmFtZSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAocGFyZW50Lm1ldGE/Lmluc2VydEludmlzaWJsZU5vZGUpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLmluc2VydEludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC50ZXh0ID0gY2hpbGQudGV4dDtcbiAgICAgICAgICAgICAgICBjaGlsZC5yZWdpc3RlclRleHRDaGFuZ2UoKHQpID0+IChwYXJlbnQudGV4dCA9IHQpLCBwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGluc2VydFRvTGF5b3V0KHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICBpZiAobmV4dFZpc3VhbCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChuZXh0VmlzdWFsKTtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRDaGlsZChjaGlsZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJlbnQuZWFjaENoaWxkKChjKSA9PiB7Y29uc29sZS5sb2coYyk7IHJldHVybiB0cnVlfSk7XG4gICAgfVxuICAgIGZpbmROZXh0VmlzdWFsKHZpZXcpIHtcbiAgICAgICAgbGV0IG5leHQgPSB2aWV3O1xuICAgICAgICB3aGlsZSAobmV4dCAmJiBpc0RldGFjaGVkRWxlbWVudChuZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlQ2hpbGQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbmRlZFBhcmVudCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhwYXJlbnQpO1xuICAgICAgICBjb25zdCBleHRlbmRlZENoaWxkID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKGNoaWxkKTtcbiAgICAgICAgZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW1vdmVGcm9tTGlzdChleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIGlmICghaXNEZXRhY2hlZEVsZW1lbnQoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbVZpc3VhbFRyZWUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW52aXNpYmxlTm9kZShleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVJbnZpc2libGVOb2RlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVGcm9tTGlzdChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUZyb21MaXN0IHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgY2hpbGQuIG51bGwgZXZlcnl0aGluZ1xuICAgICAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQgPT09IGNoaWxkICYmIHBhcmVudC5sYXN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGNvbnN0IG5leHQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgLy8gaXMgZmlyc3QgY2hpbGQsIG1ha2UgdGhlIG5leHQgc2libGluZyB0aGUgZmlyc3QgY2hpbGQgKGNhbiBiZSBudWxsKVxuICAgICAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgbGFzdCBjaGlsZCwgbWFrZSB0aGUgcHJldmlvdXMgc2libGluZyB0aGUgbGFzdCBjaGlsZCAoY2FuIGJlIG51bGwpXG4gICAgICAgIGlmIChwYXJlbnQubGFzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGhhdmUgYSBwcmV2aW91cyBzaWJsaW5nLCBtYWtlIGl0IHBvaW50IHRvIHRoZSBuZXh0IHNpYmxpbmdcbiAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0U2libGluZyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBhIG5leHQgc2libGluZywgbWFrZSBpdCBwb2ludCB0byB0aGUgcHJldmlvdXNcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIG5leHQucHJldmlvdXNTaWJsaW5nID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxseSwgbnVsbCB0aGUgc2libGluZ3NcbiAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBudWxsO1xuICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICAgIH1cbiAgICAvLyBOT1RFOiBUaGlzIG9uZSBpcyBPKG4pIC0gdXNlIGNhcmVmdWxseVxuICAgIGZpbmRQcmV2aW91c0VsZW1lbnQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5maW5kUHJldmlvdXNFbGVtZW50IHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmV2aW91c1Zpc3VhbDtcbiAgICAgICAgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHByZXZpb3VzVmlzdWFsID0gdGhpcy5nZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzID0gcHJldmlvdXNWaXN1YWwgfHwgcGFyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIC8vIHNpbmNlIGRldGFjaGVkIGVsZW1lbnRzIGFyZSBub3QgYWRkZWQgdG8gdGhlIHZpc3VhbCB0cmVlLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgdGhlIGFjdHVhbCBwcmV2aW91cyBzaWJsaW5nIG9mIHRoZSB2aWV3LFxuICAgICAgICAvLyB3aGljaCBtYXkgYXMgd2VsbCBiZSBhbiBpbnZpc2libGUgbm9kZVxuICAgICAgICB3aGlsZSAocHJldmlvdXMgJiYgcHJldmlvdXMgIT09IGNoaWxkICYmIHByZXZpb3VzLm5leHRTaWJsaW5nICE9PSBjaGlsZCkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBwcmV2aW91cy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgfVxuICAgIGdldFByZXZpb3VzVmlzdWFsRWxlbWVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgaWYgKGVsZW1lbnRJbmRleCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0Q2hpbGRBdChlbGVtZW50SW5kZXggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBOT1RFOiBUaGlzIG9uZSBpcyBPKG4pIC0gdXNlIGNhcmVmdWxseVxuICAgIGdldENoaWxkSW5kZXgocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gcGFyZW50LmNvbnRlbnQgPyAwIDogLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRnJvbVZpc3VhbFRyZWUocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVGcm9tVmlzdWFsVHJlZSBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpICYmIHBhcmVudC5jb250ZW50ID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuX3JlbW92ZVZpZXcoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAocGFyZW50Lm1ldGE/LnJlbW92ZUludmlzaWJsZU5vZGUpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVucmVnaXN0ZXJUZXh0Q2hhbmdlKHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVMYXlvdXRDaGlsZCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVDb21tZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tbWVudE5vZGUodmFsdWUpO1xuICAgIH1cbiAgICBjcmVhdGVUZXh0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUodmFsdWUpO1xuICAgIH1cbiAgICBjcmVhdGVWaWV3KG5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxOYW1lID0gbmFtZTtcbiAgICAgICAgaWYgKCFpc0tub3duVmlldyhuYW1lKSkge1xuICAgICAgICAgICAgbmFtZSA9ICdQcm94eVZpZXdDb250YWluZXInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYENyZWF0aW5nIHZpZXc6ICR7b3JpZ2luYWxOYW1lfSAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdmlld0NsYXNzID0gZ2V0Vmlld0NsYXNzKG5hbWUpO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IHZpZXdDbGFzcygpO1xuICAgICAgICBjb25zdCBuZ1ZpZXcgPSB0aGlzLnNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSk7XG4gICAgICAgIG5nVmlldy5yZXVzYWJsZSA9ICEhdGhpcy5yZXVzZVZpZXdzO1xuICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgIH1cbiAgICBlbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpIHtcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZpZXcsICdtZXRhJykpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHZpZXcuY3NzVHlwZSB8fCB2aWV3LnR5cGVOYW1lO1xuICAgICAgICAgICAgY29uc3QgbmdWaWV3ID0gdGhpcy5zZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgTWFrZSBpbnRvIGEgTmdWaWV3IHZpZXc6ICR7dmlld30gbmFtZTogXCIke25hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZ1ZpZXcgPSB2aWV3O1xuICAgICAgICBuZ1ZpZXcubm9kZU5hbWUgPSBuYW1lO1xuICAgICAgICBuZ1ZpZXcubWV0YSA9IGdldFZpZXdNZXRhKG5hbWUpO1xuICAgICAgICAvLyB3ZSdyZSBzZXR0aW5nIHRoZSBub2RlIHR5cGUgb2YgdGhlIHZpZXdcbiAgICAgICAgLy8gdG8gJ2VsZW1lbnQnIGJlY2F1c2Ugb2YgY2hlY2tzIGRvbmUgaW4gdGhlXG4gICAgICAgIC8vIGRvbSBhbmltYXRpb24gZW5naW5lXG4gICAgICAgIG5nVmlldy5ub2RlVHlwZSA9IEVMRU1FTlRfTk9ERV9UWVBFO1xuICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgIH1cbiAgICBzZXRQcm9wZXJ0eSh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghdmlldyB8fCAobmFtZXNwYWNlICYmICF0aGlzLnJ1bnNJbihuYW1lc3BhY2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgcHJvcGVydGllc1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGF0dHJpYnV0ZU5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBwcm9wZXJ0aWVzW3Byb3BlcnRpZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgcHJvcGVydGllcy5sZW5ndGggLSAxICYmIHR5cGVvZiB2aWV3ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcE1hcC5oYXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHByb3BNYXAuZ2V0KHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3ID0gdmlld1twcm9wXTtcbiAgICAgICAgICAgICAgICBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5SW50ZXJuYWwodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bnNJbihwbGF0Zm9ybSkge1xuICAgICAgICBsZXQgcnVucyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGxhc3QgPSAoKSA9PiB0cnVlO1xuICAgICAgICBpZiAodGhpcy5uYW1lc3BhY2VGaWx0ZXJzKSB7XG4gICAgICAgICAgICBsZXQgY2hhaW4gPSAocCkgPT4gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLm5hbWVzcGFjZUZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhaW4gPSBjaGFpbjtcbiAgICAgICAgICAgICAgICBjaGFpbiA9IChwKSA9PiB0aGlzLm5hbWVzcGFjZUZpbHRlcnNbaV0ucnVuc0luKHAsIGN1cnJlbnRDaGFpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5zID0gY2hhaW4ocGxhdGZvcm0pO1xuICAgICAgICAgICAgcnVucyA9IHJ1bnMgIT09IGZhbHNlID8gdHJ1ZSA6IGZhbHNlOyAvLyB1bmRlZmluZWQgbWVhbnMgdHJ1ZVxuICAgICAgICAgICAgLy8gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLnNvbWUoKGZpbHRlcikgPT4ge1xuICAgICAgICAgICAgLy8gXHRjb25zdCBydW5zSW5GaWx0ZXIgPSBmaWx0ZXIucnVuc0luKHBsYXRmb3JtKTtcbiAgICAgICAgICAgIC8vIFx0aWYgKHJ1bnNJbkZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBcdFx0cnVucyA9IHJ1bnNJbkZpbHRlcjtcbiAgICAgICAgICAgIC8vIFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFx0fVxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bnM7XG4gICAgfVxuICAgIHNldFByb3BlcnR5SW50ZXJuYWwodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgU2V0dGluZyBhdHRyaWJ1dGU6ICR7YXR0cmlidXRlTmFtZX09JHt2YWx1ZX0gdG8gJHt2aWV3fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICB0aGlzLnNldENsYXNzZXModmlldywgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChYTUxfQVRUUklCVVRFUy5pbmRleE9mKGF0dHJpYnV0ZU5hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgdmlld1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BNYXAuZ2V0KGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGNoaWxkcmVuIG9mIGEgY29sbGVjdGlvbiBjdXJyZW50bHkgaGF2ZSBubyBwYXJlbnQgc2V0LlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGxvd2VyLXVwcGVyIGNhc2UgbWFwcGVkIHByb3BlcnR5LlxuICAgICAgICAgICAgdmlld1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVW5rbm93biBhdHRyaWJ1dGUgdmFsdWUgLS0ganVzdCBzZXQgaXQgdG8gb3VyIG9iamVjdCBhcyBpcy5cbiAgICAgICAgdmlld1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucGFyZW50ICYmIGl0ZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVW5hc3NpZ25pbmcgcGFyZW50ICR7aXRlbS5wYXJlbnROb2RlfSBvbiB2YWx1ZTogJHtpdGVtfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UHJvcGVydGllcyhpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb3BlcnR5TWFwcy5oYXModHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6Zm9yaW5cbiAgICAgICAgICAgICAgICBwcm9wTWFwLnNldChwcm9wTmFtZS50b0xvd2VyQ2FzZSgpLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wZXJ0eU1hcHMuc2V0KHR5cGUsIHByb3BNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eU1hcHMuZ2V0KHR5cGUpO1xuICAgIH1cbiAgICBjc3NDbGFzc2VzKHZpZXcpIHtcbiAgICAgICAgaWYgKCF2aWV3Lm5nQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdmlldy5uZ0Nzc0NsYXNzZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXcubmdDc3NDbGFzc2VzO1xuICAgIH1cbiAgICBhZGRDbGFzcyh2aWV3LCBjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRWaWV3ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXMoZXh0ZW5kZWRWaWV3KS5zZXQoY2xhc3NOYW1lLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcyhleHRlbmRlZFZpZXcpO1xuICAgIH1cbiAgICByZW1vdmVDbGFzcyh2aWV3LCBjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRWaWV3ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXMoZXh0ZW5kZWRWaWV3KS5kZWxldGUoY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcyhleHRlbmRlZFZpZXcpO1xuICAgIH1cbiAgICBzZXRDbGFzc2VzKHZpZXcsIGNsYXNzZXNWYWx1ZSkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gY2xhc3Nlc1ZhbHVlLnNwbGl0KHdoaXRlU3BhY2VTcGxpdHRlcik7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5jbGVhcigpO1xuICAgICAgICBjbGFzc2VzLmZvckVhY2goKGNsYXNzTmFtZSkgPT4gdGhpcy5jc3NDbGFzc2VzKHZpZXcpLnNldChjbGFzc05hbWUsIHRydWUpKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3Nlcyh2aWV3KTtcbiAgICB9XG4gICAgc3luY0NsYXNzZXModmlldykge1xuICAgICAgICBjb25zdCBjbGFzc1ZhbHVlID0gQXJyYXkuZnJvbSh0aGlzLmNzc0NsYXNzZXModmlldykua2V5cygpKS5qb2luKCcgJyk7XG4gICAgICAgIHZpZXcuY2xhc3NOYW1lID0gY2xhc3NWYWx1ZTtcbiAgICB9XG4gICAgc2V0U3R5bGUodmlldywgc3R5bGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoaXNDc3NWYXJpYWJsZShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlLnNldFVuc2NvcGVkQ3NzVmFyaWFibGUoc3R5bGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB2aWV3Ll9vbkNzc1N0YXRlQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlW3N0eWxlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVTdHlsZSh2aWV3LCBzdHlsZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzQ3NzVmFyaWFibGUoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogZXhwb3NlIHRoaXMgb24gY29yZVxuICAgICAgICAgICAgdmlldy5zdHlsZS51bnNjb3BlZENzc1ZhcmlhYmxlcy5kZWxldGUoc3R5bGVOYW1lKTtcbiAgICAgICAgICAgIHZpZXcuX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGVbc3R5bGVOYW1lXSA9IHVuc2V0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciB2aWV3VXRpbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgVmlld1V0aWw6IFZpZXdVdGlsXG59KTtcblxuY29uc3QgYWRkU3R5bGVUb0NzcyA9IHByb2ZpbGUoJ1wicmVuZGVyZXJcIi5hZGRTdHlsZVRvQ3NzJywgZnVuY3Rpb24gYWRkU3R5bGVUb0NzcyhzdHlsZSwgdGFnKSB7XG4gICAgaWYgKHRhZykge1xuICAgICAgICBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlLCB0YWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24uYWRkQ3NzKHN0eWxlKTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIHJ1bkluUm9vdFpvbmUoZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICByZXR1cm4gWm9uZS5yb290LnJ1bihmbik7XG59XG5mdW5jdGlvbiBpblJvb3Rab25lKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc3QgY2hpbGRGdW5jdGlvbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgZm4gPSBjaGlsZEZ1bmN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gcnVuSW5Sb290Wm9uZSgoKSA9PiBmbiguLi5hcmdzKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59XG5sZXQgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5ID0gY2xhc3MgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcm9vdE1vZHVsZUlELCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMucm9vdFZpZXcgPSByb290VmlldztcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yb290TW9kdWxlSUQgPSByb290TW9kdWxlSUQ7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVuZGVyZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJhZExpc3RWaWV3XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSBuZXcgVmlld1V0aWwodGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucmV1c2VWaWV3cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aGlzLnJldXNlVmlld3MgPSBmYWxzZTsgLy8gZGVmYXVsdCB0byBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFJlbmRlcmVyID0gbmV3IE5hdGl2ZVNjcmlwdFJlbmRlcmVyKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgIH1cbiAgICBjcmVhdGVSZW5kZXJlcihob3N0RWxlbWVudCwgdHlwZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlciAke2hvc3RFbGVtZW50fS4gdHlwZS5pZDogJHt0eXBlLmlkfSB0eXBlLmVuY2Fwc3VsYXRpb246ICR7dHlwZS5lbmNhcHN1bGF0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaG9zdEVsZW1lbnQgfHwgIXR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVuZGVyZXIgPSB0aGlzLmNvbXBvbmVudFJlbmRlcmVycy5nZXQodHlwZS5pZCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiEgV0FSTklOR1xuICAgICAgICAgKiEgV2UncmUgcmV1c2luZyB0aGUgcmVuZGVyZXIgZm9yIHRoZSBjb21wb25lbnRzXG4gICAgICAgICAqISB0aGlzIG1pZ2h0IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IgYXMgdGhlIFwicm9vdFZpZXdcIiBpcyBhbiBhcmJpdHJhcnkgaG9zdEVsZW1lbnRcbiAgICAgICAgICohIGFsc28sIHRoZSByZW5kZXJlciBoYXMgaXQncyAuZGVzdHJveSgpIGNhbGxlZCFcbiAgICAgICAgICohIG1pZ2h0IGJlIHVzZWZ1bCB0byBjcmVhdGUgYSBCYXNlRW11bGF0ZWRSZW5kZXIgYW5kIGEgUHJveHlFbXVsYXRlZFJlbmRlclxuICAgICAgICAgKiEgZXZlcnkgY29tcG9uZW50IHR5cGUgZ2V0cyBhIEJhc2VFbXVsYXRlZFJlbmRlciAoc2luZ2xldG9uKSB3aGljaCBpcyBwYXNzZWQgdG8gUHJveHlFbXVsYXRlZFJlbmRlclxuICAgICAgICAgKiEgUHJveHlFbXVsYXRlZFJlbmRlcmVyIHJlZ2lzdGVycyB3aXRoIEJhc2VFbXVsYXRlZFJlbmRlciBzbyB3ZSBjYW4gY2xlYW4gdXAgdGhpbmdzIGxpa2UgQ1NTIHdoZW4gaXQncyBub3QgbmVlZGVkXG4gICAgICAgICAqISB0aGlzIG1pZ2h0IGJlIHVzZWZ1bCBpZiB3ZSBmaW5kIGEgd2F5IHRvIEhNUiBjb21wb25lbnQgc3R5bGluZyB3aXRob3V0IGEgZnVsbCByZWJvb3RzdHJhcFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAocmVuZGVyZXIgaW5zdGFuY2VvZiBFbXVsYXRlZFJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuYXBwbHlUb0hvc3QoaG9zdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlLmVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpIHtcbiAgICAgICAgICAgIHR5cGUuc3R5bGVzLm1hcCgocykgPT4gcy50b1N0cmluZygpKS5mb3JFYWNoKCh2KSA9PiBhZGRTdHlsZVRvQ3NzKHYsIHRoaXMucm9vdE1vZHVsZUlEKSk7XG4gICAgICAgICAgICByZW5kZXJlciA9IHRoaXMuZGVmYXVsdFJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgRW11bGF0ZWRSZW5kZXJlcih0eXBlLCBob3N0RWxlbWVudCwgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJvb3RNb2R1bGVJRCwgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmFwcGx5VG9Ib3N0KGhvc3RFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvbmVudFJlbmRlcmVycy5zZXQodHlwZS5pZCwgcmVuZGVyZXIpO1xuICAgICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICAgIC8vIGJlZ2luPygpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgLy8gfVxuICAgIC8vIGVuZD8oKTogdm9pZCB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIC8vIH1cbiAgICB3aGVuUmVuZGVyaW5nRG9uZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3RWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAwO1xuICAgICAgICAgICAgZnVuY3Rpb24gc2NoZWR1bGVSZXNvbHZlKCkge1xuICAgICAgICAgICAgICAgIC8vIGlPUyByZWFsbHkgaGF0ZXMgc3luY2hyb25vdXMgdGhpbmdzLi4uXG4gICAgICAgICAgICAgICAgLy8gVXRpbHMucXVldWVNYWNyb3Rhc2socmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBmaXJlV2hlbkxvYWRlZCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gcm9vdEZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZVJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcub25jZSgnbG9hZGVkJywgc2NoZWR1bGVSZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByb290RmFjdG9yeSA9ICgpID0+ICh0aGlzLnJvb3RWaWV3IGluc3RhbmNlb2YgQ29udGVudFZpZXcgPyB0aGlzLnJvb3RWaWV3LmNvbnRlbnQgOiB0aGlzLnJvb3RWaWV3KTtcbiAgICAgICAgICAgIGlmICghcm9vdEZhY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEZhY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJlV2hlbkxvYWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlyZVdoZW5Mb2FkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbn07XG5OYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIEluamVjdChBUFBfUk9PVF9WSUVXKSksXG4gICAgX19wYXJhbSgxLCBJbmplY3QoTkFNRVNQQUNFX0ZJTFRFUlMpKSxcbiAgICBfX3BhcmFtKDIsIEluamVjdChOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQpKSxcbiAgICBfX3BhcmFtKDMsIE9wdGlvbmFsKCkpLFxuICAgIF9fcGFyYW0oMywgSW5qZWN0KEVOQUJMRV9SRVVTQUJFX1ZJRVdTKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LCBBcnJheSwgT2JqZWN0LCBPYmplY3RdKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5KTtcbmNsYXNzIE5hdGl2ZVNjcmlwdFJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLnJvb3RWaWV3ID0gcm9vdFZpZXc7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSBuZXcgVmlld1V0aWwodGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lOb2RlID0gKG5vZGUpID0+IHJ1bkluUm9vdFpvbmUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuZGVzdHJveU5vZGUgbm9kZTogJHtub2RlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGU/LmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZT8uZGVzdHJveU5vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIuZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuY3JlYXRlRWxlbWVudDogJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGROYW1lO1xuICAgICAgICBpZiAoIWlzS25vd25WaWV3KG5hbWUpKSB7XG4gICAgICAgICAgICBvbGROYW1lID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSAnUHJveHlWaWV3Q29udGFpbmVyJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3VXRpbC5jcmVhdGVWaWV3KG5hbWUpO1xuICAgICAgICBpZiAob2xkTmFtZSkge1xuICAgICAgICAgICAgdmlldy5jdXN0b21DU1NOYW1lID0gb2xkTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgY3JlYXRlQ29tbWVudCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVDb21tZW50KHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZVRleHQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVUZXh0KHZhbHVlKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmFwcGVuZENoaWxkIGNoaWxkOiAke25ld0NoaWxkfSBwYXJlbnQ6ICR7cGFyZW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmluc2VydEJlZm9yZSBjaGlsZDogJHtuZXdDaGlsZH0gYCArIGBwYXJlbnQ6ICR7cGFyZW50fSByZWZDaGlsZDogJHtyZWZDaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVDaGlsZCBjaGlsZDogJHtvbGRDaGlsZH0gcGFyZW50OiAke3BhcmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQpO1xuICAgIH1cbiAgICBzZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSwgcHJlc2VydmVDb250ZW50KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQ6ICR7c2VsZWN0b3JPck5vZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yT3JOb2RlIGluc3RhbmNlb2YgVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yT3JOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck9yTm9kZSAmJiBzZWxlY3Rvck9yTm9kZVswXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRWaWV3QnlJZCh0aGlzLnJvb3RWaWV3LCBzZWxlY3Rvck9yTm9kZS5zbGljZSgxKSk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCB8fCB0aGlzLnJvb3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yT3JOb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld1V0aWwuY3JlYXRlVmlldyhzZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgICAgICBpZiAoZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3KSA9PT0gdmlldykge1xuICAgICAgICAgICAgICAgIC8vIHZpZXcgaXMgbmF0aXZlbGlrZSFcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMucm9vdFZpZXcsIHZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RWaWV3O1xuICAgIH1cbiAgICBwYXJlbnROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5wYXJlbnROb2RlIGZvciBub2RlOiAke25vZGV9IGlzICR7bm9kZS5wYXJlbnROb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIG5leHRTaWJsaW5nKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5uZXh0U2libGluZyBvZiAke25vZGV9IGlzICR7bm9kZS5uZXh0U2libGluZ31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgc2V0QXR0cmlidXRlKGVsLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0QXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIHJlbW92ZUF0dHJpYnV0ZShlbCwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENsYXNzKGVsLCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuYWRkQ2xhc3MgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYWRkQ2xhc3MoZWwsIG5hbWUpO1xuICAgIH1cbiAgICByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUNsYXNzICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNsYXNzKGVsLCBuYW1lKTtcbiAgICB9XG4gICAgc2V0U3R5bGUoZWwsIHN0eWxlLCB2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRTdHlsZTogJHtlbH0sICR7c3R5bGV9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZW1vdmVTdHlsZShlbCwgc3R5bGUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlU3R5bGU6ICR7c3R5bGVOYW1lfScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlU3R5bGUoZWwsIHN0eWxlKTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0UHJvcGVydHkgJHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZShub2RlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFZhbHVlIHJlbmRlck5vZGU6ICR7bm9kZX0sIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUudGV4dCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICBsaXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmxpc3RlbjogJHtldmVudE5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgICBpZiAoZXZlbnROYW1lID09PSBWaWV3LmxvYWRlZEV2ZW50ICYmIHRhcmdldC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgLy8gd2UgbXVzdCBjcmVhdGUgYSBuZXcgb2JlcnZhYmxlIGhlcmUgdG8gZW5zdXJlIHRoYXQgdGhlIGV2ZW50IGdvZXMgdGhyb3VnaCB3aGF0ZXZlciB6b25lIHBhdGNoZXMgYXJlIGFwcGxpZWRcbiAgICAgICAgICAgIGNvbnN0IG9icyA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgICAgICBvYnMub25jZShldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIG9icy5ub3RpZnkoe1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRhcmdldCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB0YXJnZXQub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nLCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZUVsZW1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlQ29tbWVudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVUZXh0XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LCBWaWV3XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJhcHBlbmRDaGlsZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBPYmplY3QsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiaW5zZXJ0QmVmb3JlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIE9iamVjdCwgQm9vbGVhbl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlQ2hpbGRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBTdHJpbmcsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0QXR0cmlidXRlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkQ2xhc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW1vdmVDbGFzc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE9iamVjdCwgTnVtYmVyXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRTdHlsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE51bWJlcl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlU3R5bGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldFByb3BlcnR5XCIsIG51bGwpO1xuLy8gQ09OVEVOVF9BVFRSIG5vdCBleHBvcnRlZCBmcm9tIG5hdGl2ZXNjcmlwdC1yZW5kZXJlciAtIHdlIG5lZWQgaXQgZm9yIHN0eWxlcyBhcHBsaWNhdGlvbi5cbmNvbnN0IENPTVBPTkVOVF9SRUdFWCA9IC8lQ09NUCUvZztcbmNvbnN0IEFUVFJfU0FOSVRJWkVSID0gLy0vZztcbmNvbnN0IENPTVBPTkVOVF9WQVJJQUJMRSA9ICclQ09NUCUnO1xuY29uc3QgSE9TVF9BVFRSID0gYF9uZ2hvc3QtJHtDT01QT05FTlRfVkFSSUFCTEV9YDtcbmNvbnN0IENPTlRFTlRfQVRUUiA9IGBfbmdjb250ZW50LSR7Q09NUE9ORU5UX1ZBUklBQkxFfWA7XG5jb25zdCByZXBsYWNlTmdBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoaW5wdXQsIGNvbXBvbmVudElkKSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoQ09NUE9ORU5UX1JFR0VYLCBjb21wb25lbnRJZCk7XG59O1xuY29uc3QgYWRkU2NvcGVkU3R5bGVUb0NzcyA9IHByb2ZpbGUoYFwicmVuZGVyZXJcIi5hZGRTY29wZWRTdHlsZVRvQ3NzYCwgZnVuY3Rpb24gYWRkU2NvcGVkU3R5bGVUb0NzcyhzdHlsZSwgdGFnKSB7XG4gICAgaWYgKHRhZykge1xuICAgICAgICBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlLCB0YWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24uYWRkQ3NzKHN0eWxlKTtcbiAgICB9XG59KTtcbmNsYXNzIEVtdWxhdGVkUmVuZGVyZXIgZXh0ZW5kcyBOYXRpdmVTY3JpcHRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCByb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcm9vdE1vZHVsZUlkLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHN1cGVyKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKTtcbiAgICAgICAgdGhpcy5yb290TW9kdWxlSWQgPSByb290TW9kdWxlSWQ7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50LmlkLnJlcGxhY2UoQVRUUl9TQU5JVElaRVIsICdfJyk7XG4gICAgICAgIHRoaXMuY29udGVudEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoQ09OVEVOVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuaG9zdEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoSE9TVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuYWRkU3R5bGVzKGNvbXBvbmVudC5zdHlsZXMsIGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgYXBwbHlUb0hvc3Qodmlldykge1xuICAgICAgICBzdXBlci5zZXRBdHRyaWJ1dGUodmlldywgdGhpcy5ob3N0QXR0ciwgJycpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKSB7XG4gICAgICAgIHN1cGVyLmFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpO1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHBhcmVudCwgbmFtZSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gc3VwZXIuY3JlYXRlRWxlbWVudChwYXJlbnQsIG5hbWUpO1xuICAgICAgICAvLyBTZXQgYW4gYXR0cmlidXRlIHRvIHRoZSB2aWV3IHRvIHNjb3BlIGNvbXBvbmVudC1zcGVjaWZpYyBjc3MuXG4gICAgICAgIC8vIFRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByZS1nZW5lcmF0ZWQgYnkgQW5ndWxhci5cbiAgICAgICAgc3VwZXIuc2V0QXR0cmlidXRlKHZpZXcsIHRoaXMuY29udGVudEF0dHIsICcnKTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGFkZFN0eWxlcyhzdHlsZXMsIGNvbXBvbmVudElkKSB7XG4gICAgICAgIHN0eWxlc1xuICAgICAgICAgICAgLm1hcCgocykgPT4gcy50b1N0cmluZygpKVxuICAgICAgICAgICAgLm1hcCgocykgPT4gcmVwbGFjZU5nQXR0cmlidXRlKHMsIGNvbXBvbmVudElkKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChzKSA9PiBhZGRTY29wZWRTdHlsZVRvQ3NzKHMsIHRoaXMucm9vdE1vZHVsZUlkKSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciwgZGVwczogXCJpbnZhbGlkXCIsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIgfSk7IH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FycmF5LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgRW11bGF0ZWRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkU3R5bGVzXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTEuVmlldyB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgYWRkU3R5bGVzOiBbXSB9IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgbnVsbCBwb3J0YWwgdG8gYSBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd051bGxQb3J0YWxFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignTXVzdCBwcm92aWRlIGEgcG9ydGFsIHRvIGF0dGFjaCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBob3N0IHRoYXQgaXMgYWxyZWFkeSBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignSG9zdCBhbHJlYWR5IGhhcyBhIHBvcnRhbCBhdHRhY2hlZCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYW4gYWxyZWFkeS1kaXNwb3NlZCBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdUaGlzIFBvcnRhbE91dGxldCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhbiB1bmtub3duIHBvcnRhbCB0eXBlLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gYXR0YWNoIGFuIHVua25vd24gUG9ydGFsIHR5cGUuIEJhc2VQb3J0YWxPdXRsZXQgYWNjZXB0cyBlaXRoZXIgJyArICdhIENvbXBvbmVudFBvcnRhbCBvciBhIFRlbXBsYXRlUG9ydGFsLicpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBudWxsIGhvc3QuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIG51bGwgUG9ydGFsT3V0bGV0Jyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGRldGFjaCBhIHBvcnRhbCB0aGF0IGlzIG5vdCBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gZGV0YWNoIGEgcG9ydGFsIHRoYXQgaXMgbm90IGF0dGFjaGVkIHRvIGEgaG9zdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBgUG9ydGFsYCBpcyBzb21ldGhpbmcgdGhhdCB5b3Ugd2FudCB0byByZW5kZXIgc29tZXdoZXJlIGVsc2UuXG4gKiBJdCBjYW4gYmUgYXR0YWNoIHRvIC8gZGV0YWNoZWQgZnJvbSBhIGBQb3J0YWxPdXRsZXRgLlxuICovXG5jbGFzcyBQb3J0YWwge1xuICAgIC8qKiBBdHRhY2ggdGhpcyBwb3J0YWwgdG8gYSBob3N0LiAqL1xuICAgIGF0dGFjaChob3N0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIGlmIChob3N0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvd051bGxQb3J0YWxPdXRsZXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvc3QuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZEhvc3QgPSBob3N0O1xuICAgICAgICByZXR1cm4gaG9zdC5hdHRhY2godGhpcyk7XG4gICAgfVxuICAgIC8qKiBEZXRhY2ggdGhpcyBwb3J0YWwgZnJvbSBpdHMgaG9zdCAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IHRoaXMuX2F0dGFjaGVkSG9zdDtcbiAgICAgICAgaWYgKGhvc3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gbnVsbDtcbiAgICAgICAgICAgIGhvc3QuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgcG9ydGFsIGlzIGF0dGFjaGVkIHRvIGEgaG9zdC4gKi9cbiAgICBnZXQgaXNBdHRhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkSG9zdCAhPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBQb3J0YWxPdXRsZXQgcmVmZXJlbmNlIHdpdGhvdXQgcGVyZm9ybWluZyBgYXR0YWNoKClgLiBUaGlzIGlzIHVzZWQgZGlyZWN0bHkgYnlcbiAgICAgKiB0aGUgUG9ydGFsT3V0bGV0IHdoZW4gaXQgaXMgcGVyZm9ybWluZyBhbiBgYXR0YWNoKClgIG9yIGBkZXRhY2goKWAuXG4gICAgICovXG4gICAgc2V0QXR0YWNoZWRIb3N0KGhvc3QpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRIb3N0ID0gaG9zdDtcbiAgICB9XG59XG4vKipcbiAqIEEgYENvbXBvbmVudFBvcnRhbGAgaXMgYSBwb3J0YWwgdGhhdCBpbnN0YW50aWF0ZXMgc29tZSBDb21wb25lbnQgdXBvbiBhdHRhY2htZW50LlxuICovXG5jbGFzcyBDb21wb25lbnRQb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCwgdmlld0NvbnRhaW5lclJlZiwgaW5qZWN0b3IsIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5pbmplY3RvciA9IGluamVjdG9yO1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICB9XG59XG4vKipcbiAqIEEgYFRlbXBsYXRlUG9ydGFsYCBpcyBhIHBvcnRhbCB0aGF0IHJlcHJlc2VudHMgc29tZSBlbWJlZGRlZCB0ZW1wbGF0ZSAoVGVtcGxhdGVSZWYpLlxuICovXG5jbGFzcyBUZW1wbGF0ZVBvcnRhbCBleHRlbmRzIFBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHZpZXdDb250YWluZXJSZWYsIGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXJSZWYgPSB2aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBnZXQgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVJlZi5lbGVtZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIHBvcnRhbCB0byB0aGUgcHJvdmlkZWQgYFBvcnRhbE91dGxldGAuXG4gICAgICogV2hlbiBhIGNvbnRleHQgaXMgcHJvdmlkZWQgaXQgd2lsbCBvdmVycmlkZSB0aGUgYGNvbnRleHRgIHByb3BlcnR5IG9mIHRoZSBgVGVtcGxhdGVQb3J0YWxgXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovXG4gICAgYXR0YWNoKGhvc3QsIGNvbnRleHQgPSB0aGlzLmNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmF0dGFjaChob3N0KTtcbiAgICB9XG4gICAgZGV0YWNoKCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzdXBlci5kZXRhY2goKTtcbiAgICB9XG59XG4vKipcbiAqIEEgYERvbVBvcnRhbGAgaXMgYSBwb3J0YWwgd2hvc2UgRE9NIGVsZW1lbnQgd2lsbCBiZSB0YWtlbiBmcm9tIGl0cyBjdXJyZW50IHBvc2l0aW9uXG4gKiBpbiB0aGUgRE9NIGFuZCBtb3ZlZCBpbnRvIGEgcG9ydGFsIG91dGxldCwgd2hlbiBpdCBpcyBhdHRhY2hlZC4gT24gZGV0YWNoLCB0aGUgY29udGVudFxuICogd2lsbCBiZSByZXN0b3JlZCB0byBpdHMgb3JpZ2luYWwgcG9zaXRpb24uXG4gKi9cbmNsYXNzIERvbVBvcnRhbCBleHRlbmRzIFBvcnRhbCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudFJlZiA/IGVsZW1lbnQubmF0aXZlRWxlbWVudCA6IGVsZW1lbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBQYXJ0aWFsIGltcGxlbWVudGF0aW9uIG9mIFBvcnRhbE91dGxldCB0aGF0IGhhbmRsZXMgYXR0YWNoaW5nXG4gKiBDb21wb25lbnRQb3J0YWwgYW5kIFRlbXBsYXRlUG9ydGFsLlxuICovXG5jbGFzcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhpcyBob3N0IGhhcyBhbHJlYWR5IGJlZW4gcGVybWFuZW50bHkgZGlzcG9zZWQuICovXG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gQGJyZWFraW5nLWNoYW5nZSAxMC4wLjAgYGF0dGFjaERvbVBvcnRhbGAgdG8gYmVjb21lIGEgcmVxdWlyZWQgYWJzdHJhY3QgbWV0aG9kLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L21lbWJlci1vcmRlcmluZ1xuICAgICAgICB0aGlzLmF0dGFjaERvbVBvcnRhbCA9IG51bGw7XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgaG9zdCBoYXMgYW4gYXR0YWNoZWQgcG9ydGFsLiAqL1xuICAgIGhhc0F0dGFjaGVkKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hdHRhY2hlZFBvcnRhbDtcbiAgICB9XG4gICAgLyoqIEF0dGFjaGVzIGEgcG9ydGFsLiAqL1xuICAgIGF0dGFjaChwb3J0YWwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKCFwb3J0YWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvd051bGxQb3J0YWxFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3J0YWwgaW5zdGFuY2VvZiBDb21wb25lbnRQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9ydGFsIGluc3RhbmNlb2YgVGVtcGxhdGVQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKTtcbiAgICAgICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIHJlbW92ZSBudWxsIGNoZWNrIGZvciBgdGhpcy5hdHRhY2hEb21Qb3J0YWxgLlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0YWNoRG9tUG9ydGFsICYmIHBvcnRhbCBpbnN0YW5jZW9mIERvbVBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hEb21Qb3J0YWwocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSB7XG4gICAgICAgICAgICB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogRGV0YWNoZXMgYSBwcmV2aW91c2x5IGF0dGFjaGVkIHBvcnRhbC4gKi9cbiAgICBkZXRhY2goKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdHRhY2hlZFBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwuc2V0QXR0YWNoZWRIb3N0KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZURpc3Bvc2VGbigpO1xuICAgIH1cbiAgICAvKiogUGVybWFuZW50bHkgZGlzcG9zZSBvZiB0aGlzIHBvcnRhbCBob3N0LiAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlRGlzcG9zZUZuKCk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICAgIHNldERpc3Bvc2VGbihmbikge1xuICAgICAgICB0aGlzLl9kaXNwb3NlRm4gPSBmbjtcbiAgICB9XG4gICAgX2ludm9rZURpc3Bvc2VGbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2VGbikge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZUZuKCk7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlRm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGlyZWN0aXZlIHZlcnNpb24gb2YgYSBgVGVtcGxhdGVQb3J0YWxgLiBCZWNhdXNlIHRoZSBkaXJlY3RpdmUgKmlzKiBhIFRlbXBsYXRlUG9ydGFsLFxuICogdGhlIGRpcmVjdGl2ZSBpbnN0YW5jZSBpdHNlbGYgY2FuIGJlIGF0dGFjaGVkIHRvIGEgaG9zdCwgZW5hYmxpbmcgZGVjbGFyYXRpdmUgdXNlIG9mIHBvcnRhbHMuXG4gKi9cbmNsYXNzIENka1BvcnRhbCBleHRlbmRzIFRlbXBsYXRlUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBzdXBlcih0ZW1wbGF0ZVJlZiwgdmlld0NvbnRhaW5lclJlZik7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsLCBkZXBzOiBbeyB0b2tlbjogaTAuVGVtcGxhdGVSZWYgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IENka1BvcnRhbCwgc2VsZWN0b3I6IFwiW2Nka1BvcnRhbF1cIiwgZXhwb3J0QXM6IFtcImNka1BvcnRhbFwiXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWwsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tjZGtQb3J0YWxdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdjZGtQb3J0YWwnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dOyB9IH0pO1xuLyoqXG4gKiBEaXJlY3RpdmUgdmVyc2lvbiBvZiBhIFBvcnRhbE91dGxldC4gQmVjYXVzZSB0aGUgZGlyZWN0aXZlICppcyogYSBQb3J0YWxPdXRsZXQsIHBvcnRhbHMgY2FuIGJlXG4gKiBkaXJlY3RseSBhdHRhY2hlZCB0byBpdCwgZW5hYmxpbmcgZGVjbGFyYXRpdmUgdXNlLlxuICpcbiAqIFVzYWdlOlxuICogYDxuZy10ZW1wbGF0ZSBbY2RrUG9ydGFsT3V0bGV0XT1cImdyZWV0aW5nXCI+PC9uZy10ZW1wbGF0ZT5gXG4gKi9cbmNsYXNzIENka1BvcnRhbE91dGxldCBleHRlbmRzIEJhc2VQb3J0YWxPdXRsZXQge1xuICAgIGNvbnN0cnVjdG9yKF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF92aWV3Q29udGFpbmVyUmVmLCByZW5kZXJlcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmID0gX3ZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIHBvcnRhbCBjb21wb25lbnQgaXMgaW5pdGlhbGl6ZWQuICovXG4gICAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIEVtaXRzIHdoZW4gYSBwb3J0YWwgaXMgYXR0YWNoZWQgdG8gdGhlIG91dGxldC4gKi9cbiAgICAgICAgdGhpcy5hdHRhY2hlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaGVzIHRoZSBnaXZlbiBEb21Qb3J0YWwgdG8gdGhpcyBQb3J0YWxIb3N0IGJ5IG1vdmluZyBhbGwgb2YgdGhlIHBvcnRhbCBjb250ZW50IGludG8gaXQuXG4gICAgICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBUbyBiZSB0dXJuZWQgaW50byBhIG1ldGhvZC5cbiAgICAgICAgICogQGJyZWFraW5nLWNoYW5nZSAxMC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0YWNoRG9tUG9ydGFsID0gKHBvcnRhbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHBvcnRhbC5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUgJiYgKHR5cGVvZiBuZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IG5nRGV2TW9kZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignRE9NIHBvcnRhbCBjb250ZW50IG11c3QgYmUgYXR0YWNoZWQgdG8gYSBwYXJlbnQgbm9kZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFuY2hvciB1c2VkIHRvIHNhdmUgdGhlIGVsZW1lbnQncyBwcmV2aW91cyBwb3NpdGlvbiBzb1xuICAgICAgICAgICAgLy8gdGhhdCB3ZSBjYW4gcmVzdG9yZSBpdCB3aGVuIHRoZSBwb3J0YWwgaXMgZGV0YWNoZWQuXG4gICAgICAgICAgICBjb25zdCBhbmNob3JOb2RlID0gdGhpcy5yZW5kZXJlci5jcmVhdGVDb21tZW50KCdkb20tcG9ydGFsJyk7XG4gICAgICAgICAgICBwb3J0YWwuc2V0QXR0YWNoZWRIb3N0KHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5pbnNlcnRCZWZvcmUoZWxlbWVudC5wYXJlbnROb2RlLCBhbmNob3JOb2RlLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0Um9vdE5vZGUoKSwgZWxlbWVudCk7XG4gICAgICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhbmNob3JOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5pbnNlcnRCZWZvcmUoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDaGlsZChhbmNob3JOb2RlLnBhcmVudE5vZGUsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhbmNob3JOb2RlLnBhcmVudE5vZGUhLnJlcGxhY2VDaGlsZChlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqIFBvcnRhbCBhc3NvY2lhdGVkIHdpdGggdGhlIFBvcnRhbCBvdXRsZXQuICovXG4gICAgZ2V0IHBvcnRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkUG9ydGFsO1xuICAgIH1cbiAgICBzZXQgcG9ydGFsKHBvcnRhbCkge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGNhc2VzIHdoZXJlIHRoZSBgcG9ydGFsYCBpcyBzZXQgdG8gYSBmYWxzeSB2YWx1ZSBiZWZvcmUgdGhlIGxpZmVjeWNsZSBob29rcyBoYXZlXG4gICAgICAgIC8vIHJ1bi4gVGhpcyBoYW5kbGVzIHRoZSBjYXNlcyB3aGVyZSB0aGUgdXNlciBtaWdodCBkbyBzb21ldGhpbmcgbGlrZSBgPGRpdiBjZGtQb3J0YWxPdXRsZXQ+YFxuICAgICAgICAvLyBhbmQgYXR0YWNoIGEgcG9ydGFsIHByb2dyYW1tYXRpY2FsbHkgaW4gdGhlIHBhcmVudCBjb21wb25lbnQuIFdoZW4gQW5ndWxhciBkb2VzIHRoZSBmaXJzdCBDRFxuICAgICAgICAvLyByb3VuZCwgaXQgd2lsbCBmaXJlIHRoZSBzZXR0ZXIgd2l0aCBlbXB0eSBzdHJpbmcsIGNhdXNpbmcgdGhlIHVzZXIncyBjb250ZW50IHRvIGJlIGNsZWFyZWQuXG4gICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkgJiYgIXBvcnRhbCAmJiAhdGhpcy5faXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0F0dGFjaGVkKCkpIHtcbiAgICAgICAgICAgIHN1cGVyLmRldGFjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3J0YWwpIHtcbiAgICAgICAgICAgIHN1cGVyLmF0dGFjaChwb3J0YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgIH1cbiAgICAvKiogQ29tcG9uZW50IG9yIHZpZXcgcmVmZXJlbmNlIHRoYXQgaXMgYXR0YWNoZWQgdG8gdGhlIHBvcnRhbC4gKi9cbiAgICBnZXQgYXR0YWNoZWRSZWYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZFJlZjtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuX2lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUmVmID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBnaXZlbiBDb21wb25lbnRQb3J0YWwgdG8gdGhpcyBQb3J0YWxPdXRsZXQgdXNpbmcgdGhlIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBwb3J0YWwgb3V0bGV0LlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBjb21wb25lbnQuXG4gICAgICovXG4gICAgYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBwb3J0YWwuc2V0QXR0YWNoZWRIb3N0KHRoaXMpO1xuICAgICAgICAvLyBJZiB0aGUgcG9ydGFsIHNwZWNpZmllcyBhbiBvcmlnaW4sIHVzZSB0aGF0IGFzIHRoZSBsb2dpY2FsIGxvY2F0aW9uIG9mIHRoZSBjb21wb25lbnRcbiAgICAgICAgLy8gaW4gdGhlIGFwcGxpY2F0aW9uIHRyZWUuIE90aGVyd2lzZSB1c2UgdGhlIGxvY2F0aW9uIG9mIHRoaXMgUG9ydGFsT3V0bGV0LlxuICAgICAgICBjb25zdCB2aWV3Q29udGFpbmVyUmVmID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWYgIT0gbnVsbCA/IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmIDogdGhpcy5fdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBwb3J0YWwuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgY29uc3QgY29tcG9uZW50RmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHBvcnRhbC5jb21wb25lbnQpO1xuICAgICAgICBjb25zdCByZWYgPSB2aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5LCB2aWV3Q29udGFpbmVyUmVmLmxlbmd0aCwgcG9ydGFsLmluamVjdG9yIHx8IHZpZXdDb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICAvLyBJZiB3ZSdyZSB1c2luZyBhIHZpZXcgY29udGFpbmVyIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgaW5qZWN0ZWQgb25lIChlLmcuIHdoZW4gdGhlIHBvcnRhbFxuICAgICAgICAvLyBzcGVjaWZpZXMgaXRzIG93bikgd2UgbmVlZCB0byBtb3ZlIHRoZSBjb21wb25lbnQgaW50byB0aGUgb3V0bGV0LCBvdGhlcndpc2UgaXQnbGwgYmUgcmVuZGVyZWRcbiAgICAgICAgLy8gaW5zaWRlIG9mIHRoZSBhbHRlcm5hdGUgdmlldyBjb250YWluZXIuXG4gICAgICAgIGlmICh2aWV3Q29udGFpbmVyUmVmICE9PSB0aGlzLl92aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuX2dldFJvb3ROb2RlKCksIHJlZi5ob3N0Vmlldy5yb290Tm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiByZWYuZGVzdHJveSgpKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUmVmID0gcmVmO1xuICAgICAgICB0aGlzLmF0dGFjaGVkLmVtaXQocmVmKTtcbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBnaXZlbiBUZW1wbGF0ZVBvcnRhbCB0byB0aGlzIFBvcnRhbEhvc3QgYXMgYW4gZW1iZWRkZWQgVmlldy5cbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZC5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgZW1iZWRkZWQgdmlldy5cbiAgICAgKi9cbiAgICBhdHRhY2hUZW1wbGF0ZVBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KHBvcnRhbC50ZW1wbGF0ZVJlZiwgcG9ydGFsLmNvbnRleHQpO1xuICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jbGVhcigpKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkUmVmID0gdmlld1JlZjtcbiAgICAgICAgdGhpcy5hdHRhY2hlZC5lbWl0KHZpZXdSZWYpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgcG9ydGFsIG91dGxldC4gKi9cbiAgICBfZ2V0Um9vdE5vZGUoKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gVGhlIGRpcmVjdGl2ZSBjb3VsZCBiZSBzZXQgb24gYSB0ZW1wbGF0ZSB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIGNvbW1lbnRcbiAgICAgICAgLy8gbm9kZSBiZWluZyB0aGUgcm9vdC4gVXNlIHRoZSBjb21tZW50J3MgcGFyZW50IG5vZGUgaWYgdGhhdCBpcyB0aGUgY2FzZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgcmV0dXJuICghKG5hdGl2ZUVsZW1lbnQgaW5zdGFuY2VvZiBDb21tZW50Tm9kZSkgPyBuYXRpdmVFbGVtZW50IDogbmF0aXZlRWxlbWVudC5wYXJlbnROb2RlKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWxPdXRsZXQsIGRlcHM6IFt7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiBpMC5SZW5kZXJlcjIgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBDZGtQb3J0YWxPdXRsZXQsIHNlbGVjdG9yOiBcIltjZGtQb3J0YWxPdXRsZXRdXCIsIGlucHV0czogeyBwb3J0YWw6IFtcImNka1BvcnRhbE91dGxldFwiLCBcInBvcnRhbFwiXSB9LCBvdXRwdXRzOiB7IGF0dGFjaGVkOiBcImF0dGFjaGVkXCIgfSwgZXhwb3J0QXM6IFtcImNka1BvcnRhbE91dGxldFwiXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWxPdXRsZXQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tjZGtQb3J0YWxPdXRsZXRdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdjZGtQb3J0YWxPdXRsZXQnLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWlucHV0cy1tZXRhZGF0YS1wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IFsncG9ydGFsOiBjZGtQb3J0YWxPdXRsZXQnXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGF0dGFjaGVkOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcbmNsYXNzIFBvcnRhbE1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sIGV4cG9ydHM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQb3J0YWxNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0Nka1BvcnRhbCwgQ2RrUG9ydGFsT3V0bGV0XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgUG9ydGFsT3V0bGV0IGZvciBhdHRhY2hpbmcgcG9ydGFscyB0byBhbiBhcmJpdHJhcnkgRE9NIGVsZW1lbnQgb3V0c2lkZSBvZiB0aGUgQW5ndWxhclxuICogYXBwbGljYXRpb24gY29udGV4dC5cbiAqL1xubGV0IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCA9IGNsYXNzIE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCBleHRlbmRzIEJhc2VQb3J0YWxPdXRsZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBFbGVtZW50IGludG8gd2hpY2ggdGhlIGNvbnRlbnQgaXMgcHJvamVjdGVkLiAqL1xuICAgIG91dGxldEVsZW1lbnQsIF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIF9hcHBSZWYsIF9kZWZhdWx0SW5qZWN0b3IsIHZpZXdVdGlsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3V0bGV0RWxlbWVudCA9IG91dGxldEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IF9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IF9hcHBSZWY7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRJbmplY3RvciA9IF9kZWZhdWx0SW5qZWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBdHRhY2hlcyBhIERPTSBwb3J0YWwgYnkgdHJhbnNmZXJyaW5nIGl0cyBjb250ZW50IGludG8gdGhlIG91dGxldC5cbiAgICAgICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRvIGJlIHR1cm5lZCBpbnRvIGEgbWV0aG9kLlxuICAgICAgICAgKiBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSAocG9ydGFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9ydGFsLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSAmJiAodHlwZW9mIG5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdET00gcG9ydGFsIGNvbnRlbnQgbXVzdCBiZSBhdHRhY2hlZCB0byBhIHBhcmVudCBub2RlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQW5jaG9yIHVzZWQgdG8gc2F2ZSB0aGUgZWxlbWVudCdzIHByZXZpb3VzIHBvc2l0aW9uIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IHdoZW4gdGhlIHBvcnRhbCBpcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSB0aGlzLl92aWV3VXRpbC5jcmVhdGVDb21tZW50KCdkb20tcG9ydGFsJyk7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoZWxlbWVudC5wYXJlbnROb2RlLCBhbmNob3JOb2RlLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBgcmVwbGFjZVdpdGhgIGhlcmUgYmVjYXVzZSBJRSBkb2Vzbid0IHN1cHBvcnQgaXQuXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvck5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy9hbmNob3JOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl92aWV3VXRpbCA9IHZpZXdVdGlsIHx8IHRoaXMuX2RlZmF1bHRJbmplY3Rvci5nZXQoVmlld1V0aWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIENvbXBvbmVudFBvcnRhbCB0byBET00gZWxlbWVudCB1c2luZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFJlZjtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYSBWaWV3Q29udGFpbmVyUmVmLCB3ZSB3aWxsIHVzZSB0aGF0IGFzIHRoZSBhdHRhY2htZW50IHBvaW50XG4gICAgICAgIC8vIGZvciB0aGUgY29tcG9uZW50IChpbiB0ZXJtcyBvZiBBbmd1bGFyJ3MgY29tcG9uZW50IHRyZWUsIG5vdCByZW5kZXJpbmcpLlxuICAgICAgICAvLyBXaGVuIHRoZSBWaWV3Q29udGFpbmVyUmVmIGlzIG1pc3NpbmcsIHdlIHVzZSB0aGUgZmFjdG9yeSB0byBjcmVhdGUgdGhlIGNvbXBvbmVudCBkaXJlY3RseVxuICAgICAgICAvLyBhbmQgdGhlbiBtYW51YWxseSBhdHRhY2ggdGhlIHZpZXcgdG8gdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBpZiAocG9ydGFsLnZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5LCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5sZW5ndGgsIHBvcnRhbC5pbmplY3RvciB8fCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLnNldERpc3Bvc2VGbigoKSA9PiBjb21wb25lbnRSZWYuZGVzdHJveSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHBvcnRhbC5pbmplY3RvciB8fCB0aGlzLl9kZWZhdWx0SW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaW5zdGFudGlhdGVkLCBzbyB3ZSBtb3ZlIGl0IHRvIHRoZSBsb2NhdGlvbiBpbiB0aGUgRE9NXG4gICAgICAgIC8vIHdoZXJlIHdlIHdhbnQgaXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy5fZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHJvb3ROb2RlLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQocm9vdE5vZGUucGFyZW50LCByb290Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCB0aGlzLl9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB0ZW1wbGF0ZSBwb3J0YWwgdG8gdGhlIERPTSBhcyBhbiBlbWJlZGRlZCB2aWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBjb25zdCB2aWV3Q29udGFpbmVyID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB2aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyhwb3J0YWwudGVtcGxhdGVSZWYsIHBvcnRhbC5jb250ZXh0KTtcbiAgICAgICAgLy8gVGhlIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3YCB3aWxsIGFkZCB0aGUgdmlldyBhcyBhIGNoaWxkIG9mIHRoZSB2aWV3Q29udGFpbmVyLlxuICAgICAgICAvLyBCdXQgZm9yIHRoZSBEb21Qb3J0YWxPdXRsZXQgdGhlIHZpZXcgY2FuIGJlIGFkZGVkIGV2ZXJ5d2hlcmUgaW4gdGhlIERPTVxuICAgICAgICAvLyAoZS5nIE92ZXJsYXkgQ29udGFpbmVyKSBUbyBtb3ZlIHRoZSB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgaG9zdCBlbGVtZW50LiBXZSBqdXN0XG4gICAgICAgIC8vIHJlLWFwcGVuZCB0aGUgZXhpc3Rpbmcgcm9vdCBub2Rlcy5cbiAgICAgICAgdmlld1JlZi5yb290Tm9kZXMuZm9yRWFjaCgocm9vdE5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChyb290Tm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChyb290Tm9kZS5wYXJlbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgcm9vdE5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHdhbnQgdG8gZGV0ZWN0IGNoYW5nZXMgYWZ0ZXIgdGhlIG5vZGVzIGhhdmUgYmVlbiBtb3ZlZCBzbyB0aGF0XG4gICAgICAgIC8vIGFueSBkaXJlY3RpdmVzIGluc2lkZSB0aGUgcG9ydGFsIHRoYXQgYXJlIGxvb2tpbmcgYXQgdGhlIERPTSBpbnNpZGUgYSBsaWZlY3ljbGVcbiAgICAgICAgLy8gaG9vayB3b24ndCBiZSBpbnZva2VkIHRvbyBlYXJseS5cbiAgICAgICAgdmlld1JlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlld0NvbnRhaW5lci5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZpZXdDb250YWluZXIucmVtb3ZlKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE8oamVsYm91cm4pOiBSZXR1cm4gbG9jYWxzIGZyb20gdmlldy5cbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBvdXQgYSBwb3J0YWwgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlLCB0aGlzLm91dGxldEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSByb290IEhUTUxFbGVtZW50IGZvciBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50LiAqL1xuICAgIF9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZi5ob3N0Vmlldy5yb290Tm9kZXNbMF07XG4gICAgfVxufTtcbk5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oNCwgT3B0aW9uYWwoKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LFxuICAgICAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgIEFwcGxpY2F0aW9uUmVmLFxuICAgICAgICBJbmplY3RvcixcbiAgICAgICAgVmlld1V0aWxdKVxuXSwgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KTtcblxucmVnaXN0ZXJFbGVtZW50KCdEZXRhY2hlZENvbnRhaW5lcicsICgpID0+IFByb3h5Vmlld0NvbnRhaW5lciwge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbn0pO1xuLyoqXG4gKiBXcmFwcGVyIGNvbXBvbmVudCB1c2VkIGZvciBsb2FkaW5nIGNvbXBvbmVudHMgd2hlbiBuYXZpZ2F0aW5nXG4gKiBJdCB1c2VzIERldGFjaGVkQ29udGFpbmVyIGFzIHNlbGVjdG9yIHNvIHRoYXQgaXQgaXMgY29udGFpbmVyUmVmIGlzIG5vdCBhdHRhY2hlZCB0b1xuICogdGhlIHZpc3VhbCB0cmVlLlxuICovXG5jbGFzcyBEZXRhY2hlZExvYWRlciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpjb21wb25lbnQtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IocmVzb2x2ZXIsIGNoYW5nZURldGVjdG9yLCBjb250YWluZXJSZWYsIGFwcFJlZikge1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gcmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IgPSBjaGFuZ2VEZXRlY3RvcjtcbiAgICAgICAgdGhpcy5jb250YWluZXJSZWYgPSBjb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuYXBwUmVmID0gYXBwUmVmO1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMgPSBbXTtcbiAgICB9XG4gICAgY3JlYXRlQ29tcG9uZW50UG9ydGFsKGNvbXBvbmVudFR5cGUsIGN1c3RvbUluamVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50UG9ydGFsKGNvbXBvbmVudFR5cGUsIHRoaXMudmMsIGN1c3RvbUluamVjdG9yIHx8IHRoaXMudmMuaW5qZWN0b3IpO1xuICAgIH1cbiAgICBjcmVhdGVUZW1wbGF0ZVBvcnRhbCh0ZW1wbGF0ZVJlZiwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlUG9ydGFsKHRlbXBsYXRlUmVmLCB0aGlzLnZjLCBjb250ZXh0KTtcbiAgICB9XG4gICAgbG9hZEluQXBwUmVmKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50VHlwZSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IGZhY3RvcnkuY3JlYXRlKHRoaXMuY29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcFJlZi5kZXRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ29tcG9uZW50IGlzIGNyZWF0ZWQsIGJ1aWx0IG1heSBub3QgYmUgY2hlY2tlZCBpZiB3ZSBhcmUgbG9hZGluZ1xuICAgICAgICAvLyBpbnNpZGUgY29tcG9uZW50IHdpdGggT25QdXNoIENEIHN0cmF0ZWd5LiBNYXJrIHVzIGZvciBjaGVjayB0byBiZSBzdXJlIENEIHdpbGwgcmVhY2ggdXMuXG4gICAgICAgIC8vIFdlIGFyZSBpbnNpZGUgYSBwcm9taXNlIGhlcmUgc28gbm8gbmVlZCBmb3Igc2V0VGltZW91dCAtIENEIHNob3VsZCB0cmlnZ2VyXG4gICAgICAgIC8vIGFmdGVyIHRoZSBwcm9taXNlLlxuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZEluTG9jYXRpb24gY29tcG9uZW50IGxvYWRlZCAtPiBtYXJrRm9yQ2hlY2snLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIGxvYWRJbkxvY2F0aW9uKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmMuY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudFR5cGUpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlRnVuY3Rpb25zLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICB9XG4gICAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50KGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRDb21wb25lbnQnLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5sb2FkSW5BcHBSZWYoY29tcG9uZW50VHlwZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnRTeW5jKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUoJ0RldGFjaGVkTG9hZGVyLmxvYWRDb21wb25lbnRTeW5jJywgJ2RldGFjaGVkLWxvYWRlcicpO1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkSW5BcHBSZWYoY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudEluTG9jYXRpb24oY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudEluTG9jYXRpb24nLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRJbkxvY2F0aW9uKGNvbXBvbmVudFR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRXaXRoRmFjdG9yeShmYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IGZhY3RvcnkuY3JlYXRlKHRoaXMuY29udGFpbmVyUmVmLmluamVjdG9yKTtcbiAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcFJlZi5kZXRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgICAgICBjb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkV2l0aEZhY3RvcnlJbkxvY2F0aW9uKGZhY3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmMuY3JlYXRlQ29tcG9uZW50KGZhY3RvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBkZXBzOiBbeyB0b2tlbjogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdG9rZW46IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTAuQXBwbGljYXRpb25SZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgc2VsZWN0b3I6IFwiRGV0YWNoZWRDb250YWluZXJcIiwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJ2Y1wiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJ2Y1wiXSwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxQbGFjZWhvbGRlciAjbG9hZGVyPjwvUGxhY2Vob2xkZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjdmM+PC9uZy1jb250YWluZXI+XG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0RldGFjaGVkQ29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8UGxhY2Vob2xkZXIgI2xvYWRlcj48L1BsYWNlaG9sZGVyPlxuICAgIDxuZy1jb250YWluZXIgI3ZjPjwvbmctY29udGFpbmVyPlxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTAuQXBwbGljYXRpb25SZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IHZjOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3ZjJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV1cbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIFBhZ2VTZXJ2aWNlIHtcbiAgICBnZXQgaW5QYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5QYWdlJC52YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGluUGFnZSQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblBhZ2UkLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgfVxuICAgIGdldCBwYWdlRXZlbnRzJCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VFdmVudHMkLmFzT2JzZXJ2YWJsZSgpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYWdlLCBlbFJlZiwgdmlldykge1xuICAgICAgICB0aGlzLl9wYWdlRXZlbnRzJCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldyA9IHZpZXcgfHwgZWxSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIHdoaWxlICh2aWV3KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZSA9IHZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5QYWdlJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoISF0aGlzLnBhZ2U/LmlzTG9hZGVkKTtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0ZWRGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0ZWRUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGluZ0Zyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRpbmdUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGVkRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRlZFRvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGluZ0Zyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0aW5nVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5QYWdlJC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLl9wYWdlRXZlbnRzJC5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBwYWdlRXZlbnQoZXZ0KSB7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkLm5leHQoZXZ0KTtcbiAgICAgICAgc3dpdGNoIChldnQuZXZlbnROYW1lKSB7XG4gICAgICAgICAgICBjYXNlICduYXZpZ2F0ZWRUbyc6XG4gICAgICAgICAgICAgICAgdGhpcy5faW5QYWdlJC5uZXh0KHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbmF2aWdhdGVkRnJvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy5faW5QYWdlJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlU2VydmljZSwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYsIG9wdGlvbmFsOiB0cnVlIH0sIHsgdG9rZW46IGkxLlZpZXdCYXNlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZVNlcnZpY2UgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMS5QYWdlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IGkxLlZpZXdCYXNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3Rvcnkodikge1xuICAgIHJldHVybiB2LmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbn1cbmZ1bmN0aW9uIGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lKHYpIHtcbiAgICByZXR1cm4gdi5wYWdlO1xufVxucmVnaXN0ZXJFbGVtZW50KCdGcmFtZVBhZ2UnLCAoKSA9PiBGcmFtZSwge1xuICAgIGluc2VydENoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICBmcmFtZU1ldGEuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50WydfX25nX3BhZ2VfXyddLmNvbnRlbnQgPSBjaGlsZDtcbiAgICB9LFxufSk7XG5jbGFzcyBGcmFtZVBhZ2VDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuYWN0aW9uQmFySGlkZGVuID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGFnZSA9IHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoJ1BhZ2UnKTtcbiAgICAgICAgZWxlbWVudC5uYXRpdmVFbGVtZW50WydfX25nX3BhZ2VfXyddID0gdGhpcy5wYWdlO1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChlbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIHRoaXMucGFnZSk7XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuICYmIGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuLnByZXZpb3VzVmFsdWUgIT09IGNoYW5nZXMuYWN0aW9uQmFySGlkZGVuLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSAhIXRoaXMuYWN0aW9uQmFySGlkZGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9ICEhdGhpcy5hY3Rpb25CYXJIaWRkZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgc2VsZWN0b3I6IFwiRnJhbWVQYWdlXCIsIGlucHV0czogeyBhY3Rpb25CYXJIaWRkZW46IFwiYWN0aW9uQmFySGlkZGVuXCIgfSwgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LFxuICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLFxuICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICBdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdGcmFtZVBhZ2UnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBhY3Rpb25CYXJIaWRkZW46IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmZ1bmN0aW9uIGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSh2KSB7XG4gICAgcmV0dXJuIHYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xufVxuY2xhc3MgRnJhbWVEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBGcmFtZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiRnJhbWVcIiwgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogRnJhbWUsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5LFxuICAgICAgICAgICAgICAgIGRlcHM6IFtGcmFtZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRnJhbWUnLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lRGlyZWN0aXZlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5mdW5jdGlvbiBjdXN0b21QYWdlRmFjdG9yeSh2KSB7XG4gICAgcmV0dXJuIHYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xufVxuY2xhc3MgUGFnZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogUGFnZURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiUGFnZVwiLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBQYWdlLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbVBhZ2VGYWN0b3J5LFxuICAgICAgICAgICAgICAgIGRlcHM6IFtQYWdlRGlyZWN0aXZlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgXSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogW1BhZ2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSB9KTtcblxuY2xhc3MgRnJhbWVQYWdlTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlY2xhcmF0aW9uczogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdLCBleHBvcnRzOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0ZyYW1lRGlyZWN0aXZlLCBQYWdlRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmZ1bmN0aW9uIGlzUHJlc2VudChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNCbGFuayhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0FjdGlvbkl0ZW0odmlldykge1xuICAgIHJldHVybiB2aWV3IGluc3RhbmNlb2YgQWN0aW9uSXRlbTtcbn1cbmZ1bmN0aW9uIGlzTmF2aWdhdGlvbkJ1dHRvbih2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uQnV0dG9uO1xufVxuY29uc3QgYWN0aW9uQmFyTWV0YSA9IHtcbiAgICBza2lwQWRkVG9Eb206IHRydWUsXG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkLCBuZXh0KSA9PiB7XG4gICAgICAgIGlmIChpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNOYXZpZ2F0aW9uQnV0dG9uKGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPSBjaGlsZDtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBY3Rpb25JdGVtKGNoaWxkKSkge1xuICAgICAgICAgICAgYWRkQWN0aW9uSXRlbShwYXJlbnQsIGNoaWxkLCBuZXh0KTtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50LnRpdGxlVmlldyA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZDogKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hdmlnYXRpb25CdXR0b24oY2hpbGQpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPT09IGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lm5hdmlnYXRpb25CdXR0b24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBY3Rpb25JdGVtKGNoaWxkKSkge1xuICAgICAgICAgICAgcGFyZW50LmFjdGlvbkl0ZW1zLnJlbW92ZUl0ZW0oY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWaWV3KGNoaWxkKSAmJiBwYXJlbnQudGl0bGVWaWV3ICYmIHBhcmVudC50aXRsZVZpZXcgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQudGl0bGVWaWV3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG59O1xucmVnaXN0ZXJFbGVtZW50KCdBY3Rpb25CYXInLCAoKSA9PiBBY3Rpb25CYXIsIGFjdGlvbkJhck1ldGEpO1xucmVnaXN0ZXJFbGVtZW50KCdBY3Rpb25JdGVtJywgKCkgPT4gQWN0aW9uSXRlbSk7XG5yZWdpc3RlckVsZW1lbnQoJ05hdmlnYXRpb25CdXR0b24nLCAoKSA9PiBOYXZpZ2F0aW9uQnV0dG9uKTtcbmNvbnN0IGFkZEFjdGlvbkl0ZW0gPSAoYmFyLCBpdGVtLCBuZXh0KSA9PiB7XG4gICAgaWYgKG5leHQpIHtcbiAgICAgICAgaW5zZXJ0QWN0aW9uSXRlbUJlZm9yZShiYXIsIGl0ZW0sIG5leHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXBwZW5kQWN0aW9uSXRlbShiYXIsIGl0ZW0pO1xuICAgIH1cbn07XG5jb25zdCBpbnNlcnRBY3Rpb25JdGVtQmVmb3JlID0gKGJhciwgaXRlbSwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IGFjdGlvbkl0ZW1zID0gYmFyLmFjdGlvbkl0ZW1zO1xuICAgIGNvbnN0IGFjdGlvbkl0ZW1zQ29sbGVjdGlvbiA9IGFjdGlvbkl0ZW1zLmdldEl0ZW1zKCk7XG4gICAgY29uc3QgaW5kZXhUb0luc2VydCA9IGFjdGlvbkl0ZW1zQ29sbGVjdGlvbi5pbmRleE9mKG5leHQpO1xuICAgIGFjdGlvbkl0ZW1zQ29sbGVjdGlvbi5zcGxpY2UoaW5kZXhUb0luc2VydCwgMCwgaXRlbSk7XG4gICAgYWN0aW9uSXRlbXMuc2V0SXRlbXMoYWN0aW9uSXRlbXNDb2xsZWN0aW9uKTtcbn07XG5jb25zdCBhcHBlbmRBY3Rpb25JdGVtID0gKGJhciwgaXRlbSkgPT4ge1xuICAgIGJhci5hY3Rpb25JdGVtcy5hZGRJdGVtKGl0ZW0pO1xufTtcbmNsYXNzIEFjdGlvbkJhckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcGFnZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAoIXRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBQYWdlIGZvdW5kIGluIEFjdGlvbkJhckNvbXBvbmVudC5cXG4nICsgJ09ubHkgYSBQYWdlIGNhbiBjb250YWluIGFuIEFjdGlvbkJhciwgc28gcGxlYXNlIGVuc3VyZSBBY3Rpb25CYXIgaXMgb25seSB1c2VkIGluc2lkZSBhIENvbXBvbmVudCB0aGF0IGlzIHJvdXRlZCB2aWEgcGFnZS1yb3V0ZXItb3V0bGV0IG9yIGlzIGNvbnRhaW5lZCBpbiBhIFBhZ2UuXFxuJyArICdFeGFtcGxlIGZvciByb290IGFjdGlvbiBiYXJzIGluIEFwcENvbXBvbmVudDogPEZyYW1lPjxQYWdlPjxBY3Rpb25CYXI+Li4uLjwvQWN0aW9uQmFyPjwvUGFnZT48L0ZyYW1lPicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4pKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhciA9IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIHNlbGVjdG9yOiBcIkFjdGlvbkJhclwiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsIGlzSW5saW5lOiB0cnVlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdBY3Rpb25CYXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxuZy1jb250ZW50PjwvbmctY29udGVudD4nLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5jbGFzcyBBY3Rpb25CYXJTY29wZSB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpjb21wb25lbnQtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IocGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAoIXRoaXMucGFnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnNpZGUgQWN0aW9uQmFyRXh0ZW5zaW9uIGJ1dCBubyBBY3Rpb25CYXIgZm91bmQgdG8gZXh0ZW5kLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uTmF2QnV0dG9uSW5pdChuYXZCdG4pIHtcbiAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID0gbmF2QnRuLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgb25OYXZCdXR0b25EZXN0cm95KG5hdkJ0bikge1xuICAgICAgICBjb25zdCBuYXYgPSBuYXZCdG4uZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAobmF2ICYmIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9PT0gbmF2KSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQWN0aW9uSW5pdChpdGVtKSB7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIuYWN0aW9uSXRlbXMuYWRkSXRlbShpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIG9uQWN0aW9uRGVzdHJveShpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudC5hY3Rpb25CYXIpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIuYWN0aW9uSXRlbXMucmVtb3ZlSXRlbShpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIHNlbGVjdG9yOiBcIkFjdGlvbkJhckV4dGVuc2lvblwiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiAnJywgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uQmFyRXh0ZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcbmNsYXNzIEFjdGlvbkl0ZW1EaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG93bmVyU2NvcGUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5vd25lclNjb3BlID0gb3duZXJTY29wZTtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uQWN0aW9uSW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3duZXJTY29wZSkge1xuICAgICAgICAgICAgdGhpcy5vd25lclNjb3BlLm9uQWN0aW9uRGVzdHJveSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IEFjdGlvbkJhclNjb3BlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIHNlbGVjdG9yOiBcIkFjdGlvbkl0ZW1cIiwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uSXRlbURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnQWN0aW9uSXRlbScsIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6ZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5jbGFzcyBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvd25lclNjb3BlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3duZXJTY29wZSA9IG93bmVyU2NvcGU7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbk5hdkJ1dHRvbkluaXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbk5hdkJ1dHRvbkRlc3Ryb3kodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBBY3Rpb25CYXJTY29wZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJOYXZpZ2F0aW9uQnV0dG9uXCIsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ05hdmlnYXRpb25CdXR0b24nLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHRvIGVuc3VyZSBhIE5nTW9kdWxlIGlzIG9ubHkgaW1wb3J0ZWQgb25jZSBpbiBhIGNvZGViYXNlLCBvdGhlcndpc2Ugd2lsbCB0aHJvdyB0byBoZWxwIHByZXZlbnQgYWNjaWRlbnRhbCBkb3VibGUgaW1wb3J0aW5nXG4gKiBAcGFyYW0gcGFyZW50TW9kdWxlIFBhcmVudCBtb2R1bGUgbmFtZVxuICogQHBhcmFtIG1vZHVsZU5hbWUgVGhlIG1vZHVsZSBuYW1lXG4gKi9cbmZ1bmN0aW9uIHRocm93SWZBbHJlYWR5TG9hZGVkKHBhcmVudE1vZHVsZSwgbW9kdWxlTmFtZSkge1xuICAgIGlmIChwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke21vZHVsZU5hbWV9IGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLiBJbXBvcnQgJHttb2R1bGVOYW1lfSBpbiB0aGUgQXBwTW9kdWxlIG9ubHkuYCk7XG4gICAgfVxufVxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB3aGljaCB3aWxsIG9ubHkgZmlyZSB0aGUgY2FsbGJhY2sgb25jZSBldmVyXG4gKiBAcGFyYW0gZm4gY2FsbGJhY2sgdG8gY2FsbCBvbmx5IG9uY2VcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICBsZXQgd2FzQ2FsbGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIGlmICh3YXNDYWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXNDYWxsZWQgPSB0cnVlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZCwgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgTWFwKSAmJiAvLyBKUyBNYXAgYXJlIGl0ZXJhYmxlcyBidXQgcmV0dXJuIGVudHJpZXMgYXMgW2ssIHZdXG4gICAgICAgICAgICBTeW1ib2wuaXRlcmF0b3IgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG8gPT09ICdvYmplY3QnKTtcbn1cblxuY29uc3QgTkdfVklFVyA9ICdfbmdWaWV3UmVmJztcbmNvbnN0IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RlbXBsYXRlZEl0ZW1zQ29tcG9uZW50Jyk7XG5jbGFzcyBJdGVtQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoJGltcGxpY2l0LCBpdGVtLCBpbmRleCwgZXZlbiwgb2RkKSB7XG4gICAgICAgIHRoaXMuJGltcGxpY2l0ID0gJGltcGxpY2l0O1xuICAgICAgICB0aGlzLml0ZW0gPSBpdGVtO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuZXZlbiA9IGV2ZW47XG4gICAgICAgIHRoaXMub2RkID0gb2RkO1xuICAgIH1cbn1cbmNsYXNzIE5zVGVtcGxhdGVkSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIGxvY2F0aW9uLCBvbkNyZWF0ZSkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5vbkNyZWF0ZSA9IG9uQ3JlYXRlO1xuICAgIH1cbiAgICBjcmVhdGUoY29udGV4dCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5sb2NhdGlvbi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy50ZW1wbGF0ZSwgY29udGV4dCA/IHRoaXMuc2V0dXBJdGVtQ29udGV4dChjb250ZXh0KSA6IG5ldyBJdGVtQ29udGV4dCgpKTtcbiAgICAgICAgdmlld1JlZi5kZXRhY2goKTsgLy8gY3JlYXRlIGRldGFjaGVkLCBqdXN0IGJld2FyZSB0aGlzIGRvZXNuJ3QgYWx3YXlzIHdvcmsgYW5kIHRoZSB2aWV3IG1pZ2h0IHJ1biB0aGUgZmlyc3QgQ0QgYW55d2F5LlxuICAgICAgICBjb25zdCByZXN1bHRWaWV3ID0gZ2V0SXRlbVZpZXdSb290KHZpZXdSZWYpO1xuICAgICAgICByZXN1bHRWaWV3W05HX1ZJRVddID0gdmlld1JlZjtcbiAgICAgICAgaWYgKHRoaXMub25DcmVhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub25DcmVhdGUocmVzdWx0Vmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFZpZXc7XG4gICAgfVxuICAgIHVwZGF0ZSh2aWV3LCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1Db250ZXh0KGNvbnRleHQsIHZpZXdSZWYpO1xuICAgICAgICB2aWV3UmVmPy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIGF0dGFjaCh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZj8ucmVhdHRhY2goKTtcbiAgICAgICAgdmlld1JlZj8uZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBkZXRhY2godmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWY/LmRldGFjaCgpO1xuICAgIH1cbiAgICBkaXNwb3NlKHZpZXcpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB2aWV3UmVmPy5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldEVtYmVkZGVkVmlld1JlZih2aWV3KSB7XG4gICAgICAgIGxldCB2aWV3UmVmID0gdmlld1tOR19WSUVXXTtcbiAgICAgICAgLy8gR2V0dGluZyBhbmd1bGFyIHZpZXcgZnJvbSBvcmlnaW5hbCBlbGVtZW50IChpbiBjYXNlcyB3aGVuIFByb3h5Vmlld0NvbnRhaW5lclxuICAgICAgICAvLyBpcyB1c2VkIE5hdGl2ZVNjcmlwdCBpbnRlcm5hbGx5IHdyYXBzIGl0IGluIGEgU3RhY2tMYXlvdXQpXG4gICAgICAgIGlmICghdmlld1JlZiAmJiB2aWV3IGluc3RhbmNlb2YgTGF5b3V0QmFzZSAmJiB2aWV3LmdldENoaWxkcmVuQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgIHZpZXdSZWYgPSB2aWV3LmdldENoaWxkQXQoMClbTkdfVklFV107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIGlzVmFsaWQodmlldykge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICB9XG4gICAgc2V0dXBJdGVtQ29udGV4dCh7IGluZGV4LCBkYXRhIH0sIG9sZFZpZXcpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IG9sZFZpZXcgPyBvbGRWaWV3LmNvbnRleHQgOiBuZXcgSXRlbUNvbnRleHQoKTtcbiAgICAgICAgY29udGV4dC4kaW1wbGljaXQgPSBkYXRhO1xuICAgICAgICBjb250ZXh0Lml0ZW0gPSBkYXRhO1xuICAgICAgICBjb250ZXh0LmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnRleHQuZXZlbiA9IGluZGV4ICUgMiA9PT0gMDtcbiAgICAgICAgY29udGV4dC5vZGQgPSAhY29udGV4dC5ldmVuO1xuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG59XG5jbGFzcyBMaXN0Vmlld0NvbXBvbmVudCB7XG4gICAgZ2V0IG5hdGl2ZUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldztcbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXM7XG4gICAgfVxuICAgIHNldCBpdGVtcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IHZhbHVlO1xuICAgICAgICBsZXQgbmVlZERpZmZlciA9IHRydWU7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE9ic2VydmFibGVBcnJheSkge1xuICAgICAgICAgICAgbmVlZERpZmZlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZWVkRGlmZmVyICYmICF0aGlzLl9kaWZmZXIgJiYgaXNMaXN0TGlrZUl0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fZGlmZmVyID0gdGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodGhpcy5faXRlbXMpLmNyZWF0ZSgoX2luZGV4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5pdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgIH1cbiAgICAvLyB0aGlzIGVsZW1lbnRSZWYgaXMgb25seSBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zXG4gICAgY29uc3RydWN0b3IoX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5faXRlcmFibGVEaWZmZXJzID0gaW5qZWN0KEl0ZXJhYmxlRGlmZmVycyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmID0gaW5qZWN0KENoYW5nZURldGVjdG9yUmVmKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IGluamVjdChFbGVtZW50UmVmKTtcbiAgICAgICAgLy8gSSBiZWxpZXZlIHRoaXMgb25seSBleGlzdHMgc28gdGhpcyBjYW4gYmUgaW5oZXJpdGVkIGFuZCBwZW9wbGUgY2FuIG92ZXJyaWRlIGl0LlxuICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldyA9IHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgdGhpcy5fdmlld1RvVGVtcGxhdGUgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB0aGlzLnNldHVwSXRlbVZpZXcgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIGlmIChfZWxlbWVudFJlZikge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSBfZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnVGVtcGxhdGVkSXRlbXNWaWV3Lm5nQWZ0ZXJDb250ZW50SW5pdCgpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRJdGVtVGVtcGxhdGVzKCk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldyA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZU1hcCkge1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRJdGVtVGVtcGxhdGVzKCkge1xuICAgICAgICAvLyBUaGUgaXRlbVRlbXBsYXRlUXVlcnkgbWF5IGJlIGNoYW5nZWQgYWZ0ZXIgbGlzdCBpdGVtcyBhcmUgYWRkZWQgdGhhdCBjb250YWluIDx0ZW1wbGF0ZT4gaW5zaWRlLFxuICAgICAgICAvLyBzbyBjYWNoZSBhbmQgdXNlIG9ubHkgdGhlIG9yaWdpbmFsIHRlbXBsYXRlIHRvIGF2b2lkIGVycm9ycy5cbiAgICAgICAgdGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSA9IHRoaXMuaXRlbVRlbXBsYXRlUXVlcnk7XG4gICAgICAgIGlmICh0aGlzLmZhbGxiYWNrSXRlbVRlbXBsYXRlICYmICF0aGlzLl90ZW1wbGF0ZU1hcD8uaGFzKCdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgIC8vIGFwcGFyZW50bHkgeW91IGNhbiBjcmVhdGUgYSBDb3JlIExpc3RWaWV3IHdpdGhvdXQgYSB0ZW1wbGF0ZS4uLlxuICAgICAgICAgICAgLy8gd2UgYWxzbyBhZGQgYSBmYWxsYmFjayBkZWZhdWx0IGZvciB3aGVuIHRoZSB1c2VyIHNldHMgbXVsdGlwbGUgdGVtcGxhdGVzIGJ1dCBubyB0ZW1wbGF0ZVNlbGVjdG9yXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVGVtcGxhdGUoJ2RlZmF1bHQnLCB0aGlzLmZhbGxiYWNrSXRlbVRlbXBsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyB0ZW1wbGF0ZXMgYXJlIHJlZ2lzdGVyZWQgYmVmb3JlIGxvYWRlciBpcyByZWFkeSwgc28gd2UgdXBkYXRlIGhlcmVcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmZvckVhY2goKHQpID0+ICh0LmxvY2F0aW9uID0gdGhpcy5sb2FkZXIpKTtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCdTZXR0aW5nIHRlbXBsYXRlcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVzID0gW107XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVWaWV3OiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3Lml0ZW1UZW1wbGF0ZXMgPSB0ZW1wbGF0ZXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVnaXN0ZXJUZW1wbGF0ZShrZXksIHRlbXBsYXRlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coYHJlZ2lzdGVyVGVtcGxhdGUgZm9yIGtleTogJHtrZXl9LCAke3RoaXMubG9hZGVyfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLnNldChrZXksIG5ldyBOc1RlbXBsYXRlZEl0ZW0odGVtcGxhdGUsIHRoaXMubG9hZGVyLCAodikgPT4gdGhpcy5fdmlld1RvVGVtcGxhdGUuc2V0KHYsIGtleSkpKTtcbiAgICB9XG4gICAgb25JdGVtTG9hZGluZyhhcmdzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IGFyZ3MuaW5kZXg7XG4gICAgICAgIGNvbnN0IGx2aWV3ID0gYXJncy5vYmplY3Q7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gbHZpZXcuaXRlbXM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gJ2dldEl0ZW0nIGluIGl0ZW1zICYmIHR5cGVvZiBpdGVtcy5nZXRJdGVtID09PSAnZnVuY3Rpb24nID8gaXRlbXMuZ2V0SXRlbShpbmRleCkgOiBpdGVtc1tpbmRleF07XG4gICAgICAgIGxldCB0ZW1wbGF0ZTtcbiAgICAgICAgaWYgKGFyZ3Mudmlldykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coYG9uSXRlbUxvYWRpbmc6ICR7aW5kZXh9IC0gUmV1c2luZyBleGlzdGluZyB2aWV3YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGVtcGxhdGVLZXkgPSB0aGlzLl92aWV3VG9UZW1wbGF0ZS5nZXQoYXJncy52aWV3KTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVLZXkgJiYgYXJncy52aWV3IGluc3RhbmNlb2YgTGF5b3V0QmFzZSAmJiBhcmdzLnZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlS2V5ID0gdGhpcy5fdmlld1RvVGVtcGxhdGUuZ2V0KGFyZ3Mudmlldy5nZXRDaGlsZEF0KDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGVtcGxhdGVLZXkpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHRlbXBsYXRlIHdhcyBub3QgY3JlYXRlZCBieSB1c1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0Vycm9yKGBWaWV3UmVmZXJlbmNlIG5vdCBmb3VuZCBmb3IgaXRlbSAke2luZGV4fS4gVmlldyByZWN5Y2xpbmcgaXMgbm90IHdvcmtpbmdgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZU1hcC5nZXQodGVtcGxhdGVLZXkpO1xuICAgICAgICAgICAgdGVtcGxhdGUudXBkYXRlKGFyZ3MudmlldywgeyBpbmRleCwgZGF0YTogY3VycmVudEl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIHNob3VsZCBuZXZlciBlbnRlciBpZiBpdCBjcmVhdGVzIHRoZSB2aWV3XG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZUtleSA9IHR5cGVvZiBsdmlldy5pdGVtVGVtcGxhdGVTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJyA/IGx2aWV3Lml0ZW1UZW1wbGF0ZVNlbGVjdG9yKGN1cnJlbnRJdGVtLCBpbmRleCwgaXRlbXMpIDogJ2RlZmF1bHQnO1xuICAgICAgICAgICAgdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZU1hcC5nZXQodGVtcGxhdGVLZXkpO1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0Vycm9yKGBUZW1wbGF0ZSBmb3Iga2V5ICcke3RlbXBsYXRlS2V5fScgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcmdzLnZpZXcgPSB0ZW1wbGF0ZS5jcmVhdGUoeyBpbmRleCwgZGF0YTogY3VycmVudEl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXR1cFZpZXdSZWYodGVtcGxhdGUuZ2V0RW1iZWRkZWRWaWV3UmVmKGFyZ3MudmlldyksIGN1cnJlbnRJdGVtLCBpbmRleCwgYXJncy52aWV3KTtcbiAgICAgICAgdGVtcGxhdGUuYXR0YWNoKGFyZ3Mudmlldyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgc2V0dXBWaWV3UmVmKHZpZXdSZWYsIGRhdGEsIGluZGV4LCBuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSB2aWV3UmVmLmNvbnRleHQ7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtVmlldy5uZXh0KHsgdmlldzogdmlld1JlZiwgbmF0aXZlRWxlbWVudCwgZGF0YTogZGF0YSwgaW5kZXg6IGluZGV4LCBjb250ZXh0OiBjb250ZXh0IH0pO1xuICAgIH1cbiAgICBuZ0RvQ2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCduZ0RvQ2hlY2soKSAtIGV4ZWN1dGUgZGlmZmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5fZGlmZmVyLmRpZmYodGhpcy5faXRlbXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ25nRG9DaGVjaygpIC0gcmVmcmVzaCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBMaXN0Vmlld0NvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBMaXN0Vmlld0NvbXBvbmVudCwgc2VsZWN0b3I6IFwiTGlzdFZpZXdcIiwgaW5wdXRzOiB7IGl0ZW1zOiBcIml0ZW1zXCIgfSwgb3V0cHV0czogeyBzZXR1cEl0ZW1WaWV3OiBcInNldHVwSXRlbVZpZXdcIiB9LCBob3N0OiB7IGxpc3RlbmVyczogeyBcIml0ZW1Mb2FkaW5nXCI6IFwib25JdGVtTG9hZGluZygkZXZlbnQpXCIgfSB9LCBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IExpc3RWaWV3Q29tcG9uZW50KSB9XSwgcXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcIml0ZW1UZW1wbGF0ZVF1ZXJ5XCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFRlbXBsYXRlUmVmLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVGVtcGxhdGVSZWYgfV0sIHZpZXdRdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwibG9hZGVyXCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFtcImxvYWRlclwiXSwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxEZXRhY2hlZENvbnRhaW5lcj5cbiAgICA8bmctY29udGFpbmVyICNsb2FkZXI+PC9uZy1jb250YWluZXI+XG4gIDwvRGV0YWNoZWRDb250YWluZXI+YCwgaXNJbmxpbmU6IHRydWUsIGNoYW5nZURldGVjdGlvbjogaTAuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoIH0pOyB9XG59XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTGlzdFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcIm9uSXRlbUxvYWRpbmdcIiwgbnVsbCk7XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0xpc3RWaWV3JyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8RGV0YWNoZWRDb250YWluZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjbG9hZGVyPjwvbmctY29udGFpbmVyPlxuICA8L0RldGFjaGVkQ29udGFpbmVyPmAsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IExpc3RWaWV3Q29tcG9uZW50KSB9XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGxvYWRlcjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogWydsb2FkZXInLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XVxuICAgICAgICAgICAgfV0sIHNldHVwSXRlbVZpZXc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0XG4gICAgICAgICAgICB9XSwgaXRlbVRlbXBsYXRlUXVlcnk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogQ29udGVudENoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtUZW1wbGF0ZVJlZiwgeyByZWFkOiBUZW1wbGF0ZVJlZiwgc3RhdGljOiBmYWxzZSB9XVxuICAgICAgICAgICAgfV0sIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgb25JdGVtTG9hZGluZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBIb3N0TGlzdGVuZXIsXG4gICAgICAgICAgICAgICAgYXJnczogWydpdGVtTG9hZGluZycsIFsnJGV2ZW50J11dXG4gICAgICAgICAgICB9XSB9IH0pO1xuZnVuY3Rpb24gZ2V0SXRlbVZpZXdSb290KHZpZXdSZWYsIHJvb3RMb2NhdG9yID0gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUpIHtcbiAgICBjb25zdCByb290VmlldyA9IHJvb3RMb2NhdG9yKHZpZXdSZWYucm9vdE5vZGVzLCAwKTtcbiAgICByZXR1cm4gcm9vdFZpZXc7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuY2xhc3MgVGVtcGxhdGVLZXlEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlUmVmLCBjb21wKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZVJlZjtcbiAgICAgICAgdGhpcy5jb21wID0gY29tcDtcbiAgICB9XG4gICAgc2V0IG5zVGVtcGxhdGVLZXkodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcCAmJiB0aGlzLnRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXAucmVnaXN0ZXJUZW1wbGF0ZSh2YWx1ZSwgdGhpcy50ZW1wbGF0ZVJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0IG5zVGVtcGxhdGVLZXlzKHZhbHVlcykge1xuICAgICAgICAvLyBzaW5nbGUgdGVtcGxhdGUgd2l0aCBtdWx0aXBsZSBrZXlzXG4gICAgICAgIGlmICh0aGlzLmNvbXAgJiYgdGhpcy50ZW1wbGF0ZVJlZiAmJiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4gdGhpcy5jb21wLnJlZ2lzdGVyVGVtcGxhdGUodmFsdWUsIHRoaXMudGVtcGxhdGVSZWYpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuVGVtcGxhdGVSZWYgfSwgeyB0b2tlbjogVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVCwgaG9zdDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbbnNUZW1wbGF0ZUtleV0sW25zVGVtcGxhdGVLZXlzXVwiLCBpbnB1dHM6IHsgbnNUZW1wbGF0ZUtleTogXCJuc1RlbXBsYXRlS2V5XCIsIG5zVGVtcGxhdGVLZXlzOiBcIm5zVGVtcGxhdGVLZXlzXCIgfSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGVtcGxhdGVLZXlEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbeyBzZWxlY3RvcjogJ1tuc1RlbXBsYXRlS2V5XSxbbnNUZW1wbGF0ZUtleXNdJyB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLlRlbXBsYXRlUmVmIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBIb3N0XG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtURU1QTEFURURfSVRFTVNfQ09NUE9ORU5UXVxuICAgICAgICAgICAgICAgIH1dIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBuc1RlbXBsYXRlS2V5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgbnNUZW1wbGF0ZUtleXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIEZyYW1lU2VydmljZSB7XG4gICAgLy8gVE9ETzogQWRkIGFueSBtZXRob2RzIHRoYXQgYXJlIG5lZWRlZCB0byBoYW5kbGUgZnJhbWUvcGFnZSBuYXZpZ2F0aW9uXG4gICAgZ2V0RnJhbWUoKSB7XG4gICAgICAgIHJldHVybiBGcmFtZS50b3Btb3N0KCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVTZXJ2aWNlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVTZXJ2aWNlLCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVNlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jbGFzcyBPdXRsZXQge1xuICAgIGdldCBpc1BhZ2VOYXZpZ2F0aW9uQmFjaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5zaXplID4gMDtcbiAgICB9XG4gICAgc2V0IGlzUGFnZU5hdmlnYXRpb25CYWNrKGlzQmFjaykge1xuICAgICAgICBpZiAoIWlzQmFjaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy5kZWxldGUodGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0aGlzLm91dGxldEtleXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3V0bGV0S2V5LCBwYXRoLCBwYXRoQnlPdXRsZXRzLCBtb2RhbE5hdmlnYXRpb25EZXB0aCkge1xuICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8vIE1vcmUgdGhhbiBvbmUgZnJhbWUgYXZhaWxhYmxlIHdoZW4gdXNpbmcgTlNFbXB0eU91dGxldENvbXBvbmVudCBjb21wb25lbnRcbiAgICAgICAgLy8gaW4gbW9kdWxlIHRoYXQgbGF6eSBsb2FkcyBjaGlsZHJlbiAobG9hZENoaWxkcmVuKSBhbmQgaGFzIG91dGxldCBuYW1lLlxuICAgICAgICB0aGlzLmZyYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xuICAgICAgICAvLyBVc2VkIGluIHJldXNlLXN0cmF0ZWd5IGJ5IGl0cyBjaGlsZHJlbiB0byBkZXRlcm1pbmUgaWYgdGhleSBzaG91bGQgYmUgZGV0YWNoZWQgdG9vLlxuICAgICAgICB0aGlzLnNob3VsZERldGFjaCA9IHRydWU7XG4gICAgICAgIHRoaXMub3V0bGV0S2V5cyA9IFtvdXRsZXRLZXldO1xuICAgICAgICB0aGlzLmlzUGFnZU5hdmlnYXRpb25CYWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2hvd2luZ01vZGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW9kYWxOYXZpZ2F0aW9uRGVwdGggPSBtb2RhbE5hdmlnYXRpb25EZXB0aCB8fCAwO1xuICAgICAgICB0aGlzLnBhdGhCeU91dGxldHMgPSBwYXRoQnlPdXRsZXRzO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIH1cbiAgICBzZXRPdXRsZXRLZXlOYXZpZ2F0aW5nQmFjayhrZXkpIHtcbiAgICAgICAgY29uc3QgbmVzdHMgPSBrZXkuc3BsaXQoJy8nKTtcbiAgICAgICAgdGhpcy5vdXRsZXRLZXlzXG4gICAgICAgICAgICAuZmlsdGVyKChrKSA9PiBrLnNwbGl0KCcvJykubGVuZ3RoID49IG5lc3RzLmxlbmd0aClcbiAgICAgICAgICAgIC5mb3JFYWNoKChrKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuYWRkKGspO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29udGFpbnNGcmFtZShmcmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZXMuaW5kZXhPZihmcmFtZSkgPiAtMTtcbiAgICB9XG4gICAgcGVla1N0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGVzW3RoaXMuc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb250YWluc1RvcFN0YXRlKHN0YXRlVXJsKSB7XG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IHRoaXMucGVla1N0YXRlKCk7XG4gICAgICAgIHJldHVybiBsYXN0U3RhdGUgJiYgbGFzdFN0YXRlLnNlZ21lbnRHcm91cC50b1N0cmluZygpID09PSBzdGF0ZVVybDtcbiAgICB9XG4gICAgLy8gU2VhcmNoIGZvciBmcmFtZSB0aGF0IGNhbiBnbyBiYWNrLlxuICAgIC8vIE5lc3RlZCAncHJpbWFyeScgb3V0bGV0cyBjb3VsZCByZXN1bHQgaW4gT3V0bGV0IHdpdGggbXVsdGlwbGUgbmF2aWdhdGFibGUgZnJhbWVzLlxuICAgIGdldEZyYW1lVG9CYWNrKCkge1xuICAgICAgICBsZXQgZnJhbWUgPSB0aGlzLmZyYW1lc1t0aGlzLmZyYW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCF0aGlzLmlzTlNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSB0aGlzLmZyYW1lcy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEZyYW1lID0gdGhpcy5mcmFtZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RnJhbWUuY2FuR29CYWNrKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxufVxuY29uc3QgZGVmYXVsdE5hdk9wdGlvbnMgPSB7XG4gICAgY2xlYXJIaXN0b3J5OiBmYWxzZSxcbiAgICBhbmltYXRlZDogdHJ1ZSxcbn07XG5cbmNsYXNzIE5TTG9jYXRpb25TdHJhdGVneSBleHRlbmRzIExvY2F0aW9uU3RyYXRlZ3kge1xuICAgIGNvbnN0cnVjdG9yKGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlID0gZnJhbWVTZXJ2aWNlO1xuICAgICAgICB0aGlzLnN0YXJ0UGF0aCA9IHN0YXJ0UGF0aDtcbiAgICAgICAgdGhpcy5vdXRsZXRzID0gW107XG4gICAgICAgIHRoaXMucG9wU3RhdGVDYWxsYmFja3MgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPSAwO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmNvbnN0cnVjdG9yKCknKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE91dGxldCAmJiB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgfVxuICAgIHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50VXJsVHJlZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRQYXRoIHx8ICcvJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY3VycmVudE91dGxldCAmJiB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJlZSA9IHRoaXMuY3VycmVudFVybFRyZWU7XG4gICAgICAgIGNvbnN0IGNoYW5nZWRPdXRsZXQgPSB0aGlzLmdldFNlZ21lbnRHcm91cEJ5T3V0bGV0KHRoaXMuY3VycmVudE91dGxldCk7XG4gICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGRlY2xhcmVzIGEgY29tcG9uZW50IGF0IHBhdGggXCIvXCIuXG4gICAgICAgIC8vIFRoZSB1cmwgc2VyaWFsaXplciBkb2Vzbid0IHBhcnNlIHRoaXMgdXJsIGFzIGhhdmluZyBhIHByaW1hcnkgb3V0bGV0LlxuICAgICAgICBpZiAoc3RhdGUuaXNSb290U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICB0cmVlLnJvb3QgPSBzdGF0ZS5zZWdtZW50R3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlZE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBzdGF0ZS5zZWdtZW50R3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgdHJlZS5xdWVyeVBhcmFtcyA9IHN0YXRlLnF1ZXJ5UGFyYW1zO1xuICAgICAgICBjb25zdCB1cmwgPSB1cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0cmVlKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wYXRoKCk6ICcgKyB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICAgIHByZXBhcmVFeHRlcm5hbFVybChpbnRlcm5hbCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnByZXBhcmVFeHRlcm5hbFVybCgpIGludGVybmFsOiAnICsgaW50ZXJuYWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcm5hbDtcbiAgICB9XG4gICAgcHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZSBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpO1xuICAgIH1cbiAgICBwdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFVybFRyZWUgPSB1cmxTZXJpYWxpemVyLnBhcnNlKHVybCk7XG4gICAgICAgIGNvbnN0IHVybFRyZWVSb290ID0gdGhpcy5jdXJyZW50VXJsVHJlZS5yb290O1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkZWNsYXJlcyBhIGNvbXBvbmVudCBhdCBwYXRoIFwiL1wiLlxuICAgICAgICAvLyBUaGUgdXJsIHNlcmlhbGl6ZXIgZG9lc24ndCBwYXJzZSB0aGlzIHVybCBhcyBoYXZpbmcgYSBwcmltYXJ5IG91dGxldC5cbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyh1cmxUcmVlUm9vdC5jaGlsZHJlbikubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50R3JvdXAgPSB0aGlzLmN1cnJlbnRVcmxUcmVlICYmIHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoc2VnbWVudEdyb3VwKSwgJ3ByaW1hcnknKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgaWYgKG91dGxldCAmJiB0aGlzLnVwZGF0ZVN0YXRlcyhvdXRsZXQsIHNlZ21lbnRHcm91cCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RPdXRsZXQgPSB0aGlzLmNyZWF0ZU91dGxldCgncHJpbWFyeScsIG51bGwsIHNlZ21lbnRHcm91cCwgbnVsbCwgbnVsbCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gcm9vdE91dGxldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKS5pc1Jvb3RTZWdtZW50R3JvdXAgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIGxldCBjdXJyZW50VHJlZSA9IHVybFRyZWVSb290O1xuICAgICAgICB3aGlsZSAoY3VycmVudFRyZWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGN1cnJlbnRUcmVlLmNoaWxkcmVuKS5mb3JFYWNoKChvdXRsZXROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNlZ21lbnRHcm91cCA9IGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZWdtZW50R3JvdXAub3V0bGV0ID0gb3V0bGV0TmFtZTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudEdyb3VwLnJvb3QgPSB1cmxUcmVlUm9vdDtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRsZXRQYXRoID0gdGhpcy5nZXRTZWdtZW50R3JvdXBGdWxsUGF0aChjdXJyZW50VHJlZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkob3V0bGV0UGF0aCwgb3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgbGV0IG91dGxldCA9IHRoaXMuZmluZE91dGxldChvdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldE5hbWUgPSBjdXJyZW50VHJlZS5vdXRsZXQgfHwgJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0UGF0aCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoY3VycmVudFRyZWUucGFyZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShwYXJlbnRPdXRsZXRQYXRoLCBwYXJlbnRPdXRsZXROYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQocGFyZW50T3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluc0xhc3RTdGF0ZSA9IG91dGxldCAmJiBvdXRsZXQuY29udGFpbnNUb3BTdGF0ZShjdXJyZW50U2VnbWVudEdyb3VwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBvdXRsZXRQYXRoLCBjdXJyZW50U2VnbWVudEdyb3VwLCBwYXJlbnRPdXRsZXQsIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDAgJiYgb3V0bGV0LnNob3dpbmdNb2RhbCAmJiAhY29udGFpbnNMYXN0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmF2aWdhdGlvbiBpbnNpZGUgbW9kYWwgdmlldy5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cHNlcnRNb2RhbE91dGxldChvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGV0LnBhcmVudCA9IHBhcmVudE91dGxldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBkYXRlU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGN1cnJlbnRTZWdtZW50R3JvdXApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50VHJlZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcykge1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcztcbiAgICAgICAgaWYgKHN0YXRlcyAmJiBzdGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlIGNoYW5naW5nIGV4aXN0aW5nIHN0YXRlOiAnICsgYCR7c3RhdGV9LCB0aXRsZTogJHt0aXRsZX0sIHVybDogJHt1cmx9LCBxdWVyeVBhcmFtczogJHtxdWVyeVBhcmFtc31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZSBwdXNoaW5nIG5ldyBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZm9yd2FyZCgpIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGJhY2sob3V0bGV0LCBmcmFtZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50T3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSB0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzO1xuICAgICAgICAgICAgLy8gV2UgYXJlIG5hdmlnYXRpbmcgdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBzdGFjayB1bnRpbCB3ZSBnZXQgdG8gYSBwYWdlIG5hdmlnYXRpb24gc3RhdGVcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDE7XG4gICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RhdGUuZnJhbWUgJiYgc3RhdGUuZnJhbWUgIT09IGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghc3RhdGUuaXNQYWdlTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhdGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYE5TTG9jYXRpb25TdHJhdGVneS5iYWNrKCkgd2hpbGUgbmF2aWdhdGluZyBiYWNrLiBTdGF0ZXMgcG9wcGVkOiAke2NvdW50fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUoc3RhdGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUgJiYgc3RhdGUuaXNQYWdlTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2FzIGEgcGFnZSBuYXZpZ2F0aW9uIC0gc28gbmF2aWdhdGUgdGhyb3VnaCBmcmFtZS5cbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5vdCBuYXZpZ2F0aW5nIGJhY2sgYnV0IHRvcCcgKyAnIHN0YXRlIGlzIHBhZ2UgLSB3aWxsIGNhbGwgZnJhbWUuZ29CYWNrKCknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9wbW9zdEZyYW1lID0gdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKHRvcG1vc3RGcmFtZSkgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVRvQmFjayA9IHRoaXMuY3VycmVudE91dGxldC5nZXRGcmFtZVRvQmFjaygpO1xuICAgICAgICAgICAgICAgIGlmIChmcmFtZVRvQmFjaykge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZVRvQmFjay5nb0JhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBOZXN0ZWQgbmF2aWdhdGlvbiAtIGp1c3QgcG9wIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5iYWNrKCkgd2hpbGUgbm90IG5hdmlnYXRpbmcgYmFjayBidXQgdG9wJyArICcgc3RhdGUgaXMgbm90IHBhZ2UgLSBqdXN0IHBvcCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZSh0aGlzLmN1cnJlbnRPdXRsZXQuc3RhdGVzLnBvcCgpLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5Hb0JhY2sob3V0bGV0KSB7XG4gICAgICAgIG91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIHJldHVybiBvdXRsZXQuc3RhdGVzLmxlbmd0aCA+IDE7XG4gICAgfVxuICAgIG9uUG9wU3RhdGUoZm4pIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5vblBvcFN0YXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3BTdGF0ZUNhbGxiYWNrcy5wdXNoKGZuKTtcbiAgICB9XG4gICAgZ2V0QmFzZUhyZWYoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY2FsbFBvcFN0YXRlKHN0YXRlLCBwb3AgPSB0cnVlLCBvdXRsZXQpIHtcbiAgICAgICAgb3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICBjb25zdCBjaGFuZ2VkT3V0bGV0ID0gdGhpcy5nZXRTZWdtZW50R3JvdXBCeU91dGxldChvdXRsZXQpO1xuICAgICAgICBpZiAoc3RhdGUgJiYgY2hhbmdlZE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodGhpcy5jdXJyZW50VXJsVHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBzdGF0ZS5zZWdtZW50R3JvdXApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gY2xvc2luZyBtb2RhbCB2aWV3IHRoZXJlIGFyZSBzY2VuYXJpb3MgKGUuZy4gcm9vdCB2aWV3Q29udGFpbmVyUmVmKSB3aGVuIHdlIG5lZWRcbiAgICAgICAgICAgIC8vIHRvIGNsZWFuIHVwIHRoZSBuYW1lZCBwYWdlIHJvdXRlciBvdXRsZXQgdG8gbWFrZSBzdXJlIHdlIHdpbGwgb3BlbiB0aGUgbW9kYWwgcHJvcGVybHkgYWdhaW4gaWYgbmVlZGVkLlxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWdtZW50R3JvdXAodGhpcy5jdXJyZW50VXJsVHJlZS5yb290LCBjaGFuZ2VkT3V0bGV0LCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmwgPSB1cmxTZXJpYWxpemVyLnNlcmlhbGl6ZSh0aGlzLmN1cnJlbnRVcmxUcmVlKTtcbiAgICAgICAgY29uc3QgY2hhbmdlID0geyBzdGF0ZSwgdHlwZTogJ3BvcHN0YXRlJyB9O1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMucG9wU3RhdGVDYWxsYmFja3MpIHtcbiAgICAgICAgICAgIGZuKGNoYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgdGhpcy5vdXRsZXRzLmZvckVhY2goKG91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0U3RhdGVzID0gb3V0bGV0LnN0YXRlcztcbiAgICAgICAgICAgIGNvbnN0IG91dGxldExvZyA9IG91dGxldFN0YXRlc1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICAubWFwKCh2LCBpKSA9PiBgJHtvdXRsZXQub3V0bGV0S2V5c30uJHtpfS5bJHt2LmlzUGFnZU5hdmlnYXRpb24gPyAnUEFHRScgOiAnSU5URVJOQUwnfV0uWyR7b3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID8gJ01PREFMJyA6ICdCQVNFJ31dIFwiJHt2LnNlZ21lbnRHcm91cC50b1N0cmluZygpfVwiYClcbiAgICAgICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdChvdXRsZXRMb2cpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCdcXG4nKTtcbiAgICB9XG4gICAgLy8gTWV0aG9kcyBmb3Igc3luY2luZyB3aXRoIHBhZ2UgbmF2aWdhdGlvbiBpbiBQYWdlUm91dGVyT3V0bGV0XG4gICAgX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uKGZyYW1lLCBvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKTtcbiAgICAgICAgaWYgKCFvdXRsZXQgfHwgb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgc3RhcnRHb0JhY2sgd2hpbGUgZ29pbmcgYmFjay4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnN0YXJ0R29CYWNrKCknKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXQuc2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2sob3V0bGV0S2V5KTtcbiAgICAgICAgLy8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrID0gdHJ1ZTtcbiAgICAgICAgLy8gd2UgZmluZCBhbGwgdGhlIGNoaWxkcmVuIGFuZCBhbHNvIHNldCB0aGVpciBpc1BhZ2VOYXZpZ2F0aW9uQmFja1xuICAgICAgICB0aGlzLm91dGxldHNcbiAgICAgICAgICAgIC5maWx0ZXIoKG8pID0+IHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBvLnBhcmVudDtcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ID09PSBvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZm9yRWFjaCgobykgPT4gKG8uaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSB0cnVlKSk7XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICB9XG4gICAgX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbihmcmFtZSkge1xuICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpO1xuICAgICAgICBpZiAoIW91dGxldCB8fCAhb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgZW5kR29CYWNrIHdoaWxlIG5vdCBnb2luZyBiYWNrLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgPSBmYWxzZTtcbiAgICB9XG4gICAgX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgLy8gSXQgaXMgcG9zc2libGUgdG8gaGF2ZSBmcmFtZSwgYnV0IG5vdCBjb3JyZXNwb25kaW5nIE91dGxldCwgaWZcbiAgICAgICAgLy8gc2hvd2luZyBtb2RhbCBkaWFsb2cgb24gYXBwLmNvbXBvbmVudC50cyBuZ09uSW5pdCgpIGUuZy4gSW4gdGhhdCBjYXNlXG4gICAgICAgIC8vIHRoZSBtb2RhbCBpcyB0cmVhdGVkIGFzIG5vbmUgbW9kYWwgbmF2aWdhdGlvbi5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnNob3dpbmdNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9zZU1vZGFsTmF2aWdhdGlvbigpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5jbG9zZU1vZGFsTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTaG93aW5nTW9kYWwgPSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDA7XG4gICAgICAgIGlmIChpc1Nob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjdXJyZW50T3V0bGV0IHNob3VsZCBiZSB0aGUgb25lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHRvcG1vc3QgZnJhbWVcbiAgICAgICAgY29uc3QgdG9wbW9zdE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZSh0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpKTtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgaXNTaG93aW5nTW9kYWwpIHx8IHRvcG1vc3RPdXRsZXQ7XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zaG93aW5nTW9kYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHRoaXMuY3VycmVudE91dGxldC5wZWVrU3RhdGUoKSwgZmFsc2UpO1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBhbmd1bGFyIGRvZXMgYSBzZXRUaW1lb3V0IG9uIG9uUG9wU3RhdGUsIHNvIGlmIHdlIGRvbid0IGRvIHRoaXMgd2UgbWlnaHQgZW5kIHVwIHdpdGggaW5jb25zaXN0ZW50IHN0YXRlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9iZWdpblBhZ2VOYXZpZ2F0aW9uKGZyYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmIChsYXN0U3RhdGUpIHtcbiAgICAgICAgICAgIGxhc3RTdGF0ZS5pc1BhZ2VOYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZPcHRpb25zID0gb3B0aW9ucyB8fCBkZWZhdWx0TmF2T3B0aW9ucztcbiAgICAgICAgaWYgKG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5fYmVnaW5QYWdlTmF2aWdhdGlvbiBjbGVhcmluZyBzdGF0ZXMgaGlzdG9yeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcyA9IFtsYXN0U3RhdGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuYXZPcHRpb25zO1xuICAgIH1cbiAgICBfZ2V0T3V0bGV0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cztcbiAgICB9XG4gICAgdXBkYXRlT3V0bGV0RnJhbWUob3V0bGV0LCBmcmFtZSwgaXNFbXB0eU91dGxldEZyYW1lKSB7XG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IG91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiAhbGFzdFN0YXRlLmZyYW1lICYmICFpc0VtcHR5T3V0bGV0RnJhbWUpIHtcbiAgICAgICAgICAgIGxhc3RTdGF0ZS5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICBvdXRsZXQuZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICB9XG4gICAgY2xlYXJPdXRsZXQoZnJhbWUpIHtcbiAgICAgICAgdGhpcy5vdXRsZXRzID0gdGhpcy5vdXRsZXRzLmZpbHRlcigoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzRXF1YWxUb0N1cnJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50T3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgaXNFcXVhbFRvQ3VycmVudCA9IGN1cnJlbnRPdXRsZXQucGF0aEJ5T3V0bGV0cyA9PT0gdGhpcy5jdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgb3V0bGV0IGZyb20gdGhlIHVybCB0cmVlLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSkgJiYgIWlzRXF1YWxUb0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZShudWxsLCB0cnVlLCBjdXJyZW50T3V0bGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNraXAgZnJhbWVzIGZpbHRlcmluZyBzaW5jZSBjdXJyZW50T3V0bGV0IGlzIDxyb3V0ZXItb3V0bGV0PiB3aGVuIG5vIGZyYW1lcyBhdmFpbGFibGUuXG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5mcmFtZXMubGVuZ3RoICYmICFjdXJyZW50T3V0bGV0LmlzTlNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRPdXRsZXQuZnJhbWVzID0gY3VycmVudE91dGxldC5mcmFtZXMuZmlsdGVyKChjdXJyZW50RnJhbWUpID0+IGN1cnJlbnRGcmFtZSAhPT0gZnJhbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50T3V0bGV0LmZyYW1lcy5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gIWN1cnJlbnRPdXRsZXQuY29udGFpbnNGcmFtZShmcmFtZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRTZWdtZW50R3JvdXBGdWxsUGF0aChzZWdtZW50R3JvdXApIHtcbiAgICAgICAgbGV0IGZ1bGxQYXRoID0gJyc7XG4gICAgICAgIHdoaWxlIChzZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHNlZ21lbnRHcm91cC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKGZ1bGxQYXRoKSB7XG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSAodXJsID8gdXJsICsgJy8nIDogJycpICsgZnVsbFBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdWxsUGF0aCA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IHNlZ21lbnRHcm91cC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxQYXRoO1xuICAgIH1cbiAgICBnZXRSb3V0ZUZ1bGxQYXRoKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gY3VycmVudFJvdXRlLm91dGxldDtcbiAgICAgICAgbGV0IGZ1bGxQYXRoO1xuICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUucGFyZW50O1xuICAgICAgICB3aGlsZSAoY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICBjb25zdCB1cmxzID0gY3VycmVudFJvdXRlLnVybC52YWx1ZSB8fCBjdXJyZW50Um91dGUudXJsO1xuICAgICAgICAgICAgbGV0IHVybCA9IHVybHM7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cmxzKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC5qb2luKCcvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdWxsUGF0aCA9IGZ1bGxQYXRoID8gKHVybCA/IHVybCArICcvJyA6IHVybCkgKyBmdWxsUGF0aCA6IHVybDtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZSA9IGN1cnJlbnRSb3V0ZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bGxQYXRoID8gZnVsbFBhdGggKyAnLScgKyBvdXRsZXROYW1lIDogb3V0bGV0TmFtZTtcbiAgICB9XG4gICAgZ2V0UGF0aEJ5T3V0bGV0cyh1cmxTZWdtZW50R3JvdXApIHtcbiAgICAgICAgaWYgKCF1cmxTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF0aFRvT3V0bGV0O1xuICAgICAgICBsZXQgbGFzdFBhdGggPSB1cmxTZWdtZW50R3JvdXAub3V0bGV0IHx8ICdwcmltYXJ5JztcbiAgICAgICAgbGV0IHBhcmVudCA9IHVybFNlZ21lbnRHcm91cC5wYXJlbnQ7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgdXJsU2VnbWVudEdyb3VwLnJvb3QgIT09IHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQub3V0bGV0ICE9PSBsYXN0UGF0aCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0UGF0aCA9PT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXRoID0gcGFyZW50Lm91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXRoID0gcGFyZW50Lm91dGxldDtcbiAgICAgICAgICAgICAgICAgICAgcGF0aFRvT3V0bGV0ID0gbGFzdFBhdGggKyAnLScgKyAocGF0aFRvT3V0bGV0IHx8IHVybFNlZ21lbnRHcm91cC5vdXRsZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGhUb091dGxldCB8fCBsYXN0UGF0aDtcbiAgICB9XG4gICAgZmluZE91dGxldChvdXRsZXRLZXksIGFjdGl2YXRlZFJvdXRlU25hcHNob3QpIHtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMub3V0bGV0cy5maW5kKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBjdXJyZW50T3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID09PSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aDtcbiAgICAgICAgICAgIHJldHVybiBlcXVhbE1vZGFsRGVwdGggJiYgY3VycmVudE91dGxldC5vdXRsZXRLZXlzLmluZGV4T2Yob3V0bGV0S2V5KSA+IC0xO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm8gT3V0bGV0IHdpdGggdGhlIGdpdmVuIG91dGxldEtleSBjb3VsZCBoYXBwZW4gd2hlbiB1c2luZyBuZXN0ZWQgdW5uYW1lZCBwLXItb1xuICAgICAgICAvLyBwcmltYXJ5IC0+IHByaW1hcnkgLT4gcHJ5bWFyeVxuICAgICAgICBpZiAoIW91dGxldCAmJiBhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoQnlPdXRsZXRzID0gdGhpcy5nZXRQYXRoQnlPdXRsZXRzKGFjdGl2YXRlZFJvdXRlU25hcHNob3QpO1xuICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5vdXRsZXRzLmZpbmQoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBjdXJyZW50T3V0bGV0Lm1vZGFsTmF2aWdhdGlvbkRlcHRoID09PSB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXF1YWxNb2RhbERlcHRoICYmIGN1cnJlbnRPdXRsZXQucGF0aEJ5T3V0bGV0cyA9PT0gcGF0aEJ5T3V0bGV0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxuICAgIGZpbmRPdXRsZXRCeU1vZGFsKG1vZGFsTmF2aWdhdGlvbiwgaXNTaG93aW5nTW9kYWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0bGV0cy5maW5kKChvdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVxdWFsTW9kYWxEZXB0aCA9IG91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gbW9kYWxOYXZpZ2F0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIGlzU2hvd2luZ01vZGFsID8gZXF1YWxNb2RhbERlcHRoICYmIG91dGxldC5zaG93aW5nTW9kYWwgOiBlcXVhbE1vZGFsRGVwdGg7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB7XG4gICAgICAgIGxldCBvdXRsZXQ7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm91dGxldHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50T3V0bGV0ID0gdGhpcy5vdXRsZXRzW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0ID0gY3VycmVudE91dGxldDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZXMob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGlzTmV3UGFnZSA9IG91dGxldC5zdGF0ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBvdXRsZXQuc3RhdGVzW291dGxldC5zdGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGVxdWFsU3RhdGVVcmxzID0gb3V0bGV0LmNvbnRhaW5zVG9wU3RhdGUoY3VycmVudFNlZ21lbnRHcm91cC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cDogY3VycmVudFNlZ21lbnRHcm91cCxcbiAgICAgICAgICAgIGlzUm9vdFNlZ21lbnRHcm91cDogZmFsc2UsXG4gICAgICAgICAgICBpc1BhZ2VOYXZpZ2F0aW9uOiBpc05ld1BhZ2UsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogeyAuLi5xdWVyeVBhcmFtcyB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIWxhc3RTdGF0ZSB8fCAhZXF1YWxTdGF0ZVVybHMpIHtcbiAgICAgICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICAgICAgb3V0bGV0LnN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dGxldC5zdGF0ZXMucHVzaChsb2NhdGlvblN0YXRlKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IHN0YXRlIHNlZ21lbnRHcm91cCBvZiBwYXJlbnQgT3V0bGV0LlxuICAgICAgICAgICAgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID09PSAwICYmICFvdXRsZXQuc2hvd2luZ01vZGFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cC5wYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobGFzdFN0YXRlICYmIGVxdWFsU3RhdGVVcmxzKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHF1ZXJ5IHBhcmFtcyBmb3IgbGFzdCBzdGF0ZVxuICAgICAgICAgICAgICAgIGxhc3RTdGF0ZS5xdWVyeVBhcmFtcyA9IHsgLi4ucXVlcnlQYXJhbXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZVBhcmVudHNTdGF0ZXMob3V0bGV0LCBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgbGV0IHBhcmVudE91dGxldCA9IG91dGxldC5wYXJlbnQ7XG4gICAgICAgIC8vIFVwZGF0ZSBwYXJlbnRzIGxhc3RTdGF0ZSBzZWdtZW50R3JvdXBzXG4gICAgICAgIHdoaWxlIChwYXJlbnRPdXRsZXQgJiYgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHBhcmVudE91dGxldC5wZWVrU3RhdGUoKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnNlZ21lbnRHcm91cCA9IG5ld1NlZ21lbnRHcm91cDtcbiAgICAgICAgICAgICAgICBuZXdTZWdtZW50R3JvdXAgPSBuZXdTZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICAgICAgICAgIHBhcmVudE91dGxldCA9IHBhcmVudE91dGxldC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgIGNyZWF0ZU91dGxldChvdXRsZXRLZXksIHBhdGgsIHNlZ21lbnRHcm91cCwgcGFyZW50LCBtb2RhbE5hdmlnYXRpb24sIHF1ZXJ5UGFyYW1zID0ge30pIHtcbiAgICAgICAgY29uc3QgcGF0aEJ5T3V0bGV0cyA9IHRoaXMuZ2V0UGF0aEJ5T3V0bGV0cyhzZWdtZW50R3JvdXApO1xuICAgICAgICBjb25zdCBuZXdPdXRsZXQgPSBuZXcgT3V0bGV0KG91dGxldEtleSwgcGF0aCwgcGF0aEJ5T3V0bGV0cywgbW9kYWxOYXZpZ2F0aW9uKTtcbiAgICAgICAgY29uc3QgbG9jYXRpb25TdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cDogc2VnbWVudEdyb3VwLFxuICAgICAgICAgICAgaXNSb290U2VnbWVudEdyb3VwOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUGFnZU5hdmlnYXRpb246IHRydWUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogeyAuLi5xdWVyeVBhcmFtcyB9LFxuICAgICAgICB9O1xuICAgICAgICBuZXdPdXRsZXQuc3RhdGVzID0gW2xvY2F0aW9uU3RhdGVdO1xuICAgICAgICBuZXdPdXRsZXQucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm91dGxldHMucHVzaChuZXdPdXRsZXQpO1xuICAgICAgICAvLyBVcGRhdGUgbGFzdCBzdGF0ZSBzZWdtZW50R3JvdXAgb2YgcGFyZW50IE91dGxldC5cbiAgICAgICAgaWYgKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID09PSAwICYmICFuZXdPdXRsZXQuc2hvd2luZ01vZGFsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBhcmVudHNTdGF0ZXMobmV3T3V0bGV0LCBzZWdtZW50R3JvdXAucGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T3V0bGV0O1xuICAgIH1cbiAgICBnZXRTZWdtZW50R3JvdXBCeU91dGxldChvdXRsZXQpIHtcbiAgICAgICAgY29uc3QgcGF0aExpc3QgPSBvdXRsZXQucGF0aEJ5T3V0bGV0cy5zcGxpdCgnLScpO1xuICAgICAgICBsZXQgc2VnbWVudEdyb3VwID0gdGhpcy5jdXJyZW50VXJsVHJlZS5yb290O1xuICAgICAgICBsZXQgcGF0aFRvT3V0bGV0O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGF0aExpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGF0aCA9IHBhdGhMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuQ291bnQgPSBPYmplY3Qua2V5cyhzZWdtZW50R3JvdXAuY2hpbGRyZW4pLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbkNvdW50ICYmIHNlZ21lbnRHcm91cC5jaGlsZHJlbltjdXJyZW50UGF0aF0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBzZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBwYXRoVG9PdXRsZXQgPSBwYXRoVG9PdXRsZXQgPyBwYXRoVG9PdXRsZXQgKyAnLycgKyB1cmwgOiB1cmw7XG4gICAgICAgICAgICAgICAgc2VnbWVudEdyb3VwID0gc2VnbWVudEdyb3VwLmNoaWxkcmVuW2N1cnJlbnRQYXRoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIGNoaWxkIG91dGxldCBmb3VuZCB3aXRoIHRoZSBnaXZlbiBuYW1lIC0gZm9yZ2V0IGFib3V0IGFsbCBwcmV2aW91c2x5IGZvdW5kIG91dGxldHMuXG4gICAgICAgICAgICAgICAgLy8gZXhhbXBsZTogc2VhY2hpbmcgZm9yICdwcmltYXJ5LXNlY29uZC1wcmltYXJ5JyBzaG91bGRuJ3QgcmV0dXJuICdwcmltYXJ5LXNlY29uZCdcbiAgICAgICAgICAgICAgICAvLyBpZiBubyAncHJpbWFyeScgY2hpbGQgYXZhaWxhYmxlIG9uICdzZWNvbmQnLlxuICAgICAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGF0aHMgc2hvdWxkIGFsc28gbWF0Y2ggc2luY2UgdGhlcmUgY291bGQgYmUgYW5vdGhlciBPdXRsZXRcbiAgICAgICAgLy8gd2l0aCB0aGUgc2FtZSBwYXRoQnlPdXRsZXRzIGJ1dCBkaWZmZXJlbnQgdXJsIHBhdGguXG4gICAgICAgIGlmIChzZWdtZW50R3JvdXAgJiYgb3V0bGV0LnBhdGggJiYgcGF0aFRvT3V0bGV0ICYmIG91dGxldC5wYXRoICE9PSBwYXRoVG9PdXRsZXQpIHtcbiAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlZ21lbnRHcm91cDtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2FsIGFuZCByZXBsYWNlbWVudCBvZiBzZWdtZW50R3JvdXAuXG4gICAgdXBkYXRlU2VnbWVudEdyb3VwKHJvb3ROb2RlLCBvbGRTZWdtZW50R3JvdXAsIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudFRyZWUgPSByb290Tm9kZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VHJlZS5jaGlsZHJlbikuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSA9PT0gb2xkU2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdID0gbmV3U2VnbWVudEdyb3VwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50VHJlZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBzZXJ0TW9kYWxPdXRsZXQocGFyZW50T3V0bGV0LCBzZWdtZW50ZWRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBsZXQgY3VycmVudE1vZGFsT3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCk7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gdHJlYXQgZXZlcnkgcC1yLW8gYXMgYSBzdGFuZGFsb25lIE91dGxldC5cbiAgICAgICAgaWYgKCFjdXJyZW50TW9kYWxPdXRsZXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcGFyZW50IG9mIHRoZSBjdXJyZW50IE91dGxldCBzaG91bGQgYmUgdGhlIHByZXZpb3VzIG9wZW5lZCBtb2RhbCAoaWYgYW55KS5cbiAgICAgICAgICAgICAgICBwYXJlbnRPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeU1vZGFsKHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBObyBjdXJyZW50TW9kYWxPdXRsZXQgYXZhaWxhYmxlIHdoZW4gb3BlbmluZyAncHJpbWFyeScgcC1yLW8uXG4gICAgICAgICAgICBjb25zdCBvdXRsZXROYW1lID0gJ3ByaW1hcnknO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0UGF0aCA9IHBhcmVudE91dGxldC5wZWVrU3RhdGUoKS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KG91dGxldFBhdGgsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgY3VycmVudE1vZGFsT3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBvdXRsZXRQYXRoLCBzZWdtZW50ZWRHcm91cCwgcGFyZW50T3V0bGV0LCB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gY3VycmVudE1vZGFsT3V0bGV0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudXBkYXRlU3RhdGVzKGN1cnJlbnRNb2RhbE91dGxldCwgc2VnbWVudGVkR3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlKSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gY3VycmVudE1vZGFsT3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICB9XG4gICAgfVxuICAgIGdldE91dGxldEtleShwYXRoLCBvdXRsZXROYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXRoID8gcGF0aCArICctJyArIG91dGxldE5hbWUgOiBvdXRsZXROYW1lO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5uZ09uRGVzdHJveSgpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXRzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZXBzOiBbeyB0b2tlbjogRnJhbWVTZXJ2aWNlIH0sIHsgdG9rZW46IFNUQVJUX1BBVEgsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIHByb3ZpZGVkSW46ICdyb290JyB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlZEluOiAncm9vdCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBGcmFtZVNlcnZpY2UgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW1NUQVJUX1BBVEhdXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG5jbGFzcyBNb2RhbERpYWxvZ1BhcmFtcyB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCA9IHt9LCBjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY2xvc2VDYWxsYmFjayA9IGNsb3NlQ2FsbGJhY2s7XG4gICAgfVxufVxuY2xhc3MgTW9kYWxEaWFsb2dTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvbiwgem9uZSwgYXBwUmVmLCBkZWZhdWx0SW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLnpvbmUgPSB6b25lO1xuICAgICAgICB0aGlzLmFwcFJlZiA9IGFwcFJlZjtcbiAgICAgICAgdGhpcy5kZWZhdWx0SW5qZWN0b3IgPSBkZWZhdWx0SW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFueXRpbWUgYSBtb2RhbCBpcyBjbG9zZWQgd2l0aCB0aGUgTW9kYWxEaWFsb2dQYXJhbXMgd2hpY2ggd2VyZSBpbmplY3RlZCBpbnRvIHRoZSBjb21wb25lbnQgd2hpY2ggaXMgbm93IGNsb3NpbmcuXG4gICAgICogRm9yIGV4YW1wbGUsIGNhbiBiZSB1c2VkIHRvIHdpcmUgdXAgUnggZmxvd3Mgb3V0c2lkZSB0aGUgc2NvcGUgb2YganVzdCB0aGUgY29tcG9uZW50IGJlaW5nIGhhbmRsZWQuXG4gICAgICovXG4gICAgZ2V0IGNsb3NlZCQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2xvc2VkJCkge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VkJCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlZCQ7XG4gICAgfVxuICAgIHNob3dNb2RhbCh0eXBlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLy8gaWYgKCFvcHRpb25zLnZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgLy8gICB0aHJvdyBuZXcgRXJyb3IoJ05vIHZpZXdDb250YWluZXJSZWY6ICcgKyAnTWFrZSBzdXJlIHlvdSBwYXNzIHZpZXdDb250YWluZXJSZWYgaW4gTW9kYWxEaWFsb2dPcHRpb25zLicpO1xuICAgICAgICAvLyB9XG4gICAgICAgIGxldCBwYXJlbnRWaWV3ID0gb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmPy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQgfHwgQXBwbGljYXRpb24uZ2V0Um9vdFZpZXcoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgfHwgcGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RBc3luY1ZpZXcpICYmIHBhcmVudFZpZXcubmdBcHBSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5uZ0FwcFJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gX25nRGlhbG9nUm9vdCBpcyB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIHByZXZpb3VzbHkgZGV0YWNoZWQgcHJveHkuXG4gICAgICAgIC8vIEl0IHNob3VsZCBoYXZlICd2aWV3Q29udHJvbGxlcicgKGlPUykgb3IgJ19kaWFsb2dGcmFnbWVudCcgKEFuZHJvaWQpIGF2YWlsYWJsZSBmb3JcbiAgICAgICAgLy8gcHJlc2VudGluZyBmdXR1cmUgbW9kYWwgdmlld3MuXG4gICAgICAgIGlmIChwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Ll9uZ0RpYWxvZ1Jvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzb2x2ZSBmcm9tIHBhcnRpY3VsYXIgbW9kdWxlIChtb2R1bGVSZWYpXG4gICAgICAgIC8vIG9yIGZyb20gc2FtZSBtb2R1bGUgYXMgcGFyZW50VmlldyAodmlld0NvbnRhaW5lclJlZilcbiAgICAgICAgY29uc3QgY29tcG9uZW50SW5qZWN0b3IgPSBvcHRpb25zLm1vZHVsZVJlZj8uaW5qZWN0b3IgfHwgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmPy5pbmplY3RvciB8fCB0aGlzLmRlZmF1bHRJbmplY3RvcjtcbiAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSBjb21wb25lbnRJbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKTtcbiAgICAgICAgbGV0IGZyYW1lID0gcGFyZW50VmlldztcbiAgICAgICAgaWYgKCEocGFyZW50VmlldyBpbnN0YW5jZW9mIEZyYW1lKSkge1xuICAgICAgICAgICAgZnJhbWUgPSAocGFyZW50Vmlldy5wYWdlICYmIHBhcmVudFZpZXcucGFnZS5mcmFtZSkgfHwgRnJhbWUudG9wbW9zdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9jYXRpb24/Ll9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93RGlhbG9nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJSZWY6IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluamVjdG9yOiBjb21wb25lbnRJbmplY3RvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IG9wdGlvbnMuY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmVDYWxsYmFjazogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9zaG93RGlhbG9nKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNvbXBvbmVudFZpZXdSZWY7XG4gICAgICAgIGxldCBkZXRhY2hlZExvYWRlclJlZjtcbiAgICAgICAgbGV0IHBvcnRhbE91dGxldDtcbiAgICAgICAgY29uc3QgY2xvc2VDYWxsYmFjayA9IG9uY2UoYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIG9wdGlvbnMuZG9uZUNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1JlZikge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldy5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy5vcGVuZWRNb2RhbFBhcmFtcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xvc2VkJCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZWQkLm5leHQocGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2NhdGlvbi5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoZWRMb2FkZXJSZWYgfHwgcG9ydGFsT3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9uZS5ydW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGFsT3V0bGV0Py5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhY2hlZExvYWRlclJlZj8uaW5zdGFuY2UuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWY/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW9kYWxQYXJhbXMgPSBuZXcgTW9kYWxEaWFsb2dQYXJhbXMob3B0aW9ucy5jb250ZXh0LCBjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgaWYgKCF0aGlzLm9wZW5lZE1vZGFsUGFyYW1zKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5lZE1vZGFsUGFyYW1zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuZWRNb2RhbFBhcmFtcy5wdXNoKG1vZGFsUGFyYW1zKTtcbiAgICAgICAgY29uc3QgY2hpbGRJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IE1vZGFsRGlhbG9nUGFyYW1zLCB1c2VWYWx1ZTogbW9kYWxQYXJhbXMgfV0sXG4gICAgICAgICAgICBwYXJlbnQ6IG9wdGlvbnMuaW5qZWN0b3IsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGV2ZXIgc3VwcG9ydCB0ZW1wbGF0ZXMgaW4gdGhlIG9sZCBBUElcbiAgICAgICAgICAgIC8vIGlmKG9wdGlvbnMudGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICBjb25zdCBkZXRhY2hlZEZhY3RvcnkgPSBvcHRpb25zLnJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIC8vICAgICBpZihvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZGV0YWNoZWRGYWN0b3J5LCAwLCBjaGlsZEluamVjdG9yLCBudWxsKTtcbiAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoY2hpbGRJbmplY3Rvcik7IC8vIHRoaXMgRGV0YWNoZWRMb2FkZXIgaXMgKipjb21wbGV0ZWx5KiogZGV0YWNoZWRcbiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5hcHBSZWYuYXR0YWNoVmlldyhkZXRhY2hlZExvYWRlclJlZi5ob3N0Vmlldyk7IC8vIHdlIGF0dGFjaCBpdCB0byB0aGUgYXBwbGljYXRpb25SZWYsIHNvIGl0IGJlY29tZXMgYSBcInJvb3RcIiB2aWV3IGluIGFuZ3VsYXIncyBoaWVyYXJjaHlcbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpOyAvLyBmb3JjZSBhIGNoYW5nZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS5jcmVhdGVUZW1wbGF0ZVBvcnRhbChvcHRpb25zLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICAgICAgICAgIGNvbnN0IHBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwob3B0aW9ucy50eXBlKTtcbiAgICAgICAgICAgIHBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0Vmlldywgb3B0aW9ucy5yZXNvbHZlciwgdGhpcy5hcHBSZWYsIGNoaWxkSW5qZWN0b3IpO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gcG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICAgICAgY29tcG9uZW50UmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYgPSBuZXcgTmdWaWV3UmVmKGNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDb250ZXh0QXNDb21wb25lbnRQcm9wcyAmJiBvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zLmNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Vmlld1JlZi5yZWYuaW5zdGFuY2Vba2V5XSA9IG9wdGlvbnMuY29udGV4dFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3UmVmICE9PSBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50Ll9uZ0RpYWxvZ1Jvb3QgPSBjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgICAgIG9wdGlvbnMucGFyZW50Vmlldy5zaG93TW9kYWwoY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCB7IC4uLm9wdGlvbnMsIGNsb3NlQ2FsbGJhY2sgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE1vZGFsRGlhbG9nU2VydmljZSwgZGVwczogW3sgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHRva2VuOiBpMC5OZ1pvbmUgfSwgeyB0b2tlbjogaTAuQXBwbGljYXRpb25SZWYgfSwgeyB0b2tlbjogaTAuSW5qZWN0b3IgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE1vZGFsRGlhbG9nU2VydmljZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE1vZGFsRGlhbG9nU2VydmljZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0eXBlOiBpMC5OZ1pvbmUgfSwgeyB0eXBlOiBpMC5BcHBsaWNhdGlvblJlZiB9LCB7IHR5cGU6IGkwLkluamVjdG9yIH1dOyB9IH0pO1xuXG4vKipcbiAqIFRoaXMgZGVjb3JhdG9yIGRlbGF5cyBhIHBvdGVudGlhbGx5IHVuc2FmZSBldmVudCAobGlrZSBsb2FkZWQvdW5sb2FkZWQgdGhhdCB3aWxsIHNvbWV0aW1lcyBiZSBjYWxsZWQgYmVmb3JlIG5nT25Jbml0KSB0byBiZSBoYW5kbGVkIHNhZmVseSBieSBlbnN1cmluZyBpdCdzIGNhbGxlZCBhZnRlciBhIGxpZmVjeWNsZSBob29rLlxuICogQHBhcmFtIHJ1bkFmdGVyRXZlbnQgZXZlbnQvZnVuY3Rpb24gY2FsbCB0byB3YWl0IHVudGlsIHRoZSBldmVudCBjYW4gYmUgZmlyZWQgKCduZ09uSW5pdCcsICduZ0FmdGVyVmlld0luaXQnLCAuLi4pXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBldmVudCBoYW5kbGluZyBwYXJhbXNcbiAqIEByZXR1cm5zIGRlY29yYXRvclxuICovXG5mdW5jdGlvbiBOYXRpdmVTY3JpcHROZ1NhZmVFdmVudChydW5BZnRlckV2ZW50LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBldmVudCA9IHJ1bkFmdGVyRXZlbnQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldE5nU2FmZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbJ19fbmdfc2FmZV9fJ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXJnZXRbJ19fbmdfc2FmZV9fJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHROZ1NhZmUgPSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7fSxcbiAgICAgICAgICAgICAgICBydW5CZWZvcmU6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhcmdldFsnX19uZ19zYWZlX18nXSA9IGRlZmF1bHROZ1NhZmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdKSB7XG4gICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdID0ge1xuICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogW10sXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxEZWxlZ2F0ZTogdGFyZ2V0W2V2ZW50XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXJnZXRbZXZlbnRdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5vcmlnaW5hbERlbGVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5vcmlnaW5hbERlbGVnYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5mb3JFYWNoKChmbikgPT4gZm4uZm4oKSk7XG4gICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hbHdheXNSdW5CZWZvcmUpIHtcbiAgICAgICAgICAgIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0gPSB0YXJnZXRbb3B0aW9ucy5hbHdheXNSdW5CZWZvcmVdO1xuICAgICAgICAgICAgdGFyZ2V0W2Ake29wdGlvbnMuYWx3YXlzUnVuQmVmb3JlfWBdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKVxuICAgICAgICAgICAgICAgICAgICAuZXZlbnRzW2V2ZW50XS5idWZmZXIuZmlsdGVyKCh2KSA9PiB2LmtleSA9PT0gcHJvcGVydHlLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKChmbikgPT4gZm4uZm4oKSk7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIgPSBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5maWx0ZXIoKHYpID0+IHYua2V5ICE9PSBwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkucnVuQmVmb3JlW3Byb3BlcnR5S2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkucnVuQmVmb3JlW3Byb3BlcnR5S2V5XSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TmdTYWZlKCkucnVuQmVmb3JlW3Byb3BlcnR5S2V5XS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZEZuID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5kb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZEZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHNob3VsZFB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUZpcnN0IHx8IG9wdGlvbnMub25seUxhc3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlcltpXS5rZXkgPT09IHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmx5Rmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQdXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmx5TGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRQdXNoKSB7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogcHJvcGVydHlLZXksXG4gICAgICAgICAgICAgICAgICAgIGZuOiBvbGRGbi5iaW5kKHRoaXMsIGFyZ3MpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG59XG5cbmNsYXNzIFRhYlZpZXdEaXJlY3RpdmUge1xuICAgIGdldCBzZWxlY3RlZEluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICB9XG4gICAgc2V0IHNlbGVjdGVkSW5kZXgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGFiVmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMudGFiVmlldyA9IGVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLnZpZXdJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coJ3RoaXMuX3NlbGVjdGVkSW5kZXg6ICcgKyB0aGlzLl9zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQmxhbmsodGhpcy5fc2VsZWN0ZWRJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFiVmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy5fc2VsZWN0ZWRJbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVGFiVmlld0RpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiVGFiVmlld1wiLCBpbnB1dHM6IHsgc2VsZWN0ZWRJbmRleDogXCJzZWxlY3RlZEluZGV4XCIgfSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0RpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnVGFiVmlldycsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgc2VsZWN0ZWRJbmRleDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcbmNsYXNzIFRhYlZpZXdJdGVtRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcihvd25lciwgdGVtcGxhdGVSZWYsIHZpZXdDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGVSZWY7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lciA9IHZpZXdDb250YWluZXI7XG4gICAgfVxuICAgIHNldCBjb25maWcoY29uZmlnKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnIHx8IHRoaXMuX2NvbmZpZy5pY29uU291cmNlICE9PSBjb25maWcuaWNvblNvdXJjZSB8fCB0aGlzLl9jb25maWcudGl0bGUgIT09IGNvbmZpZy50aXRsZSB8fCB0aGlzLl9jb25maWcudGV4dFRyYW5zZm9ybSAhPT0gY29uZmlnLnRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgIHRoaXMuYXBwbHlDb25maWcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWlucHV0LXJlbmFtZVxuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnIHx8IHt9O1xuICAgIH1cbiAgICBzZXQgdGl0bGUodGl0bGUpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IHRpdGxlIH0pO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50aXRsZTtcbiAgICB9XG4gICAgc2V0IGljb25Tb3VyY2UoaWNvblNvdXJjZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgaWNvblNvdXJjZSB9KTtcbiAgICB9XG4gICAgZ2V0IGljb25Tb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5pY29uU291cmNlO1xuICAgIH1cbiAgICBzZXQgdGV4dFRyYW5zZm9ybSh0ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyB0ZXh0VHJhbnNmb3JtIH0pO1xuICAgIH1cbiAgICBnZXQgdGV4dFRyYW5zZm9ybSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm07XG4gICAgfVxuICAgIGVuc3VyZUl0ZW0oKSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVtKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0gPSBuZXcgVGFiVmlld0l0ZW0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHBseUNvbmZpZygpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVJdGVtKCk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLnRpdGxlID0gdGhpcy5jb25maWcudGl0bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmljb25Tb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS5pY29uU291cmNlID0gdGhpcy5jb25maWcuaWNvblNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAgVGFiVmlld0l0ZW0gdGV4dFRyYW5zZm9ybSBoYXMgYSBkZWZhdWx0IHZhbHVlIGZvciBBbmRyb2lkIHRoYXQga2ljayBpblxuICAgICAgICAvLyBvbmx5IGlmIG5vIHZhbHVlIChldmVuIGEgbnVsbCB2YWx1ZSkgaXMgc2V0LlxuICAgICAgICBpZiAodGhpcy5jb25maWcudGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtLnRleHRUcmFuc2Zvcm0gPSB0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLmFwcGx5Q29uZmlnKCk7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMudGVtcGxhdGVSZWYpO1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRleHQgbm9kZXMgYW5kIGNvbW1lbnRzXG4gICAgICAgIGNvbnN0IHJlYWxWaWV3cyA9IHZpZXdSZWYucm9vdE5vZGVzLmZpbHRlcigobm9kZSkgPT4gIShub2RlIGluc3RhbmNlb2YgSW52aXNpYmxlTm9kZSkpO1xuICAgICAgICBpZiAocmVhbFZpZXdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS52aWV3ID0gcmVhbFZpZXdzWzBdO1xuICAgICAgICAgICAgY29uc3QgbmV3SXRlbXMgPSAodGhpcy5vd25lci50YWJWaWV3Lml0ZW1zIHx8IFtdKS5jb25jYXQoW3RoaXMuaXRlbV0pO1xuICAgICAgICAgICAgdGhpcy5vd25lci50YWJWaWV3Lml0ZW1zID0gbmV3SXRlbXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IFRhYlZpZXdEaXJlY3RpdmUgfSwgeyB0b2tlbjogaTAuVGVtcGxhdGVSZWYgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJbdGFiSXRlbV1cIiwgaW5wdXRzOiB7IGNvbmZpZzogW1widGFiSXRlbVwiLCBcImNvbmZpZ1wiXSwgdGl0bGU6IFwidGl0bGVcIiwgaWNvblNvdXJjZTogXCJpY29uU291cmNlXCIsIHRleHRUcmFuc2Zvcm06IFwidGV4dFRyYW5zZm9ybVwiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbdGFiSXRlbV0nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUgfSwgeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfV07IH0sIHByb3BEZWNvcmF0b3JzOiB7IGNvbmZpZzogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3RhYkl0ZW0nXVxuICAgICAgICAgICAgfV0sIHRpdGxlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgaWNvblNvdXJjZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHRleHRUcmFuc2Zvcm06IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3IgKi9cbmNsYXNzIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLnNob3cgPSBkZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuYW5kcm9pZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogREVWSUNFIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiYW5kcm9pZFwiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBbmRyb2lkRmlsdGVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdhbmRyb2lkJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbREVWSUNFXVxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBJT1NGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLnNob3cgPSBkZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuaW9zO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiaW9zXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTEkMS5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9XSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IElPU0ZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnaW9zJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbREVWSUNFXVxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZGV2aWNlKSB7XG4gICAgICAgIC8vIE5vdGU6IGNhc3RpbmcgYW55IHRvIGJlIGJhY2t3YXJkcyBjb21wYXRpYmxlXG4gICAgICAgIC8vIEF2YWlsYWJsZSBpbiA4LjYrIG9ubHlcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLnZpc2lvbm9zO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogREVWSUNFIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcInZpc2lvbm9zXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudCAqbmdJZj1cInNob3dcIj48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUsIGRlcGVuZGVuY2llczogW3sga2luZDogXCJkaXJlY3RpdmVcIiwgdHlwZTogaTEkMS5OZ0lmLCBzZWxlY3RvcjogXCJbbmdJZl1cIiwgaW5wdXRzOiBbXCJuZ0lmXCIsIFwibmdJZlRoZW5cIiwgXCJuZ0lmRWxzZVwiXSB9XSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICd2aXNpb25vcycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RFVklDRV1cbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuY29uc3QgQ0RLX0NPTVBPTkVOVFMgPSBbQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTGlzdFZpZXdDb21wb25lbnQsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgSU9TRmlsdGVyQ29tcG9uZW50LCBWaXNpb25PU0ZpbHRlckNvbXBvbmVudF07XG5yZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzKCk7XG5jbGFzcyBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVjbGFyYXRpb25zOiBbQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTGlzdFZpZXdDb21wb25lbnQsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgSU9TRmlsdGVyQ29tcG9uZW50LCBWaXNpb25PU0ZpbHRlckNvbXBvbmVudF0sIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZV0sIGV4cG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZSwgQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTGlzdFZpZXdDb21wb25lbnQsIFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgSU9TRmlsdGVyQ29tcG9uZW50LCBWaXNpb25PU0ZpbHRlckNvbXBvbmVudF0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIHByb3ZpZGVyczogW01vZGFsRGlhbG9nU2VydmljZV0sIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZSwgQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFsuLi5DREtfQ09NUE9ORU5UU10sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtDb21tb25Nb2R1bGUsIEZyYW1lUGFnZU1vZHVsZSwgLi4uQ0RLX0NPTVBPTkVOVFNdLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtNb2RhbERpYWxvZ1NlcnZpY2VdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRmFsbGJhY2tSb290VmlldyhwYXJlbnRSb290Vmlldykge1xuICAgIGlmIChwYXJlbnRSb290Vmlldykge1xuICAgICAgICByZXR1cm4gcGFyZW50Um9vdFZpZXc7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXBwSG9zdFZpZXcobmV3IENvbG9yKCd3aGl0ZScpKTtcbn1cbmZ1bmN0aW9uIGVycm9ySGFuZGxlcigpIHtcbiAgICByZXR1cm4gbmV3IEVycm9ySGFuZGxlcigpO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21JZCgpIHtcbiAgICByZXR1cm4gYCR7RGF0ZS5ub3coKX1gICsgJ18nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpO1xufVxuY29uc3QgTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTID0gW1xuICAgIHsgcHJvdmlkZTogQVBQX1JPT1RfVklFVywgdXNlRmFjdG9yeTogZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3LCBkZXBzOiBbW25ldyBPcHRpb25hbCgpLCBuZXcgU2tpcFNlbGYoKSwgQVBQX1JPT1RfVklFV11dIH0sXG4gICAgeyBwcm92aWRlOiDJtUlOSkVDVE9SX1NDT1BFLCB1c2VWYWx1ZTogJ3Jvb3QnIH0sXG4gICAgeyBwcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUZhY3Rvcnk6IGVycm9ySGFuZGxlciwgZGVwczogW10gfSxcbiAgICB7IHByb3ZpZGU6IFZpZXdVdGlsLCB1c2VDbGFzczogVmlld1V0aWwsIGRlcHM6IFtOQU1FU1BBQ0VfRklMVEVSUywgW25ldyBPcHRpb25hbCgpLCBFTkFCTEVfUkVVU0FCRV9WSUVXU11dIH0sXG4gICAge1xuICAgICAgICBwcm92aWRlOiBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksXG4gICAgICAgIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksXG4gICAgICAgIGRlcHM6IFtBUFBfUk9PVF9WSUVXLCBOQU1FU1BBQ0VfRklMVEVSUywgTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lELCBbbmV3IE9wdGlvbmFsKCksIEVOQUJMRV9SRVVTQUJFX1ZJRVdTXV0sXG4gICAgfSxcbiAgICB7IHByb3ZpZGU6IE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgdXNlRmFjdG9yeTogZ2VuZXJhdGVSYW5kb21JZCB9LFxuICAgIHsgcHJvdmlkZTogUmVuZGVyZXJGYWN0b3J5MiwgdXNlRXhpc3Rpbmc6IE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSB9LFxuICAgIHsgcHJvdmlkZTogTkFNRVNQQUNFX0ZJTFRFUlMsIHVzZUNsYXNzOiBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciwgZGVwczogW0RFVklDRV0sIG11bHRpOiB0cnVlIH0sXG4gICAgeyBwcm92aWRlOiBERVZJQ0UsIHVzZVZhbHVlOiBEZXZpY2UgfSxcbiAgICB7IHByb3ZpZGU6IFhockZhY3RvcnksIHVzZUNsYXNzOiBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBkZXBzOiBbXSB9LFxuXTtcbmNvbnN0IE5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTID0gW3sgcHJvdmlkZTogVmlld3BvcnRTY3JvbGxlciwgdXNlQ2xhc3M6IMm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIgfV07XG5jbGFzcyBOYXRpdmVTY3JpcHRNb2R1bGUge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudE1vZHVsZSkge1xuICAgICAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5hdGl2ZVNjcmlwdE1vZHVsZSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4gSWYgeW91IG5lZWQgYWNjZXNzIHRvIGNvbW1vbiBkaXJlY3RpdmVzIHN1Y2ggYXMgTmdJZiBhbmQgTmdGb3IgZnJvbSBhIGxhenkgbG9hZGVkIG1vZHVsZSwgaW1wb3J0IENvbW1vbk1vZHVsZSBpbnN0ZWFkLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZXBzOiBbeyB0b2tlbjogTmF0aXZlU2NyaXB0TW9kdWxlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY2xhcmF0aW9uczogW0RldGFjaGVkTG9hZGVyXSwgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLCBleHBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIERldGFjaGVkTG9hZGVyLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBwcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTXSwgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIEFwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0RldGFjaGVkTG9hZGVyXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSU10sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgRGV0YWNoZWRMb2FkZXIsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYXM6IFtOT19FUlJPUlNfU0NIRU1BXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNraXBTZWxmXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtOYXRpdmVTY3JpcHRNb2R1bGVdXG4gICAgICAgICAgICAgICAgfV0gfV07IH0gfSk7XG5cbmZ1bmN0aW9uIGRpc2FibGVSb290Vmlld0hhbmRpbmcodmlldykge1xuICAgIHZpZXcuX19kaXNhYmxlX3Jvb3Rfdmlld19oYW5kbGluZyA9IHRydWU7XG59XG5jb25zdCBwcmVBbmd1bGFyRGlzcG9zYWwkID0gbmV3IFN1YmplY3QoKTtcbmNvbnN0IHBvc3RBbmd1bGFyQm9vdHN0cmFwJCA9IG5ldyBTdWJqZWN0KCk7XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmNvbnN0IG9uQmVmb3JlTGl2ZXN5bmMgPSBwcmVBbmd1bGFyRGlzcG9zYWwkLnBpcGUoZmlsdGVyKCh2KSA9PiB2Lm1vZHVsZVR5cGUgPT09ICdtYWluJyAmJiB2LnJlYXNvbiA9PT0gJ2hvdHJlbG9hZCcpLCBtYXAoKHYpID0+IHYucmVmZXJlbmNlKSk7XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmNvbnN0IG9uQWZ0ZXJMaXZlc3luYyA9IHBvc3RBbmd1bGFyQm9vdHN0cmFwJC5waXBlKGZpbHRlcigodikgPT4gdi5tb2R1bGVUeXBlID09PSAnbWFpbicpLCBtYXAoKHYpID0+ICh7IG1vZHVsZVJlZjogdi5yZWZlcmVuY2UgfSkpKTtcbmlmIChpbXBvcnQubWV0YVsnd2VicGFja0hvdCddKSB7XG4gICAgaW1wb3J0Lm1ldGFbJ3dlYnBhY2tIb3QnXS5kZWNsaW5lKCk7XG4gICAgZ2xvYmFsLl9fb25MaXZlU3luY0NvcmUgPSAoKSA9PiB7XG4gICAgICAgIEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk/Ll9vbkNzc1N0YXRlQ2hhbmdlKCk7XG4gICAgICAgIC8vIGFsbCBvdGhlciBjaGFuZ2VzIGFyZSBhcHBsaWVkIGJ5IHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHBcbiAgICB9O1xufVxuZnVuY3Rpb24gZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50KHJlZiwgbmFtZSwgcmVhc29uKSB7XG4gICAgcG9zdEFuZ3VsYXJCb290c3RyYXAkLm5leHQoe1xuICAgICAgICBtb2R1bGVUeXBlOiBuYW1lLFxuICAgICAgICByZWZlcmVuY2U6IHJlZixcbiAgICAgICAgcmVhc29uLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZGVzdHJveVJlZihyZWYsIG5hbWUsIHJlYXNvbikge1xuICAgIGlmIChyZWYpIHtcbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIFBsYXRmb3JtUmVmKSB7XG4gICAgICAgICAgICBwcmVBbmd1bGFyRGlzcG9zYWwkLm5leHQoe1xuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU6ICdwbGF0Zm9ybScsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiByZWYsXG4gICAgICAgICAgICAgICAgcmVhc29uOiBuYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIE5nTW9kdWxlUmVmIHx8IHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmKSB7XG4gICAgICAgICAgICBwcmVBbmd1bGFyRGlzcG9zYWwkLm5leHQoe1xuICAgICAgICAgICAgICAgIG1vZHVsZVR5cGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlOiByZWYsXG4gICAgICAgICAgICAgICAgcmVhc29uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVmLmRlc3Ryb3koKTtcbiAgICB9XG59XG5mdW5jdGlvbiBydW5ab25lU3luY1Rhc2soZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgem9uZSA9IFpvbmUuY3VycmVudDtcbiAgICBjb25zdCB0YXNrID0gem9uZS5zY2hlZHVsZUV2ZW50VGFzaygnc3luY19mdW5jdGlvbicsIGZuLCB7fSwgKCkgPT4ge1xuICAgICAgICAvL1xuICAgIH0sICgpID0+IHtcbiAgICAgICAgLy9cbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YXNrLnN0YXRlKTtcbiAgICAgICAgdGFzay5pbnZva2UoKTtcbiAgICAgICAgLy8gem9uZS5ydW5UYXNrKHRhc2spO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YXNrLnN0YXRlKTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHpvbmUuY2FuY2VsVGFzayh0YXNrKTtcbiAgICB9XG59XG5mdW5jdGlvbiBab25lQ2FuV29ya1N5bmMoKSB7XG4gICAgbGV0IGNhblJ1blN5bmMgPSBmYWxzZTtcbiAgICBydW5ab25lU3luY1Rhc2soKCkgPT4ge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IChjYW5SdW5TeW5jID0gdHJ1ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBjYW5SdW5TeW5jO1xufVxuLyoqXG4gKiBUZXN0cyBpZiBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlIGNhbiBiZSB1c2VkIHRvIGRyYWluIG1pY3JvdGFza3NcbiAqIEJlY2F1c2Ugb2YgWm9uZS5qcywgZXZlbiB0aG91Z2ggdGhlIG5hdGl2ZSBxdWV1ZSBtaWdodCBiZSBkcmFpbmVkLCB6b25lIG1pY3JvdGFza3MgbWlnaHQgbm90IGJlXG4gKiBAcGFyYW0gbWFrZVRlc3REcmFpbiBzaG91bGQgaXQgZHJhaW4gdGhlIGN1cnJlbnQgbWljcm90YXNrIHF1ZXVlIHRvIGVuc3VyZSB0aGUgcXVldWUgY2FuIGJlIGRyYWluZWRcbiAqIEByZXR1cm5zIGlmIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUgY2FuIGJlIGNhbGxlZFxuICovXG5mdW5jdGlvbiBuYXRpdmVRdWV1ZUNhbkJlRHJhaW5lZChtYWtlVGVzdERyYWluKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFtYWtlVGVzdERyYWluKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgY2FuUnVuU3luYyA9IGZhbHNlO1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gKGNhblJ1blN5bmMgPSB0cnVlKSk7XG4gICAgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSgpO1xuICAgIHJldHVybiBjYW5SdW5TeW5jO1xufVxuLyoqXG4gKiBSdW5zIGEgZnVuY3Rpb24gaW4gdGhlIG1vc3Qgc3luY2hyb25vdXMgd2F5IHBvc3NpYmxlXG4gKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gcnVuXG4gKiBAcGFyYW0gZG9uZSBmdW5jdGlvbiB0byBjaGFpbiBhZnRlciBkb25lXG4gKi9cbmZ1bmN0aW9uIHJ1blN5bmNocm9ub3VzbHkoZm4sIGRvbmUpIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgIT09ICd1bmRlZmluZWQnICYmIFpvbmVDYW5Xb3JrU3luYygpKSB7XG4gICAgICAgIHJ1blpvbmVTeW5jVGFzayhmbik7XG4gICAgICAgIGRvbmU/LigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChuYXRpdmVRdWV1ZUNhbkJlRHJhaW5lZCh0cnVlKSkge1xuICAgICAgICBmbigpO1xuICAgICAgICBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlKCk7XG4gICAgICAgIGRvbmU/LigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZuKCk7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soZG9uZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJzQ29uZmlnKG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcHBQcm92aWRlcnM6IFsuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi4ob3B0aW9ucz8ucHJvdmlkZXJzID8/IFtdKV0sXG4gICAgICAgIC8vIHBsYXRmb3JtUHJvdmlkZXJzOiBJTlRFUk5BTF9CUk9XU0VSX1BMQVRGT1JNX1BST1ZJREVSU1xuICAgIH07XG59XG5mdW5jdGlvbiBib290c3RyYXBBcHBsaWNhdGlvbihyb290Q29tcG9uZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIMm1aW50ZXJuYWxDcmVhdGVBcHBsaWNhdGlvbih7IHJvb3RDb21wb25lbnQsIC4uLmNyZWF0ZVByb3ZpZGVyc0NvbmZpZyhvcHRpb25zKSB9KTtcbn1cbmZ1bmN0aW9uIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAob3B0aW9ucykge1xuICAgIGxldCBtYWluTW9kdWxlUmVmID0gbnVsbDtcbiAgICBsZXQgbG9hZGluZ01vZHVsZVJlZjtcbiAgICBsZXQgcGxhdGZvcm1SZWYgPSBudWxsO1xuICAgIGxldCBib290c3RyYXBJZCA9IC0xO1xuICAgIGNvbnN0IHVwZGF0ZVBsYXRmb3JtUmVmID0gKG1vZHVsZVJlZiwgcmVhc29uKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1BsYXRmb3JtUmVmID0gbW9kdWxlUmVmLmluamVjdG9yLmdldChQbGF0Zm9ybVJlZik7XG4gICAgICAgIGlmIChuZXdQbGF0Zm9ybVJlZiA9PT0gcGxhdGZvcm1SZWYpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZXN0cm95UmVmKHBsYXRmb3JtUmVmLCByZWFzb24pO1xuICAgICAgICBwbGF0Zm9ybVJlZiA9IG5ld1BsYXRmb3JtUmVmO1xuICAgICAgICBwbGF0Zm9ybVJlZi5vbkRlc3Ryb3koKCkgPT4gKHBsYXRmb3JtUmVmID0gcGxhdGZvcm1SZWYgPT09IG5ld1BsYXRmb3JtUmVmID8gbnVsbCA6IHBsYXRmb3JtUmVmKSk7XG4gICAgfTtcbiAgICBsZXQgbGF1bmNoRXZlbnREb25lID0gdHJ1ZTtcbiAgICBsZXQgdGFyZ2V0Um9vdFZpZXcgPSBudWxsO1xuICAgIGNvbnN0IHNldFJvb3RWaWV3ID0gKHJlZikgPT4ge1xuICAgICAgICBpZiAoYm9vdHN0cmFwSWQgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyB0cmVhdCBlZGdlIGNhc2VzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIE5nTW9kdWxlUmVmIHx8IHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmKSB7XG4gICAgICAgICAgICBpZiAocmVmLmluamVjdG9yLmdldChESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJlZlsnX19kaXNhYmxlX3Jvb3Rfdmlld19oYW5kbGluZyddKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk/Ll9jbG9zZUFsbE1vZGFsVmlld3NJbnRlcm5hbCgpOyAvLyBjbGVhbnVwIG9sZCByb290dmlld1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgJHtsYXVuY2hFdmVudERvbmUgPyAnb3V0c2lkZSBvZicgOiAnZHVyaW5nJ30gbGF1bmNoIGV2ZW50YCk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIGZvciBsZWFrcyB3aGVuIHJvb3QgdmlldyBpc24ndCBwcm9wZXJseSBkZXN0cm95ZWRcbiAgICAgICAgaWYgKHJlZiBpbnN0YW5jZW9mIFZpZXcpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyB0byAke3JlZn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKHsgY3JlYXRlOiAoKSA9PiByZWYgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXVuY2hFdmVudERvbmUpIHtcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHsgY3JlYXRlOiAoKSA9PiByZWYgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRSb290VmlldyA9IHJlZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gcmVmLmluamVjdG9yLmdldChBUFBfUk9PVF9WSUVXKTtcbiAgICAgICAgY29uc3QgbmV3Um9vdCA9IHZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyA/IHZpZXcuY29udGVudCA6IHZpZXc7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3IHRvICR7bmV3Um9vdH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKHsgY3JlYXRlOiAoKSA9PiBuZXdSb290IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhdW5jaEV2ZW50RG9uZSkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gbmV3Um9vdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFJvb3RWaWV3ID0gbmV3Um9vdDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2hvd0Vycm9yVUkgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UgKyAnXFxuXFxuJyArIGVycm9yLnN0YWNrO1xuICAgICAgICBjb25zdCBlcnJvclRleHRCb3ggPSBuZXcgVGV4dFZpZXcoKTtcbiAgICAgICAgZXJyb3JUZXh0Qm94LnRleHQgPSBtZXNzYWdlO1xuICAgICAgICBlcnJvclRleHRCb3guY29sb3IgPSBuZXcgQ29sb3IoJ3JlZCcpO1xuICAgICAgICBzZXRSb290VmlldyhlcnJvclRleHRCb3gpO1xuICAgIH07XG4gICAgY29uc3QgYm9vdHN0cmFwUm9vdCA9IChyZWFzb24pID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJvb3RzdHJhcElkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCb290c3RyYXBJZCA9IGJvb3RzdHJhcElkO1xuICAgICAgICAgICAgbGV0IGJvb3RzdHJhcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBydW5TeW5jaHJvbm91c2x5KCgpID0+IG9wdGlvbnMuYXBwTW9kdWxlQm9vdHN0cmFwKHJlYXNvbikudGhlbigocmVmKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtb2R1bGUgaXMgb2xkIGFuZCBub3QgbmVlZGVkIGFueW1vcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtYXkgaGFwcGVuIHdoZW4gZGV2ZWxvcGVyIHVzZXMgYXN5bmMgYXBwIGluaXRpYWxpemVyIGFuZCB0aGUgdXNlciBleGl0cyB0aGUgYXBwIGJlZm9yZSB0aGlzIGJvb3RzdHJhcHNcbiAgICAgICAgICAgICAgICAgICAgcmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYWluTW9kdWxlUmVmID0gcmVmO1xuICAgICAgICAgICAgICAgIChyZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IHJlZi5jb21wb25lbnRzWzBdIDogcmVmKS5vbkRlc3Ryb3koKCkgPT4gKG1haW5Nb2R1bGVSZWYgPSBtYWluTW9kdWxlUmVmID09PSByZWYgPyBudWxsIDogbWFpbk1vZHVsZVJlZikpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBsYXRmb3JtUmVmKHJlZiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IHJlZi5pbmplY3Rvci5nZXQoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKTtcbiAgICAgICAgICAgICAgICAocmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyByZWYuY29tcG9uZW50c1swXSA6IHJlZikub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZVRhZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYm9vdHN0cmFwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvbk1haW5Cb290c3RyYXAoKTtcbiAgICAgICAgICAgICAgICBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQocmVmLCAnbWFpbicsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgLy8gYm9vdHN0cmFwcGVkIGNvbXBvbmVudDogKHJlZiBhcyBhbnkpLl9ib290c3RyYXBDb21wb25lbnRzWzBdO1xuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGJvb3RzdHJhcHBpbmcgYXBwIG1vZHVsZTpcXG4ke2Vyci5tZXNzYWdlfVxcblxcbiR7ZXJyLnN0YWNrfWApO1xuICAgICAgICAgICAgICAgIHNob3dFcnJvclVJKGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSksICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYm9vdHN0cmFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxvYWRpbmdNb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1blN5bmNocm9ub3VzbHkoKCkgPT4gb3B0aW9ucy5sb2FkaW5nTW9kdWxlKHJlYXNvbikudGhlbigobG9hZGluZ1JlZikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbW9kdWxlIGlzIG9sZCBhbmQgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiB3aGVuIGRldmVsb3BlciB1c2VzIGFzeW5jIGFwcCBpbml0aWFsaXplciBhbmQgdGhlIHVzZXIgZXhpdHMgdGhlIGFwcCBiZWZvcmUgdGhpcyBib290c3RyYXBzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdSZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb2R1bGVSZWYgPSBsb2FkaW5nUmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsb2FkaW5nTW9kdWxlUmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyBsb2FkaW5nTW9kdWxlUmVmLmNvbXBvbmVudHNbMF0gOiBsb2FkaW5nTW9kdWxlUmVmKS5vbkRlc3Ryb3koKCkgPT4gKGxvYWRpbmdNb2R1bGVSZWYgPSBsb2FkaW5nTW9kdWxlUmVmID09PSBsb2FkaW5nUmVmID8gbnVsbCA6IGxvYWRpbmdNb2R1bGVSZWYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQbGF0Zm9ybVJlZihsb2FkaW5nUmVmLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVGFnID0gbG9hZGluZ01vZHVsZVJlZi5pbmplY3Rvci5nZXQoTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobG9hZGluZ01vZHVsZVJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gbG9hZGluZ01vZHVsZVJlZi5jb21wb25lbnRzWzBdIDogbG9hZGluZ01vZHVsZVJlZikub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyhzdHlsZVRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobG9hZGluZ1JlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWxheSBzaG93aW5nIHRoZSBuZXcgcm9vdHZpZXcgdG8gYXZvaWQgZmxhc2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkaW5nU2VydmljZSA9IGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5nWm9uZSkucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nU2VydmljZS5fbm90aWZ5TWFpbk1vZHVsZVJlYWR5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdTZXJ2aWNlLnJlYWR5VG9EZXN0cm95JFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5waXBlKGZpbHRlcigocmVhZHkpID0+IHJlYWR5KSwgdGFrZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0cm95UmVmKGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhtYWluTW9kdWxlUmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGJvb3RzdHJhcHBpbmcgbG9hZGluZyBtb2R1bGU6XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JVSShlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmxhdW5jaFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXVuY2hWaWV3ID0gb3B0aW9ucy5sYXVuY2hWaWV3KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSb290VmlldyhsYXVuY2hWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXVuY2hWaWV3LnN0YXJ0QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBsYXVuY2ggYW5pbWF0aW9uIGlzIGV4ZWN1dGVkIGFmdGVyIGxhdW5jaFZpZXcgYWRkZWQgdG8gdmlldyBzdGFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3LnN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsYXkgc2hvd2luZyB0aGUgbmV3IHJvb3R2aWV3IHRvIGF2b2lkIGZsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVdGlscy5xdWV1ZU1hY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXVuY2hWaWV3LmNsZWFudXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xlYW51cCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0FwcCBpcyBib290c3RyYXBwaW5nIGFzeW5jaHJvbm91c2x5IChsaWtlbHkgQVBQX0lOSVRJQUxJWkVSKSBidXQgZGlkIG5vdCBwcm92aWRlIGEgbGF1bmNoVmlldyBvciBMb2FkaW5nTW9kdWxlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nRXJyb3IoYEVycm9yIGluIEJvb3RzdHJhcCBGdW5jdGlvbjpcXG4ke2Vyci5tZXNzYWdlfVxcblxcbiR7ZXJyLnN0YWNrfWApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlUGxhdGZvcm0gPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGRlc3Ryb3lSZWYocGxhdGZvcm1SZWYsIHJlYXNvbik7XG4gICAgICAgIHBsYXRmb3JtUmVmID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGRpc3Bvc2VMYXN0TW9kdWxlcyA9IChyZWFzb24pID0+IHtcbiAgICAgICAgLy8gcmVzZXQgYm9vdHN0cmFwIElEIHRvIG1ha2Ugc3VyZSBhbnkgbW9kdWxlcyBib290c3RyYXBwZWQgYWZ0ZXIgdGhpcyBhcmUgZGlzY2FyZGVkXG4gICAgICAgIGJvb3RzdHJhcElkID0gLTE7XG4gICAgICAgIGRlc3Ryb3lSZWYobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbnVsbDtcbiAgICAgICAgZGVzdHJveVJlZihtYWluTW9kdWxlUmVmLCAnbWFpbicsIHJlYXNvbik7XG4gICAgICAgIG1haW5Nb2R1bGVSZWYgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgbGF1bmNoQ2FsbGJhY2sgPSBwcm9maWxlKCdAbmF0aXZlc2NyaXB0L2FuZ3VsYXIvcGxhdGZvcm0tY29tbW9uLmxhdW5jaENhbGxiYWNrJywgKGFyZ3MpID0+IHtcbiAgICAgICAgbGF1bmNoRXZlbnREb25lID0gZmFsc2U7XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2FwcGxhdW5jaCcpO1xuICAgICAgICBsYXVuY2hFdmVudERvbmUgPSB0cnVlO1xuICAgICAgICBhcmdzLnJvb3QgPSB0YXJnZXRSb290VmlldyB8fCBudWxsO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4aXRDYWxsYmFjayA9IHByb2ZpbGUoJ0BuYXRpdmVzY3JpcHQvYW5ndWxhci9wbGF0Zm9ybS1jb21tb24uZXhpdENhbGxiYWNrJywgKGFyZ3MpID0+IHtcbiAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdhcHBleGl0Jyk7XG4gICAgfSk7XG4gICAgbGV0IG9sZEFkZEV2ZW50TGlzdGVuZXI7XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscz8uZXZlbnRzPy5bWm9uZS5fX3N5bWJvbF9fKCdhZGRFdmVudExpc3RlbmVyJyldKSB7XG4gICAgICAgIG9sZEFkZEV2ZW50TGlzdGVuZXIgPSBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIgPSBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHNbWm9uZS5fX3N5bWJvbF9fKCdhZGRFdmVudExpc3RlbmVyJyldO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgQXBwbGljYXRpb24ub24oQXBwbGljYXRpb24ubGF1bmNoRXZlbnQsIGxhdW5jaENhbGxiYWNrKTtcbiAgICB9XG4gICAgQXBwbGljYXRpb24ub24oQXBwbGljYXRpb24uZXhpdEV2ZW50LCBleGl0Q2FsbGJhY2spO1xuICAgIGlmIChvbGRBZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyID0gb2xkQWRkRXZlbnRMaXN0ZW5lcjtcbiAgICB9XG4gICAgaWYgKGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10pIHtcbiAgICAgICAgLy8gaGFuZGxlIEhNUiBBcHBsaWNhdGlvbi5ydW5cbiAgICAgICAgZ2xvYmFsWydfX2Rpc3Bvc2VfYXBwX25nX3BsYXRmb3JtX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19kaXNwb3NlX2FwcF9uZ19tb2R1bGVzX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19ib290c3RyYXBfYXBwX25nX21vZHVsZXNfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19jbGVhbnVwX25nX2hvdF9fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5vZmYoQXBwbGljYXRpb24ubGF1bmNoRXZlbnQsIGxhdW5jaENhbGxiYWNrKTtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLm9mZihBcHBsaWNhdGlvbi5leGl0RXZlbnQsIGV4aXRDYWxsYmFjayk7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgfTtcbiAgICAgICAgZ2xvYmFsWydfX3JlYm9vdF9uZ19tb2R1bGVzX18nXSA9IChzaG91bGREaXNwb3NlUGxhdGZvcm0gPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIGlmIChzaG91bGREaXNwb3NlUGxhdGZvcm0pIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICghQXBwbGljYXRpb24uaGFzTGF1bmNoZWQoKSkge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ucnVuKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYm9vdHN0cmFwUm9vdCgnaG90cmVsb2FkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgYm9vdHN0cmFwUm9vdCgnYXBwbGF1bmNoJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBBcHBsaWNhdGlvbi5ydW4oKTtcbiAgICB9XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdFBsYXRmb3JtUmVmUHJveHkgZXh0ZW5kcyBQbGF0Zm9ybVJlZiB7XG4gICAgY29uc3RydWN0b3IocGxhdGZvcm0sIGxhdW5jaFZpZXcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xuICAgICAgICB0aGlzLmxhdW5jaFZpZXcgPSBsYXVuY2hWaWV3O1xuICAgIH1cbiAgICBib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgYXBwTW9kdWxlQm9vdHN0cmFwOiAoKSA9PiB0aGlzLnBsYXRmb3JtLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkobW9kdWxlRmFjdG9yeSksXG4gICAgICAgICAgICBsYXVuY2hWaWV3OiAoKSA9PiB0aGlzLmxhdW5jaFZpZXcsXG4gICAgICAgIH07XG4gICAgICAgIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAodGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAgICAgYXBwTW9kdWxlQm9vdHN0cmFwOiAoKSA9PiB0aGlzLnBsYXRmb3JtLmJvb3RzdHJhcE1vZHVsZShtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgICAgICBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBvbkRlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS5vbkRlc3Ryb3koY2FsbGJhY2spO1xuICAgIH1cbiAgICBnZXQgaW5qZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmluamVjdG9yO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBsYXRmb3JtLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZ2V0IGRlc3Ryb3llZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGxhdGZvcm0uZGVzdHJveWVkO1xuICAgIH1cbn1cblxuY29uc3QgZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIgPSB7IHByb3ZpZGU6IFBBR0VfRkFDVE9SWSwgdXNlVmFsdWU6IGRlZmF1bHRQYWdlRmFjdG9yeSB9O1xuY2xhc3MgTmF0aXZlU2NyaXB0U2FuaXRpemVyIGV4dGVuZHMgU2FuaXRpemVyIHtcbiAgICBzYW5pdGl6ZShfY29udGV4dCwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbi8vIFRPRE86IHdoZW4gYW5ndWxhciBmaW5hbGx5IGV4cG9ydHMgdGhlaXIgc2NoZWR1bGVyIHRva2VuIGZvciBpdnkgQ0QsIHByb3ZpZGUgb3VyIG93biB3aXRoIHF1ZXVlTWFjcm9UYXNrXG4vLyBleHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVyRmFjdG9yeSgpIHtcbi8vICAgcmV0dXJuIChmbjogYW55KSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coJ1NDSEVEVUxFUicpO1xuLy8gICAgIHNldFRpbWVvdXQoZm4sIDApO1xuLy8gICB9O1xuLy8gfVxuY2xhc3MgTmF0aXZlU2NyaXB0RG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBSZXF1aXJlZCBieSB0aGUgQW5pbWF0aW9uRHJpdmVyXG4gICAgICAgIHRoaXMuYm9keSA9IHtcbiAgICAgICAgICAgIGlzT3ZlcnJpZGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQodGFnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlU2NyaXB0RG9jdW1lbnQgaXMgbm90IERPTSBEb2N1bWVudC4gVGhlcmUgaXMgbm8gY3JlYXRlRWxlbWVudCgpIG1ldGhvZC4nKTtcbiAgICB9XG59XG5jb25zdCBDT01NT05fUFJPVklERVJTID0gW2RlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyLCB7IHByb3ZpZGU6IFNhbml0aXplciwgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdFNhbml0aXplciwgZGVwczogW10gfSwgeyBwcm92aWRlOiBET0NVTUVOVCwgdXNlQ2xhc3M6IE5hdGl2ZVNjcmlwdERvY3VtZW50LCBkZXBzOiBbXSB9XTtcbmNvbnN0IHBsYXRmb3JtTmF0aXZlU2NyaXB0ID0gY3JlYXRlUGxhdGZvcm1GYWN0b3J5KHBsYXRmb3JtQ29yZSwgJ25hdGl2ZXNjcmlwdER5bmFtaWMnLCBDT01NT05fUFJPVklERVJTKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAgaW5zdGVhZFxuICovXG5jb25zdCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMgPSBmdW5jdGlvbiAob3B0aW9ucywgZXh0cmFQcm92aWRlcnMpIHtcbiAgICBjb25zb2xlLmxvZygncGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljIGlzIGRlcHJlY2F0ZWQsIHVzZSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIGluc3RlYWQnKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBleHRyYVByb3ZpZGVycyA9IGV4dHJhUHJvdmlkZXJzIHx8IFtdO1xuICAgIGNvbnN0IG5nUm9vdFZpZXcgPSBuZXcgQXBwSG9zdFZpZXcobmV3IENvbG9yKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8ICd3aGl0ZScpKTtcbiAgICBsZXQgbGF1bmNoVmlldyA9IG9wdGlvbnMubGF1bmNoVmlldztcbiAgICBpZiAoIWxhdW5jaFZpZXcgJiYgb3B0aW9ucy5hc3luYykge1xuICAgICAgICBsYXVuY2hWaWV3ID0gbmV3IEdyaWRMYXlvdXQoKTtcbiAgICAgICAgbGF1bmNoVmlldy5iYWNrZ3JvdW5kQ29sb3IgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdFBsYXRmb3JtUmVmUHJveHkocGxhdGZvcm1OYXRpdmVTY3JpcHQoWy4uLmV4dHJhUHJvdmlkZXJzXSksIGxhdW5jaFZpZXcpO1xufTtcblxuY2xhc3MgUm9vdFZpZXdQcm94eSBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRSb290TGF5b3V0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGFyZW50Um9vdExheW91dCA9IHBhcmVudFJvb3RMYXlvdXQ7XG4gICAgfVxuICAgIF9hZGRWaWV3KHZpZXcsIGF0SW5kZXgpIHtcbiAgICAgICAgc3VwZXIuX2FkZFZpZXcodmlldywgYXRJbmRleCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudFJvb3RMYXlvdXQuZ2V0Q2hpbGRJbmRleCh0aGlzKSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Um9vdExheW91dC5pbnNlcnRDaGlsZCh0aGlzLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlVmlldyh2aWV3KSB7XG4gICAgICAgIHN1cGVyLl9yZW1vdmVWaWV3KHZpZXcpO1xuICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGdlbmVyYXRlcyBhIFJvb3RMYXlvdXQgYW5kIHJldHVybnMgYSBSb290Vmlld1Byb3h5LlxuICogU2V0dGluZyBSb290Vmlld1Byb3h5LmNvbnRlbnQgd2lsbCBhZGQgdGhlIHZpZXcgdG8gdGhlIGJvdHRvbSBvZiB0aGUgUm9vdExheW91dFxuICogU2V0dGluZyBSb290Vmlld1Byb3h5LmNvbnRlbnQgPSBudWxsIHdpbGwgcmVtb3ZlIHRoZSB2aWV3IGZyb20gdGhlIFJvb3RMYXlvdXRcbiAqIEByZXR1cm5zIFJvb3RWaWV3UHJveHkgdGhhdCB3aWxsIGluc2VydCBjb250ZW50IGludG8gdGhlIHN0YXJ0IG9mIHRoZSBSb290TGF5b3V0XG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5KCkge1xuICAgIGxldCByb290VmlldyA9IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgaWYgKCFyb290VmlldyB8fCAhKHJvb3RWaWV3IGluc3RhbmNlb2YgUm9vdExheW91dCkpIHtcbiAgICAgICAgcm9vdFZpZXcgPSBuZXcgUm9vdExheW91dCgpO1xuICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHsgY3JlYXRlOiAoKSA9PiByb290VmlldyB9KTtcbiAgICB9XG4gICAgY29uc3Qgdmlld1Byb3h5ID0gbmV3IFJvb3RWaWV3UHJveHkocm9vdFZpZXcpO1xuICAgIC8vIChyb290VmlldyBhcyBSb290TGF5b3V0KS5pbnNlcnRDaGlsZCh2aWV3UHJveHksIDApO1xuICAgIHJldHVybiB2aWV3UHJveHk7XG59XG5jbGFzcyBSb290Q29tcG9zaXRlTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm9vdENvbXBvc2l0ZU1vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgeyBwcm92aWRlOiBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgdXNlVmFsdWU6IHRydWUgfSxcbiAgICAgICAgICAgIHsgcHJvdmlkZTogQVBQX1JPT1RfVklFVywgdXNlRmFjdG9yeTogZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkgfSxcbiAgICAgICAgXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBESVNBQkxFX1JPT1RfVklFV19IQU5ETElORywgdXNlVmFsdWU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQVBQX1JPT1RfVklFVywgdXNlRmFjdG9yeTogZ2VuZXJhdGVSb290TGF5b3V0QW5kUHJveHkgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gZm9yIG9wZW5pbmcgYSBtb2RhbCBkaWFsb2cgd2l0aCB0aGUgTWF0RGlhbG9nIHNlcnZpY2UuXG4gKi9cbmNsYXNzIE5hdGl2ZURpYWxvZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBkaWFsb2cgaGFzIGEgYmFja2Ryb3AuICovXG4gICAgICAgIHRoaXMuaGFzQmFja2Ryb3AgPSB0cnVlO1xuICAgICAgICAvKiogV2hldGhlciB0aGUgdXNlciBjYW4gdXNlIGVzY2FwZSBvciBjbGlja2luZyBvbiB0aGUgYmFja2Ryb3AgdG8gY2xvc2UgdGhlIG1vZGFsLiAqL1xuICAgICAgICB0aGlzLmRpc2FibGVDbG9zZSA9IGZhbHNlO1xuICAgICAgICAvKiogRGF0YSBiZWluZyBpbmplY3RlZCBpbnRvIHRoZSBjaGlsZCBjb21wb25lbnQuICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBkaWFsb2cgc2hvdWxkIGNsb3NlIHdoZW4gdGhlIHVzZXIgZ29lcyBiYWNrd2FyZHMvZm9yd2FyZHMgaW4gaGlzdG9yeS5cbiAgICAgICAgICogTm90ZSB0aGF0IHRoaXMgdXN1YWxseSBkb2Vzbid0IGluY2x1ZGUgY2xpY2tpbmcgb24gbGlua3MgKHVubGVzcyB0aGUgdXNlciBpcyB1c2luZ1xuICAgICAgICAgKiB0aGUgYEhhc2hMb2NhdGlvblN0cmF0ZWd5YCkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlT25OYXZpZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uYXRpdmVPcHRpb25zID0ge307XG4gICAgICAgIC8vIFRPRE8oamVsYm91cm4pOiBhZGQgY29uZmlndXJhdGlvbiBmb3IgbGlmZWN5Y2xlIGhvb2tzLCBBUklBIGxhYmVsbGluZy5cbiAgICB9XG59XG5cbi8vIENvdW50ZXIgZm9yIHVuaXF1ZSBkaWFsb2cgaWRzLlxubGV0IHVuaXF1ZUlkID0gMDtcbmNsYXNzIE5hdGl2ZURpYWxvZ1JlZiB7XG4gICAgY29uc3RydWN0b3IoX25hdGl2ZU1vZGFsUmVmLCBpZCA9IGBuYXRpdmUtZGlhbG9nLSR7dW5pcXVlSWQrK31gKSB7XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmID0gX25hdGl2ZU1vZGFsUmVmO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBmaW5pc2hlZCBvcGVuaW5nLiAqL1xuICAgICAgICB0aGlzLl9hZnRlck9wZW5lZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBmaW5pc2hlZCBjbG9zaW5nLiAqL1xuICAgICAgICB0aGlzLl9hZnRlckNsb3NlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBTdWJqZWN0IGZvciBub3RpZnlpbmcgdGhlIHVzZXIgdGhhdCB0aGUgZGlhbG9nIGhhcyBzdGFydGVkIGNsb3NpbmcuICovXG4gICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8qKiBDdXJyZW50IHN0YXRlIG9mIHRoZSBkaWFsb2cuICovXG4gICAgICAgIHRoaXMuX3N0YXRlID0gMCAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5PUEVOICovO1xuICAgICAgICAvLyBQYXNzIHRoZSBpZCBhbG9uZyB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuX2lkID0gaWQ7XG4gICAgICAgIC8vIEVtaXQgd2hlbiBvcGVuaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLnN0YXRlQ2hhbmdlZFxuICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChldmVudCkgPT4gZXZlbnQuc3RhdGUgPT09ICdvcGVuZWQnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQubmV4dCgpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIERpc3Bvc2Ugb3ZlcmxheSB3aGVuIGNsb3NpbmcgYW5pbWF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnY2xvc2VkJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jbG9zZUZhbGxiYWNrVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9maW5pc2hEaWFsb2dDbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5vbkRpc21pc3Muc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudEluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIF9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZXN1bHQgT3B0aW9uYWwgcmVzdWx0IHRvIHJldHVybiB0byB0aGUgZGlhbG9nIG9wZW5lci5cbiAgICAgKi9cbiAgICBjbG9zZShkaWFsb2dSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gZGlhbG9nUmVzdWx0O1xuICAgICAgICAvLyBUcmFuc2l0aW9uIHRoZSBiYWNrZHJvcCBpbiBwYXJhbGxlbCB0byB0aGUgZGlhbG9nLlxuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnY2xvc2luZycpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2JlZm9yZUNsb3NlZC5uZXh0KGRpYWxvZ1Jlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYuZGV0YWNoQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIC8vIFRoZSBsb2dpYyB0aGF0IGRpc3Bvc2VzIG9mIHRoZSBvdmVybGF5IGRlcGVuZHMgb24gdGhlIGV4aXQgYW5pbWF0aW9uIGNvbXBsZXRpbmcsIGhvd2V2ZXJcbiAgICAgICAgICAgIC8vIGl0IGlzbid0IGd1YXJhbnRlZWQgaWYgdGhlIHBhcmVudCB2aWV3IGlzIGRlc3Ryb3llZCB3aGlsZSBpdCdzIHJ1bm5pbmcuIEFkZCBhIGZhbGxiYWNrXG4gICAgICAgICAgICAvLyB0aW1lb3V0IHdoaWNoIHdpbGwgY2xlYW4gZXZlcnl0aGluZyB1cCBpZiB0aGUgYW5pbWF0aW9uIGhhc24ndCBmaXJlZCB3aXRoaW4gdGhlIHNwZWNpZmllZFxuICAgICAgICAgICAgLy8gYW1vdW50IG9mIHRpbWUgcGx1cyAxMDBtcy4gV2UgZG9uJ3QgbmVlZCB0byBydW4gdGhpcyBvdXRzaWRlIHRoZSBOZ1pvbmUsIGJlY2F1c2UgZm9yIHRoZVxuICAgICAgICAgICAgLy8gdmFzdCBtYWpvcml0eSBvZiBjYXNlcyB0aGUgdGltZW91dCB3aWxsIGhhdmUgYmVlbiBjbGVhcmVkIGJlZm9yZSBpdCBoYXMgdGhlIGNoYW5jZSB0byBmaXJlLlxuICAgICAgICAgICAgdGhpcy5fY2xvc2VGYWxsYmFja1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2hEaWFsb2dDbG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAvL2V2ZW50LnRvdGFsVGltZSArIDEwMCk7XG4gICAgICAgICAgICAxMDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAxIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLkNMT1NJTkcgKi87XG4gICAgICAgIHRoaXMuX25hdGl2ZU1vZGFsUmVmLl9zdGFydEV4aXRBbmltYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGlzIGZpbmlzaGVkIG9wZW5pbmcuXG4gICAgICovXG4gICAgYWZ0ZXJPcGVuZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZnRlck9wZW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGlzIGZpbmlzaGVkIGNsb3NpbmcuXG4gICAgICovXG4gICAgYWZ0ZXJDbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZnRlckNsb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgaXMgbm90aWZpZWQgd2hlbiB0aGUgZGlhbG9nIGhhcyBzdGFydGVkIGNsb3NpbmcuXG4gICAgICovXG4gICAgYmVmb3JlQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmVmb3JlQ2xvc2VkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9ic2VydmFibGUgdGhhdCBlbWl0cyB3aGVuIHRoZSBvdmVybGF5J3MgYmFja2Ryb3AgaGFzIGJlZW4gY2xpY2tlZC5cbiAgICAgKi9cbiAgICBiYWNrZHJvcENsaWNrKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgLyoqIEFkZCBhIENTUyBjbGFzcyBvciBhbiBhcnJheSBvZiBjbGFzc2VzIHRvIHRoZSBvdmVybGF5IHBhbmUuICovXG4gICAgYWRkUGFuZWxDbGFzcyhjbGFzc2VzKSB7XG4gICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYuYWRkUGFuZWxDbGFzcyhjbGFzc2VzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBSZW1vdmUgYSBDU1MgY2xhc3Mgb3IgYW4gYXJyYXkgb2YgY2xhc3NlcyBmcm9tIHRoZSBvdmVybGF5IHBhbmUuICovXG4gICAgcmVtb3ZlUGFuZWxDbGFzcyhjbGFzc2VzKSB7XG4gICAgICAgIC8vIHRoaXMuX292ZXJsYXlSZWYucmVtb3ZlUGFuZWxDbGFzcyhjbGFzc2VzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkaWFsb2cncyBsaWZlY3ljbGUuICovXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGRpYWxvZyBjbG9zZSBieSB1cGRhdGluZyB0aGUgc3RhdGUgb2YgdGhlIGRpYWxvZ1xuICAgICAqIGFuZCBkaXNwb3NpbmcgdGhlIG92ZXJsYXkuXG4gICAgICovXG4gICAgX2ZpbmlzaERpYWxvZ0Nsb3NlKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDIgLyogTmF0aXZlRGlhbG9nU3RhdGUuQ0xPU0VEICovO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgfVxufVxuXG5sZXQgTmF0aXZlTW9kYWxSZWYgPSBjbGFzcyBOYXRpdmVNb2RhbFJlZiB7XG4gICAgY29uc3RydWN0b3IoX2NvbmZpZywgX2luamVjdG9yLCBsb2NhdGlvbikge1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMub25EaXNtaXNzID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5faXNEaXNtaXNzZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHBhcmVudFZpZXcgPSB0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZj8uZWxlbWVudC5uYXRpdmVFbGVtZW50IHx8IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIGlmICgocGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3IHx8IHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0QXN5bmNWaWV3KSAmJiBwYXJlbnRWaWV3Lm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcubmdBcHBSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIF9uZ0RpYWxvZ1Jvb3QgaXMgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBwcmV2aW91c2x5IGRldGFjaGVkIHByb3h5LlxuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSAndmlld0NvbnRyb2xsZXInIChpT1MpIG9yICdfZGlhbG9nRnJhZ21lbnQnIChBbmRyb2lkKSBhdmFpbGFibGUgZm9yXG4gICAgICAgIC8vIHByZXNlbnRpbmcgZnV0dXJlIG1vZGFsIHZpZXdzLlxuICAgICAgICB3aGlsZSAocGFyZW50Vmlldy5fbW9kYWwgfHwgcGFyZW50Vmlldy5fbmdEaWFsb2dSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5fbW9kYWwgfHwgcGFyZW50Vmlldy5fbmdEaWFsb2dSb290O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50VmlldyA9IHBhcmVudFZpZXc7XG4gICAgICAgIHRoaXMuX2Nsb3NlQ2FsbGJhY2sgPSBvbmNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkLm5leHQoeyBzdGF0ZTogJ2Nsb3NpbmcnIH0pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0Rpc21pc3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc/LmNsb3NlTW9kYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYXRpb24/Ll9jbG9zZU1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICAgICAgLy8gdGhpcy5kZXRhY2hlZExvYWRlclJlZj8uZGVzdHJveSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubW9kYWxWaWV3UmVmPy5maXJzdE5hdGl2ZUxpa2VWaWV3LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgZnJvbUV2ZW50KHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsICd1bmxvYWRlZCcpXG4gICAgICAgICAgICAgICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4gdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2VkJyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zZWQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2dlbmVyYXRlRGV0YWNoZWRDb250YWluZXIodmNSZWYpIHtcbiAgICAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gKHRoaXMuX2NvbmZpZy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5faW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikpLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgaWYgKHZjUmVmKSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmID0gdmNSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZSh0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZj8uaW5qZWN0b3IgfHwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKS5hdHRhY2hWaWV3KHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBhdHRhY2hUZW1wbGF0ZVBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICBjb25zdCB2Y1JlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmIHx8IHRoaXMuX2NvbmZpZy52aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICB0aGlzLl9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyKHZjUmVmKTtcbiAgICAgICAgcG9ydGFsLnZpZXdDb250YWluZXJSZWYgPSB0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjO1xuICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCB0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpLCB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmVmID0gdGhpcy5wb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmID0gbmV3IE5nVmlld1JlZih0ZW1wbGF0ZVJlZik7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXdbJ19fbmdfbW9kYWxfaWRfXyddID0gdGhpcy5faWQ7XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IGRldGFjaCB0aGUgdmlldyBmcm9tIGl0cyBwYXJlbnQsIGlvcyBnZXRzIG1hZFxuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5kZXRhY2hOYXRpdmVMaWtlVmlldygpO1xuICAgICAgICBjb25zdCB1c2VyT3B0aW9ucyA9IHRoaXMuX2NvbmZpZy5uYXRpdmVPcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnBhcmVudFZpZXcuc2hvd01vZGFsKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcsIHtcbiAgICAgICAgICAgIGNvbnRleHQ6IG51bGwsXG4gICAgICAgICAgICAuLi51c2VyT3B0aW9ucyxcbiAgICAgICAgICAgIGNsb3NlQ2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2F0aW9uPy5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiAhdGhpcy5fY29uZmlnLmRpc2FibGVDbG9zZSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vICAgaWYgKHRoaXMubW9kYWxWaWV3ICE9PSB0ZW1wbGF0ZVJlZi5yb290Tm9kZXNbMF0pIHtcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50Ll9uZ0RpYWxvZ1Jvb3QgPSB0aGlzLm1vZGFsVmlldztcbiAgICAgICAgLy8gICB9XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZVJlZjtcbiAgICB9XG4gICAgYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCkge1xuICAgICAgICB0aGlzLnN0YXJ0TW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICAgICAgdGhpcy5wb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHRhcmdldFZpZXcsIHRoaXMuX2NvbmZpZy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfHwgdGhpcy5faW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciksIHRoaXMuX2luamVjdG9yLmdldChBcHBsaWNhdGlvblJlZiksIHRoaXMuX2luamVjdG9yKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gdGhpcy5wb3J0YWxPdXRsZXQuYXR0YWNoKHBvcnRhbCk7XG4gICAgICAgIGNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmID0gbmV3IE5nVmlld1JlZihjb21wb25lbnRSZWYpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldyAhPT0gdGhpcy5tb2RhbFZpZXdSZWYudmlldykge1xuICAgICAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYudmlldy5fbmdEaWFsb2dSb290ID0gdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3WydfX25nX21vZGFsX2lkX18nXSA9IHRoaXMuX2lkO1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgY29uc3QgdXNlck9wdGlvbnMgPSB0aGlzLl9jb25maWcubmF0aXZlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3LnNob3dNb2RhbCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCB7XG4gICAgICAgICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgLi4udXNlck9wdGlvbnMsXG4gICAgICAgICAgICBjbG9zZUNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNEaXNtaXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlQ2FsbGJhY2soKTsgLy8gY2xvc2UgY2FsbGJhY2sgY2FuIG9ubHkgYmUgY2FsbGVkIG9uY2UsIHNvIHdlIGNhbGwgaXQgaGVyZSB0byBzZXR1cCB0aGUgZXhpdCBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzbWlzcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiAhdGhpcy5fY29uZmlnLmRpc2FibGVDbG9zZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfVxuICAgIF9zdGFydEV4aXRBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlQ2FsbGJhY2soKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5wb3J0YWxPdXRsZXQuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBzdGFydE1vZGFsTmF2aWdhdGlvbigpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudFZpZXcgaW5zdGFuY2VvZiBGcmFtZSA/IHRoaXMucGFyZW50VmlldyA6IHRoaXMucGFyZW50Vmlldz8ucGFnZT8uZnJhbWUgfHwgRnJhbWUudG9wbW9zdCgpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uPy5fYmVnaW5Nb2RhbE5hdmlnYXRpb24oZnJhbWUpO1xuICAgIH1cbn07XG5OYXRpdmVNb2RhbFJlZiA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oMiwgT3B0aW9uYWwoKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtOYXRpdmVEaWFsb2dDb25maWcsIEluamVjdG9yLCBOU0xvY2F0aW9uU3RyYXRlZ3ldKVxuXSwgTmF0aXZlTW9kYWxSZWYpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBJbmplY3Rpb24gdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBhY2Nlc3MgdGhlIGRhdGEgdGhhdCB3YXMgcGFzc2VkIGluIHRvIGEgZGlhbG9nLiAqL1xuY29uc3QgTkFUSVZFX0RJQUxPR19EQVRBID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVEaWFsb2dEYXRhJyk7XG4vKiogSW5qZWN0aW9uIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBkZWZhdWx0IGRpYWxvZyBvcHRpb25zLiAqL1xuY29uc3QgTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ25hdGl2ZS1kaWFsb2ctZGVmYXVsdC1vcHRpb25zJyk7XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGRpYWxvZyBzZXJ2aWNlcy4gVGhlIGJhc2UgZGlhbG9nIHNlcnZpY2UgYWxsb3dzXG4gKiBmb3IgYXJiaXRyYXJ5IGRpYWxvZyByZWZzIGFuZCBkaWFsb2cgY29udGFpbmVyIGNvbXBvbmVudHMuXG4gKi9cbmNsYXNzIF9OYXRpdmVEaWFsb2dCYXNlIHtcbiAgICAvKiogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnRseS1vcGVuIGRpYWxvZ3MuICovXG4gICAgZ2V0IG9wZW5EaWFsb2dzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50RGlhbG9nID8gdGhpcy5fcGFyZW50RGlhbG9nLm9wZW5EaWFsb2dzIDogdGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbDtcbiAgICB9XG4gICAgLyoqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gYSBkaWFsb2cgaGFzIGJlZW4gb3BlbmVkLiAqL1xuICAgIGdldCBhZnRlck9wZW5lZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudERpYWxvZyA/IHRoaXMuX3BhcmVudERpYWxvZy5hZnRlck9wZW5lZCA6IHRoaXMuX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIF9nZXRBZnRlckFsbENsb3NlZCgpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fcGFyZW50RGlhbG9nO1xuICAgICAgICByZXR1cm4gcGFyZW50ID8gcGFyZW50Ll9nZXRBZnRlckFsbENsb3NlZCgpIDogdGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoX2luamVjdG9yLCBfZGVmYXVsdE9wdGlvbnMsIF9wYXJlbnREaWFsb2csIF9kaWFsb2dSZWZDb25zdHJ1Y3RvciwgX25hdGl2ZU1vZGFsVHlwZSwgX2RpYWxvZ0RhdGFUb2tlbiwgbG9jYXRpb25TdHJhdGVneSkge1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgdGhpcy5fZGVmYXVsdE9wdGlvbnMgPSBfZGVmYXVsdE9wdGlvbnM7XG4gICAgICAgIHRoaXMuX3BhcmVudERpYWxvZyA9IF9wYXJlbnREaWFsb2c7XG4gICAgICAgIHRoaXMuX2RpYWxvZ1JlZkNvbnN0cnVjdG9yID0gX2RpYWxvZ1JlZkNvbnN0cnVjdG9yO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFR5cGUgPSBfbmF0aXZlTW9kYWxUeXBlO1xuICAgICAgICB0aGlzLl9kaWFsb2dEYXRhVG9rZW4gPSBfZGlhbG9nRGF0YVRva2VuO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsID0gW107XG4gICAgICAgIHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWwgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgLy8gVE9ETyAoamVsYm91cm4pOiB0aWdodGVuIHRoZSB0eXBpbmcgcmlnaHQtaGFuZCBzaWRlIG9mIHRoaXMgZXhwcmVzc2lvbi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gYWxsIG9wZW4gZGlhbG9nIGhhdmUgZmluaXNoZWQgY2xvc2luZy5cbiAgICAgICAgICogV2lsbCBlbWl0IG9uIHN1YnNjcmliZSBpZiB0aGVyZSBhcmUgbm8gb3BlbiBkaWFsb2dzIHRvIGJlZ2luIHdpdGguXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFmdGVyQWxsQ2xvc2VkID0gZGVmZXIoKCkgPT4gKHRoaXMub3BlbkRpYWxvZ3MubGVuZ3RoID8gdGhpcy5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKSA6IHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkucGlwZShzdGFydFdpdGgodW5kZWZpbmVkKSkpKTtcbiAgICB9XG4gICAgb3Blbihjb21wb25lbnRPclRlbXBsYXRlUmVmLCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnID0gX2FwcGx5Q29uZmlnRGVmYXVsdHMoY29uZmlnLCB0aGlzLl9kZWZhdWx0T3B0aW9ucyB8fCBuZXcgTmF0aXZlRGlhbG9nQ29uZmlnKCkpO1xuICAgICAgICBpZiAoY29uZmlnLmlkICYmIHRoaXMuZ2V0RGlhbG9nQnlJZChjb25maWcuaWQpICYmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRGlhbG9nIHdpdGggaWQgXCIke2NvbmZpZy5pZH1cIiBleGlzdHMgYWxyZWFkeS4gVGhlIGRpYWxvZyBpZCBtdXN0IGJlIHVuaXF1ZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLl9hdHRhY2hEaWFsb2dDb250ZW50KGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMub3BlbkRpYWxvZ3MucHVzaChkaWFsb2dSZWYpO1xuICAgICAgICBkaWFsb2dSZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fcmVtb3ZlT3BlbkRpYWxvZyhkaWFsb2dSZWYpKTtcbiAgICAgICAgdGhpcy5hZnRlck9wZW5lZC5uZXh0KGRpYWxvZ1JlZik7XG4gICAgICAgIC8vIE5vdGlmeSB0aGUgZGlhbG9nIGNvbnRhaW5lciB0aGF0IHRoZSBjb250ZW50IGhhcyBiZWVuIGF0dGFjaGVkLlxuICAgICAgICAvLyBkaWFsb2dDb250YWluZXIuX2luaXRpYWxpemVXaXRoQXR0YWNoZWRDb250ZW50KCk7XG4gICAgICAgIHJldHVybiBkaWFsb2dSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyBhbGwgb2YgdGhlIGN1cnJlbnRseS1vcGVuIGRpYWxvZ3MuXG4gICAgICovXG4gICAgY2xvc2VBbGwoKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlRGlhbG9ncyh0aGlzLm9wZW5EaWFsb2dzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgYW4gb3BlbiBkaWFsb2cgYnkgaXRzIGlkLlxuICAgICAqIEBwYXJhbSBpZCBJRCB0byB1c2Ugd2hlbiBsb29raW5nIHVwIHRoZSBkaWFsb2cuXG4gICAgICovXG4gICAgZ2V0RGlhbG9nQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuRGlhbG9ncy5maW5kKChkaWFsb2cpID0+IGRpYWxvZy5pZCA9PT0gaWQpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgLy8gT25seSBjbG9zZSB0aGUgZGlhbG9ncyBhdCB0aGlzIGxldmVsIG9uIGRlc3Ryb3lcbiAgICAgICAgLy8gc2luY2UgdGhlIHBhcmVudCBzZXJ2aWNlIG1heSBzdGlsbCBiZSBhY3RpdmUuXG4gICAgICAgIHRoaXMuX2Nsb3NlRGlhbG9ncyh0aGlzLl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSB1c2VyLXByb3ZpZGVkIGNvbXBvbmVudCB0byB0aGUgYWxyZWFkeS1jcmVhdGVkIGRpYWxvZyBjb250YWluZXIuXG4gICAgICogQHBhcmFtIGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgVGhlIHR5cGUgb2YgY29tcG9uZW50IGJlaW5nIGxvYWRlZCBpbnRvIHRoZSBkaWFsb2csXG4gICAgICogICAgIG9yIGEgVGVtcGxhdGVSZWYgdG8gaW5zdGFudGlhdGUgYXMgdGhlIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIGRpYWxvZ0NvbnRhaW5lciBSZWZlcmVuY2UgdG8gdGhlIHdyYXBwaW5nIGRpYWxvZyBjb250YWluZXIuXG4gICAgICogQHBhcmFtIG92ZXJsYXlSZWYgUmVmZXJlbmNlIHRvIHRoZSBvdmVybGF5IGluIHdoaWNoIHRoZSBkaWFsb2cgcmVzaWRlcy5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBkaWFsb2cgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBNYXREaWFsb2dSZWYgdGhhdCBzaG91bGQgYmUgcmV0dXJuZWQgdG8gdGhlIHVzZXIuXG4gICAgICovXG4gICAgX2F0dGFjaERpYWxvZ0NvbnRlbnQoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHJlZmVyZW5jZSB0byB0aGUgZGlhbG9nIHdlJ3JlIGNyZWF0aW5nIGluIG9yZGVyIHRvIGdpdmUgdGhlIHVzZXIgYSBoYW5kbGVcbiAgICAgICAgLy8gdG8gbW9kaWZ5IGFuZCBjbG9zZSBpdC5cbiAgICAgICAgY29uc3QgbmF0aXZlTW9kYWxSZWYgPSBuZXcgdGhpcy5fbmF0aXZlTW9kYWxUeXBlKGNvbmZpZywgdGhpcy5faW5qZWN0b3IsIHRoaXMubG9jYXRpb25TdHJhdGVneSk7XG4gICAgICAgIGNvbnN0IGRpYWxvZ1JlZiA9IG5ldyB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvcihuYXRpdmVNb2RhbFJlZiwgY29uZmlnLmlkKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IG9wdGlvbnMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICAgICAgLy8gICAgIGlmKG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnksIDAsIGNoaWxkSW5qZWN0b3IsIG51bGwpO1xuICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShjaGlsZEluamVjdG9yKTsgLy8gdGhpcyBEZXRhY2hlZExvYWRlciBpcyAqKmNvbXBsZXRlbHkqKiBkZXRhY2hlZFxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTsgLy8gd2UgYXR0YWNoIGl0IHRvIHRoZSBhcHBsaWNhdGlvblJlZiwgc28gaXQgYmVjb21lcyBhIFwicm9vdFwiIHZpZXcgaW4gYW5ndWxhcidzIGhpZXJhcmNoeVxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7IC8vIGZvcmNlIGEgY2hhbmdlIGRldGVjdGlvblxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLmNyZWF0ZVRlbXBsYXRlUG9ydGFsKG9wdGlvbnMudGVtcGxhdGVSZWYpO1xuICAgICAgICAgICAgbmF0aXZlTW9kYWxSZWYuYXR0YWNoVGVtcGxhdGVQb3J0YWwoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgbmV3IFRlbXBsYXRlUG9ydGFsKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIG51bGwsIHsgJGltcGxpY2l0OiBjb25maWcuZGF0YSwgZGlhbG9nUmVmIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdG9yID0gdGhpcy5fY3JlYXRlSW5qZWN0b3IoY29uZmlnLCBkaWFsb2dSZWYpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFJlZiA9IG5hdGl2ZU1vZGFsUmVmLmF0dGFjaENvbXBvbmVudFBvcnRhbChuZXcgQ29tcG9uZW50UG9ydGFsKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmLCBpbmplY3RvcikpO1xuICAgICAgICAgICAgZGlhbG9nUmVmLmNvbXBvbmVudEluc3RhbmNlID0gY29udGVudFJlZi5pbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlhbG9nUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIGluamVjdG9yIHRvIGJlIHVzZWQgaW5zaWRlIHRoZSBkaWFsb2cuIFRoaXMgYWxsb3dzIGEgY29tcG9uZW50IGxvYWRlZCBpbnNpZGVcbiAgICAgKiBvZiBhIGRpYWxvZyB0byBjbG9zZSBpdHNlbGYgYW5kLCBvcHRpb25hbGx5LCB0byByZXR1cm4gYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZyBvYmplY3QgdGhhdCBpcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZWYgUmVmZXJlbmNlIHRvIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIGRpYWxvZ0NvbnRhaW5lciBEaWFsb2cgY29udGFpbmVyIGVsZW1lbnQgdGhhdCB3cmFwcyBhbGwgb2YgdGhlIGNvbnRlbnRzLlxuICAgICAqIEByZXR1cm5zIFRoZSBjdXN0b20gaW5qZWN0b3IgdGhhdCBjYW4gYmUgdXNlZCBpbnNpZGUgdGhlIGRpYWxvZy5cbiAgICAgKi9cbiAgICBfY3JlYXRlSW5qZWN0b3IoY29uZmlnLCBkaWFsb2dSZWYpIHtcbiAgICAgICAgY29uc3QgdXNlckluamVjdG9yID0gY29uZmlnICYmIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmICYmIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmLmluamVjdG9yO1xuICAgICAgICAvLyBUaGUgZGlhbG9nIGNvbnRhaW5lciBzaG91bGQgYmUgcHJvdmlkZWQgYXMgdGhlIGRpYWxvZyBjb250YWluZXIgYW5kIHRoZSBkaWFsb2cnc1xuICAgICAgICAvLyBjb250ZW50IGFyZSBjcmVhdGVkIG91dCBvZiB0aGUgc2FtZSBgVmlld0NvbnRhaW5lclJlZmAgYW5kIGFzIHN1Y2gsIGFyZSBzaWJsaW5nc1xuICAgICAgICAvLyBmb3IgaW5qZWN0b3IgcHVycG9zZXMuIFRvIGFsbG93IHRoZSBoaWVyYXJjaHkgdGhhdCBpcyBleHBlY3RlZCwgdGhlIGRpYWxvZ1xuICAgICAgICAvLyBjb250YWluZXIgaXMgZXhwbGljaXRseSBwcm92aWRlZCBpbiB0aGUgaW5qZWN0b3IuXG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IFtcbiAgICAgICAgICAgIHsgcHJvdmlkZTogdGhpcy5fZGlhbG9nRGF0YVRva2VuLCB1c2VWYWx1ZTogY29uZmlnLmRhdGEgfSxcbiAgICAgICAgICAgIHsgcHJvdmlkZTogdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IsIHVzZVZhbHVlOiBkaWFsb2dSZWYgfSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIEluamVjdG9yLmNyZWF0ZSh7IHBhcmVudDogdXNlckluamVjdG9yIHx8IHRoaXMuX2luamVjdG9yLCBwcm92aWRlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBkaWFsb2cgZnJvbSB0aGUgYXJyYXkgb2Ygb3BlbiBkaWFsb2dzLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZWYgRGlhbG9nIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgX3JlbW92ZU9wZW5EaWFsb2coZGlhbG9nUmVmKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vcGVuRGlhbG9ncy5pbmRleE9mKGRpYWxvZ1JlZik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5EaWFsb2dzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBJZiBhbGwgdGhlIGRpYWxvZ3Mgd2VyZSBjbG9zZWQsIHJlbW92ZS9yZXN0b3JlIHRoZSBgYXJpYS1oaWRkZW5gXG4gICAgICAgICAgICAvLyB0byBhIHRoZSBzaWJsaW5ncyBhbmQgZW1pdCB0byB0aGUgYGFmdGVyQWxsQ2xvc2VkYCBzdHJlYW0uXG4gICAgICAgICAgICBpZiAoIXRoaXMub3BlbkRpYWxvZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKS5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIENsb3NlcyBhbGwgb2YgdGhlIGRpYWxvZ3MgaW4gYW4gYXJyYXkuICovXG4gICAgX2Nsb3NlRGlhbG9ncyhkaWFsb2dzKSB7XG4gICAgICAgIGxldCBpID0gZGlhbG9ncy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIC8vIFRoZSBgX29wZW5EaWFsb2dzYCBwcm9wZXJ0eSBpc24ndCB1cGRhdGVkIGFmdGVyIGNsb3NlIHVudGlsIHRoZSByeGpzIHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgLy8gcnVucyBvbiB0aGUgbmV4dCBtaWNyb3Rhc2ssIGluIGFkZGl0aW9uIHRvIG1vZGlmeWluZyB0aGUgYXJyYXkgYXMgd2UncmUgZ29pbmdcbiAgICAgICAgICAgIC8vIHRocm91Z2ggaXQuIFdlIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlbSBhbmQgY2FsbCBjbG9zZSB3aXRob3V0IGFzc3VtaW5nIHRoYXRcbiAgICAgICAgICAgIC8vIHRoZXknbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IGluc3RhbnRhbmVvdXNseS5cbiAgICAgICAgICAgIGRpYWxvZ3NbaV0uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBkZXBzOiBcImludmFsaWRcIiwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkluamVjdG9yIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTAuVHlwZSB9LCB7IHR5cGU6IGkwLlR5cGUgfSwgeyB0eXBlOiBpMC5JbmplY3Rpb25Ub2tlbiB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XTsgfSB9KTtcbi8qKlxuICogU2VydmljZSB0byBvcGVuIE1hdGVyaWFsIERlc2lnbiBtb2RhbCBkaWFsb2dzLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dTZXJ2aWNlIGV4dGVuZHMgX05hdGl2ZURpYWxvZ0Jhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGluamVjdG9yLCBkZWZhdWx0T3B0aW9ucywgcGFyZW50RGlhbG9nLCBsb2NhdGlvbikge1xuICAgICAgICBzdXBlcihpbmplY3RvciwgZGVmYXVsdE9wdGlvbnMsIHBhcmVudERpYWxvZywgTmF0aXZlRGlhbG9nUmVmLCBOYXRpdmVNb2RhbFJlZiwgTkFUSVZFX0RJQUxPR19EQVRBLCBsb2NhdGlvbik7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVwczogW3sgdG9rZW46IGkwLkluamVjdG9yIH0sIHsgdG9rZW46IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5LCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTAuSW5qZWN0b3IgfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dDb25maWcsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OU11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dOyB9IH0pO1xuLyoqXG4gKiBBcHBsaWVzIGRlZmF1bHQgb3B0aW9ucyB0byB0aGUgZGlhbG9nIGNvbmZpZy5cbiAqIEBwYXJhbSBjb25maWcgQ29uZmlnIHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIGRlZmF1bHRPcHRpb25zIERlZmF1bHQgb3B0aW9ucyBwcm92aWRlZC5cbiAqIEByZXR1cm5zIFRoZSBuZXcgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIF9hcHBseUNvbmZpZ0RlZmF1bHRzKGNvbmZpZywgZGVmYXVsdE9wdGlvbnMpIHtcbiAgICByZXR1cm4geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4uY29uZmlnIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCdXR0b24gdGhhdCB3aWxsIGNsb3NlIHRoZSBjdXJyZW50IGRpYWxvZy5cbiAqL1xuY2xhc3MgTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoZSBkaWFsb2cgdGl0bGUgZGlyZWN0aXZlIGlzIGFsd2F5cyB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggYSBgTWF0RGlhbG9nUmVmYC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGxpZ2h0d2VpZ2h0LXRva2Vuc1xuICAgIGRpYWxvZ1JlZiwgX2VsZW1lbnRSZWYsIF9kaWFsb2cpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dSZWYgPSBkaWFsb2dSZWY7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5fZGlhbG9nID0gX2RpYWxvZztcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaWFsb2dSZWYpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgaW5jbHVkZWQgaW4gYSBkaWFsb2cgdmlhIFRlbXBsYXRlUmVmIChyYXRoZXIgdGhhbiBiZWluZ1xuICAgICAgICAgICAgLy8gaW4gYSBDb21wb25lbnQpLCB0aGUgRGlhbG9nUmVmIGlzbid0IGF2YWlsYWJsZSB2aWEgaW5qZWN0aW9uIGJlY2F1c2UgZW1iZWRkZWRcbiAgICAgICAgICAgIC8vIHZpZXdzIGNhbm5vdCBiZSBnaXZlbiBhIGN1c3RvbSBpbmplY3Rvci4gSW5zdGVhZCwgd2UgbG9vayB1cCB0aGUgRGlhbG9nUmVmIGJ5XG4gICAgICAgICAgICAvLyBJRC4gVGhpcyBtdXN0IG9jY3VyIGluIGBvbkluaXRgLCBhcyB0aGUgSUQgYmluZGluZyBmb3IgdGhlIGRpYWxvZyBjb250YWluZXIgd29uJ3RcbiAgICAgICAgICAgIC8vIGJlIHJlc29sdmVkIGF0IGNvbnN0cnVjdG9yIHRpbWUuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgdGhpcy5kaWFsb2dSZWYgPSBnZXRDbG9zZXN0RGlhbG9nKHRoaXMuX2VsZW1lbnRSZWYsIHRoaXMuX2RpYWxvZy5vcGVuRGlhbG9ncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBjb25zdCBwcm94aWVkQ2hhbmdlID0gY2hhbmdlc1snX21hdERpYWxvZ0Nsb3NlJ10gfHwgY2hhbmdlc1snX21hdERpYWxvZ0Nsb3NlUmVzdWx0J107XG4gICAgICAgIGlmIChwcm94aWVkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1Jlc3VsdCA9IHByb3hpZWRDaGFuZ2UuY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbkJ1dHRvbkNsaWNrKCkge1xuICAgICAgICAvLyBEZXRlcm1pbmF0ZSB0aGUgZm9jdXMgb3JpZ2luIHVzaW5nIHRoZSBjbGljayBldmVudCwgYmVjYXVzZSB1c2luZyB0aGUgRm9jdXNNb25pdG9yIHdpbGxcbiAgICAgICAgLy8gcmVzdWx0IGluIGluY29ycmVjdCBvcmlnaW5zLiBNb3N0IG9mIHRoZSB0aW1lLCBjbG9zZSBidXR0b25zIHdpbGwgYmUgYXV0byBmb2N1c2VkIGluIHRoZVxuICAgICAgICAvLyBkaWFsb2csIGFuZCB0aGVyZWZvcmUgY2xpY2tpbmcgdGhlIGJ1dHRvbiB3b24ndCByZXN1bHQgaW4gYSBmb2N1cyBjaGFuZ2UuIFRoaXMgbWVhbnMgdGhhdFxuICAgICAgICAvLyB0aGUgRm9jdXNNb25pdG9yIHdvbid0IGRldGVjdCBhbnkgb3JpZ2luIGNoYW5nZSwgYW5kIHdpbGwgYWx3YXlzIG91dHB1dCBgcHJvZ3JhbWAuXG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMuZGlhbG9nUmVzdWx0KTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZURpYWxvZ1JlZiwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIltuYXRpdmUtZGlhbG9nLWNsb3NlXSwgW25hdGl2ZURpYWxvZ0Nsb3NlXVwiLCBpbnB1dHM6IHsgZGlhbG9nUmVzdWx0OiBbXCJuYXRpdmUtZGlhbG9nLWNsb3NlXCIsIFwiZGlhbG9nUmVzdWx0XCJdLCBfbWF0RGlhbG9nQ2xvc2U6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCIsIFwiX21hdERpYWxvZ0Nsb3NlXCJdIH0sIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidGFwXCI6IFwiX29uQnV0dG9uQ2xpY2soKVwiIH0gfSwgZXhwb3J0QXM6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCJdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25hdGl2ZS1kaWFsb2ctY2xvc2VdLCBbbmF0aXZlRGlhbG9nQ2xvc2VdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICduYXRpdmVEaWFsb2dDbG9zZScsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOYXRpdmVEaWFsb2dSZWYsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgZGlhbG9nUmVzdWx0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmF0aXZlLWRpYWxvZy1jbG9zZSddXG4gICAgICAgICAgICB9XSwgX21hdERpYWxvZ0Nsb3NlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmF0aXZlRGlhbG9nQ2xvc2UnXVxuICAgICAgICAgICAgfV0sIF9vbkJ1dHRvbkNsaWNrOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3RhcCddXG4gICAgICAgICAgICB9XSB9IH0pO1xuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBNYXREaWFsb2dSZWYgdG8gYW4gZWxlbWVudCBieSBsb29raW5nIGF0IHRoZSBET00uXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IHJlbGF0aXZlIHRvIHdoaWNoIHRvIGxvb2sgZm9yIGEgZGlhbG9nLlxuICogQHBhcmFtIG9wZW5EaWFsb2dzIFJlZmVyZW5jZXMgdG8gdGhlIGN1cnJlbnRseS1vcGVuIGRpYWxvZ3MuXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3REaWFsb2coZWxlbWVudCwgb3BlbkRpYWxvZ3MpIHtcbiAgICBsZXQgdmlldyA9IGVsZW1lbnQubmF0aXZlRWxlbWVudC5wYXJlbnQ7XG4gICAgd2hpbGUgKHZpZXcgJiYgIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZpZXcsICdfX25nX21vZGFsX2lkX18nKSkge1xuICAgICAgICB2aWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiB2aWV3ID8gb3BlbkRpYWxvZ3MuZmluZCgoZGlhbG9nKSA9PiBkaWFsb2cuaWQgPT09IHZpZXdbJ19fbmdfbW9kYWxfaWRfXyddKSA6IG51bGw7XG59XG5cbmNsYXNzIE5hdGl2ZURpYWxvZ01vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sIGV4cG9ydHM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIHByb3ZpZGVyczogW05hdGl2ZURpYWxvZ1NlcnZpY2VdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05hdGl2ZURpYWxvZ1NlcnZpY2VdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vLyBBbGxvd3MgZ3JlYXRlciBmbGV4aWJpbGl0eSB3aXRoIGBmaWxlLXN5c3RlbWAgYW5kIEFuZ3VsYXJcbi8vIEFsc28gcHJvdmlkZXMgYSB3YXkgZm9yIGBmaWxlLXN5c3RlbWAgdG8gYmUgbW9ja2VkIGZvciB0ZXN0aW5nXG5jbGFzcyBOU0ZpbGVTeXN0ZW0ge1xuICAgIGN1cnJlbnRBcHAoKSB7XG4gICAgICAgIHJldHVybiBrbm93bkZvbGRlcnMuY3VycmVudEFwcCgpO1xuICAgIH1cbiAgICBmaWxlRnJvbVBhdGgocGF0aCkge1xuICAgICAgICByZXR1cm4gRmlsZS5mcm9tUGF0aChwYXRoKTtcbiAgICB9XG4gICAgZmlsZUV4aXN0cyhwYXRoKSB7XG4gICAgICAgIHJldHVybiBGaWxlLmV4aXN0cyhwYXRoKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIGNyZWF0ZXMgYSBEZXRhY2hlZExvYWRlciBlaXRoZXIgbGlua2VkIHRvIHRoZSBWaWV3Q29udGFpbmVyUmVmIG9yIHRoZSBBcHBsaWNhdGlvblJlZiBpZiBWaWV3Q29udGFpbmVyUmVmIGlzIG5vdCBkZWZpbmVkXG4gKiBAcGFyYW0gcmVzb2x2ZXIgY29tcG9uZW50IGZhY3RvcnkgcmVzb2x2ZXJcbiAqIEBwYXJhbSBpbmplY3RvciBkZWZhdWx0IGluamVjdG9yLCB1bnVzZWQgaWYgdmlld0NvbnRhaW5lclJlZiBpcyBzZXRcbiAqIEBwYXJhbSB2aWV3Q29udGFpbmVyUmVmIHdoZXJlIHRoZSB2aWV3IHNob3VsZCBsaXZlIGluIHRoZSBhbmd1bGFyIHRyZWVcbiAqIEByZXR1cm5zIHJlZmVyZW5jZSB0byB0aGUgRGV0YWNoZWRMb2FkZXJcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVEZXRhY2hlZExvYWRlcihyZXNvbHZlciwgaW5qZWN0b3IsIHZpZXdDb250YWluZXJSZWYpIHtcbiAgICBpbmplY3RvciA9IHZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IGluamVjdG9yO1xuICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICBjb25zdCBkZXRhY2hlZExvYWRlclJlZiA9IHZpZXdDb250YWluZXJSZWY/LmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnkpIHx8IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoaW5qZWN0b3IpO1xuICAgIGlmICghdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgcmV0dXJuIGRldGFjaGVkTG9hZGVyUmVmO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBOZ1ZpZXdSZWYgZnJvbSBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZS4gQHNlZSBOZ1ZpZXdSZWZcbiAqIFBhc3Mga2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCBhcyBgdHJ1ZWAgaWYgeW91IGRvbid0IHdhbnQgdGhlIGZpcnN0IG5hdGl2ZSB2aWV3IHRvIGJlIGRldGFjaGVkIGZyb20gaXRzIHBhcmVudC5cbiAqIEZvciBvcGVuaW5nIG1vZGFscyBhbmQgb3RoZXJzLCB0aGUgZmlyc3ROYXRpdmVMaWtlVmlldyBzaG91bGQgYmUgZGV0YWNoZWQuXG4gKiBAcGFyYW0gdHlwZU9yVGVtcGxhdGUgQ29tcG9uZW50VHlwZSBvciBUZW1wbGF0ZVJlZiB0aGF0IHNob3VsZCBiZSBpbnN0YW5jZWRcbiAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSB2aWV3XG4gKiBAcmV0dXJucyBOZ1ZpZXdSZWZcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3KHR5cGVPclRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgbGV0IGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5kZXRhY2hlZExvYWRlclJlZjtcbiAgICBjb25zdCByZXVzaW5nRGV0YWNoZWRMb2FkZXIgPSAhIWRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmIChyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmID0gZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmM7XG4gICAgfVxuICAgIGNvbnN0IGluamVjdG9yID0gb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmPy5pbmplY3RvciB8fCBvcHRpb25zLmluamVjdG9yO1xuICAgIGNvbnN0IHJlc29sdmVyID0gb3B0aW9ucy5yZXNvbHZlciB8fCBpbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKTtcbiAgICBpZiAoIWRldGFjaGVkTG9hZGVyUmVmICYmIChvcHRpb25zLnZpZXdDb250YWluZXJSZWYgfHwgdHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikpIHtcbiAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBnZW5lcmF0ZURldGFjaGVkTG9hZGVyKHJlc29sdmVyLCBpbmplY3Rvciwgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKTtcbiAgICB9XG4gICAgbGV0IHBvcnRhbDtcbiAgICBpZiAodHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikge1xuICAgICAgICBwb3J0YWwgPSBuZXcgVGVtcGxhdGVQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmPy5pbnN0YW5jZS52Yyk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICBjb25zdCBwb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHBhcmVudFZpZXcsIHJlc29sdmVyLCBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCBpbmplY3Rvcik7XG4gICAgY29uc3QgY29tcG9uZW50T3JUZW1wbGF0ZVJlZiA9IHBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICBjb21wb25lbnRPclRlbXBsYXRlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgIHBvcnRhbE91dGxldC5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgaWYgKGRldGFjaGVkTG9hZGVyUmVmICYmICFyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgY29tcG9uZW50T3JUZW1wbGF0ZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qgdmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50T3JUZW1wbGF0ZVJlZik7XG4gICAgdmlld1JlZi5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmICghb3B0aW9ucy5rZWVwTmF0aXZlVmlld0F0dGFjaGVkKSB7XG4gICAgICAgIHZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdSZWY7XG59XG5cbmNsYXNzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IChhcmcpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcbiAgICB9XG4gICAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMudmlldy5pc0VuYWJsZWQgPSAhaXNEaXNhYmxlZDtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZShfKSB7XG4gICAgICAgIC8vXG4gICAgfVxuICAgIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JsYW5rKHZhbHVlKSA/IHVuc2V0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG59XG5cbmNvbnN0IFRFWFRfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVGV4dFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciB3cml0aW5nIGEgdGV4dCBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFRleHRGaWVsZCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgVGV4dFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSA/IGAke3ZhbHVlfWAgOiB2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy50ZXh0ID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiVGV4dEZpZWxkW25nTW9kZWxdLFRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLFRleHRGaWVsZFtmb3JtQ29udHJvbF0sdGV4dEZpZWxkW25nTW9kZWxdLHRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRGaWVsZFtmb3JtQ29udHJvbF0sdGV4dGZpZWxkW25nTW9kZWxdLHRleHRmaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRmaWVsZFtmb3JtQ29udHJvbF0sdGV4dC1maWVsZFtuZ01vZGVsXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dC1maWVsZFtmb3JtQ29udHJvbF0sVGV4dFZpZXdbbmdNb2RlbF0sVGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUZXh0Vmlld1tmb3JtQ29udHJvbF0sdGV4dFZpZXdbbmdNb2RlbF0sdGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0Vmlld1tmb3JtQ29udHJvbF0sdGV4dHZpZXdbbmdNb2RlbF0sdGV4dHZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0dmlld1tmb3JtQ29udHJvbF0sdGV4dC12aWV3W25nTW9kZWxdLHRleHQtdmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHQtdmlld1tmb3JtQ29udHJvbF0sU2VhcmNoQmFyW25nTW9kZWxdLFNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLFNlYXJjaEJhcltmb3JtQ29udHJvbF0sc2VhcmNoQmFyW25nTW9kZWxdLHNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaEJhcltmb3JtQ29udHJvbF0sc2VhcmNoYmFyW25nTW9kZWxdLHNlYXJjaGJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaGJhcltmb3JtQ29udHJvbF0sc2VhcmNoLWJhcltuZ01vZGVsXSwgc2VhcmNoLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiYmx1clwiOiBcIm9uVG91Y2hlZCgpXCIsIFwidGV4dENoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW1RFWFRfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUZXh0RmllbGRbbmdNb2RlbF0sVGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sVGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0RmllbGRbbmdNb2RlbF0sdGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0ZmllbGRbbmdNb2RlbF0sdGV4dGZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dGZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkW25nTW9kZWxdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUZXh0Vmlld1tuZ01vZGVsXSxUZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLFRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0Vmlld1tuZ01vZGVsXSx0ZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0dmlld1tuZ01vZGVsXSx0ZXh0dmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHR2aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LXZpZXdbbmdNb2RlbF0sdGV4dC12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dC12aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWFyY2hCYXJbbmdNb2RlbF0sU2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hCYXJbbmdNb2RlbF0sc2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hiYXJbbmdNb2RlbF0sc2VhcmNoYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2gtYmFyW25nTW9kZWxdLCBzZWFyY2gtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoLWJhcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtURVhUX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoYmx1ciknOiAnb25Ub3VjaGVkKCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyh0ZXh0Q2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNvbnN0IENIRUNLRURfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hlY2tlZFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgY2hlY2tlZCBwcm9wZXJ0eSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFN3aXRjaCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgQ2hlY2tlZFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy5jaGVja2VkID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU3dpdGNoW25nTW9kZWxdLFN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLFN3aXRjaFtmb3JtQ29udHJvbF0sc3dpdGNoW25nTW9kZWxdLHN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLHN3aXRjaFtmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJjaGVja2VkQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1N3aXRjaFtuZ01vZGVsXSxTd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxTd2l0Y2hbZm9ybUNvbnRyb2xdLCcgKyAnc3dpdGNoW25nTW9kZWxdLHN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLHN3aXRjaFtmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoY2hlY2tlZENoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBEQVRFX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIGRhdGUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxEYXRlUGlja2VyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBEYXRlVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LmRhdGUgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJEYXRlUGlja2VyW25nTW9kZWxdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSxkYXRlUGlja2VyW25nTW9kZWxdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlLXBpY2tlcltuZ01vZGVsXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImRhdGVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRGF0ZVBpY2tlcltuZ01vZGVsXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGVQaWNrZXJbbmdNb2RlbF0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZS1waWNrZXJbbmdNb2RlbF0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoZGF0ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBUSU1FX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHRpbWUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxUaW1lUGlja2VyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBUaW1lVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnRpbWUgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJUaW1lUGlja2VyW25nTW9kZWxdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sXSx0aW1lcGlja2VyW25nTW9kZWxdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sXSx0aW1lUGlja2VyW25nTW9kZWxdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sXSx0aW1lLXBpY2tlcltuZ01vZGVsXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInRpbWVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtUSU1FX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnVGltZVBpY2tlcltuZ01vZGVsXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sVGltZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lcGlja2VyW25nTW9kZWxdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWVQaWNrZXJbbmdNb2RlbF0sdGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZS1waWNrZXJbbmdNb2RlbF0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtUSU1FX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcodGltZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBOVU1CRVJfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTnVtYmVyVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSB2YWx1ZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9XG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFNsaWRlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgTnVtYmVyVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnZhbHVlID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlNsaWRlcltuZ01vZGVsXSxTbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxTbGlkZXJbZm9ybUNvbnRyb2xdLHNsaWRlcltuZ01vZGVsXSxzbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxzbGlkZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidmFsdWVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtOVU1CRVJfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1NsaWRlcltuZ01vZGVsXSxTbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxTbGlkZXJbZm9ybUNvbnRyb2xdLCcgKyAnc2xpZGVyW25nTW9kZWxdLHNsaWRlcltmb3JtQ29udHJvbE5hbWVdLHNsaWRlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOVU1CRVJfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyh2YWx1ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dOyB9IH0pO1xuXG5jb25zdCBTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBzZWxlY3RlZEluZGV4IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U2VnbWVudGVkQmFyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm1heC1saW5lLWxlbmd0aCBkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSBub3JtYWxpemVkO1xuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudmlld0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTZWdtZW50ZWRCYXJbbmdNb2RlbF0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRCYXJbbmdNb2RlbF0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRiYXJbbmdNb2RlbF0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWQtYmFyW25nTW9kZWxdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sXSxMaXN0UGlja2VyW25nTW9kZWxdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0UGlja2VyW25nTW9kZWxdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0cGlja2VyW25nTW9kZWxdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sXSxsaXN0LXBpY2tlcltuZ01vZGVsXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sXSxUYWJWaWV3W25nTW9kZWxdLFRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUYWJWaWV3W2Zvcm1Db250cm9sXSx0YWJWaWV3W25nTW9kZWxdLHRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJWaWV3W2Zvcm1Db250cm9sXSx0YWJ2aWV3W25nTW9kZWxdLHRhYnZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJ2aWV3W2Zvcm1Db250cm9sXSx0YWItdmlld1tuZ01vZGVsXSx0YWItdmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYi12aWV3W2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInNlbGVjdGVkSW5kZXhDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1NlZ21lbnRlZEJhcltuZ01vZGVsXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZEJhcltuZ01vZGVsXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZGJhcltuZ01vZGVsXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZC1iYXJbbmdNb2RlbF0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0xpc3RQaWNrZXJbbmdNb2RlbF0sTGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3RQaWNrZXJbbmdNb2RlbF0sbGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3RwaWNrZXJbbmdNb2RlbF0sbGlzdHBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3QtcGlja2VyW25nTW9kZWxdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RhYlZpZXdbbmdNb2RlbF0sVGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLFRhYlZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYlZpZXdbbmdNb2RlbF0sdGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYlZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYnZpZXdbbmdNb2RlbF0sdGFidmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYnZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYi12aWV3W25nTW9kZWxdLHRhYi12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiLXZpZXdbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhzZWxlY3RlZEluZGV4Q2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV07IH0gfSk7XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLCBpbXBvcnRzOiBbRm9ybXNNb2R1bGVdLCBleHBvcnRzOiBbRm9ybXNNb2R1bGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgaW1wb3J0czogW0Zvcm1zTW9kdWxlLCBGb3Jtc01vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0Zvcm1zTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0Zvcm1zTW9kdWxlLCBUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jb25zdCBEQVNIX0NBU0VfUkVHRVhQID0gLy0rKFthLXowLTldKS9nO1xuZnVuY3Rpb24gZGFzaENhc2VUb0NhbWVsQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKERBU0hfQ0FTRV9SRUdFWFAsICguLi5tKSA9PiBtWzFdLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24oc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgIGNvbnN0IGluZm8gPSBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8oc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgcmV0dXJuIEtleWZyYW1lQW5pbWF0aW9uLmtleWZyYW1lQW5pbWF0aW9uRnJvbUluZm8oaW5mbyk7XG59XG5jb25zdCBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8gPSAoc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykgPT4gKHtcbiAgICBpc0ZvcndhcmRzOiB0cnVlLFxuICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCAwLjAxLFxuICAgIGRlbGF5LFxuICAgIGN1cnZlOiBnZXRDdXJ2ZShlYXNpbmcpLFxuICAgIGtleWZyYW1lczogc3R5bGVzLm1hcChwYXJzZUFuaW1hdGlvbktleWZyYW1lKSxcbn0pO1xuY29uc3QgZ2V0Q3VydmUgPSAodmFsdWUpID0+IGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyKHZhbHVlKTtcbmNvbnN0IHBhcnNlQW5pbWF0aW9uS2V5ZnJhbWUgPSAoc3R5bGVzKSA9PiAoe1xuICAgIGR1cmF0aW9uOiBnZXRLZXlmcmFtZUR1cmF0aW9uKHN0eWxlcyksXG4gICAgZGVjbGFyYXRpb25zOiBnZXREZWNsYXJhdGlvbnMoc3R5bGVzKSxcbn0pO1xuY29uc3QgZ2V0S2V5ZnJhbWVEdXJhdGlvbiA9IChzdHlsZXMpID0+IHN0eWxlcy5vZmZzZXQ7XG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbnMoc3R5bGVzKSB7XG4gICAgY29uc3Qga2V5cyA9IEFycmF5LmZyb20oc3R5bGVzLmtleXMoKSk7XG4gICAgY29uc3QgdW5wYXJzZWREZWNsYXJhdGlvbnMgPSBrZXlzLm1hcCgocHJvcGVydHkpID0+ICh7IHByb3BlcnR5LCB2YWx1ZTogc3R5bGVzLmdldChwcm9wZXJ0eSkgfSkpO1xuICAgIHJldHVybiBwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zKHVucGFyc2VkRGVjbGFyYXRpb25zKTtcbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnBhcmVudFBsYXllciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdEtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBnZXQgdG90YWxUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxheSArIHRoaXMuZHVyYXRpb247XG4gICAgfVxuICAgIGluaXQoKSB7IH1cbiAgICBoYXNTdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRlZDtcbiAgICB9XG4gICAgb25TdGFydChmbikge1xuICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIG9uRG9uZShmbikge1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgb25EZXN0cm95KGZuKSB7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5wbGF5YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGlzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9OYXRpdmVTY3JpcHQvTmF0aXZlU2NyaXB0L2lzc3Vlcy83OTg0IGlzIGZpeGVzIGluIEBuYXRpdmVzY3JpcHQvY29yZVxuICAgICAgICAvLyB3ZSBjYW4gY2hhbmdlIHRoaXMgZml4IGFuZCBhcHBseSB0aGUgb25lIHRoYXQgaXMgcmVjb21tZW5kZWQgaW4gdGhhdCBpc3N1ZS5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm9uKFZpZXcubG9hZGVkRXZlbnQsIHRoaXMub25UYXJnZXRMb2FkZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25UYXJnZXRMb2FkZWQoYXJncykge1xuICAgICAgICB0aGlzLnRhcmdldC5vZmYoVmlldy5sb2FkZWRFdmVudCwgdGhpcy5vblRhcmdldExvYWRlZCk7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBwbGF5QW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvblxuICAgICAgICAgICAgLnBsYXkodGhpcy50YXJnZXQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLm9uRmluaXNoKCkpXG4gICAgICAgICAgICAuY2F0Y2goKF9lKSA9PiB7IH0pO1xuICAgIH1cbiAgICBwYXVzZSgpIHsgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucmVzZXRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb24gJiYgdGhpcy5hbmltYXRpb24uaXNQbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5yZXN0YXJ0YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIuZGVzdHJveWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24oX3ApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltYXRpb25QbGF5ZXIuc2V0UG9zaXRpb24gbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaW5pdEtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIuaW5pdEtleWZyYW1lQW5pbWF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgb25GaW5pc2goKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLm9uRmluaXNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB9XG59XG5cbmNsYXNzIFNlbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyYXdTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnBhcnNlKHJhd1NlbGVjdG9yKTtcbiAgICB9XG4gICAgbWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uc1NlbGVjdG9yTWF0Y2goZWxlbWVudCkgfHwgdGhpcy5jbGFzc1NlbGVjdG9yc01hdGNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICBwYXJzZShyYXdTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSByYXdTZWxlY3Rvci5zcGxpdCgnLCcpLm1hcCgocykgPT4gcy50cmltKCkpO1xuICAgICAgICB0aGlzLm5zU2VsZWN0b3JzID0gc2VsZWN0b3JzLm1hcChDU1NIZWxwZXIuY3JlYXRlU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3JzID0gc2VsZWN0b3JzLmZpbHRlcigocykgPT4gcy5zdGFydHNXaXRoKCcuJykpLm1hcCgocykgPT4gcy5zdWJzdHJpbmcoMSkpO1xuICAgIH1cbiAgICBuc1NlbGVjdG9yTWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uc1NlbGVjdG9ycy5zb21lKChzKSA9PiBzLm1hdGNoKGVsZW1lbnQpKTtcbiAgICB9XG4gICAgY2xhc3NTZWxlY3RvcnNNYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYXNzU2VsZWN0b3JzLnNvbWUoKHMpID0+IHRoaXMuaGFzQ2xhc3MoZWxlbWVudCwgcykpO1xuICAgIH1cbiAgICAvLyB3ZSdyZSB1c2luZyB0aGF0IGluc3RlYWQgb2YgbWF0Y2ggZm9yIGNsYXNzZXNcbiAgICAvLyB0aGF0IGFyZSBkeW5hbWljYWxseSBhZGRlZCBieSB0aGUgYW5pbWF0aW9uIGVuZ2luZVxuICAgIC8vIHN1Y2ggYXMgLm5nLXRyaWdnZXIsIHRoYXQncyBhZGRlZCBmb3IgZXZlcnkgOmVudGVyIHZpZXdcbiAgICBoYXNDbGFzcyhlbGVtZW50LCBjbHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudFsnJCRjbGFzc2VzJ10gJiYgZWxlbWVudFsnJCRjbGFzc2VzJ11bY2xzXTtcbiAgICB9XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIge1xuICAgIHN0YXRpYyB7IHRoaXMudmFsaWRQcm9wZXJ0aWVzID0gWy4uLkNzc0FuaW1hdGlvblByb3BlcnR5Ll9nZXRQcm9wZXJ0eU5hbWVzKCksICd0cmFuc2Zvcm0nXTsgfVxuICAgIGdldFBhcmVudEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudD8ucGFyZW50O1xuICAgIH1cbiAgICB2YWxpZGF0ZVN0eWxlUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgQ3NzQW5pbWF0aW9uUHJvcGVydHkudmFsaWRhdGVTdHlsZVByb3BlcnR5OiAke3Byb3BlcnR5fWApO1xuICAgICAgICByZXR1cm4gTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnZhbGlkUHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTE7XG4gICAgfVxuICAgIG1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5tYXRjaGVzRWxlbWVudCBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIHNlbGVjdG9yOiAke3Jhd1NlbGVjdG9yfWApO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMubWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLm1hdGNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICBjb250YWluc0VsZW1lbnQoZWxtMSwgZWxtMikge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29udGFpbnNFbGVtZW50IGAgKyBgZWxlbWVudDE6ICR7ZWxtMX0sIGVsZW1lbnQyOiAke2VsbTJ9YCk7XG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBwYXJlbnQgaXMgb3VyIGZha2UgYm9keSBvYmplY3RcbiAgICAgICAgaWYgKGVsbTFbJ2lzT3ZlcnJpZGUnXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBvcmlnaW5hbFZpZXc6IGVsbTIgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52aXNpdERlc2NlbmRhbnRzKGVsbTEsIHZpZXdNYXRjaGVzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmZvdW5kO1xuICAgIH1cbiAgICBxdWVyeShlbGVtZW50LCByYXdTZWxlY3RvciwgbXVsdGkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnF1ZXJ5IGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgc2VsZWN0b3I6ICR7cmF3U2VsZWN0b3J9IGAgKyBgbXVsdGk6ICR7bXVsdGl9YCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5tYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IHNlbGVjdG9yLCBtdWx0aSB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZpc2l0RGVzY2VuZGFudHMoZWxlbWVudCwgcXVlcnlEZXNjZW5kYW50cywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXRjaGVzIHx8IFtdO1xuICAgIH1cbiAgICBjb21wdXRlU3R5bGUoZWxlbWVudCwgcHJvcCkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29tcHV0ZVN0eWxlIGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgcHJvcDogJHtwcm9wfWApO1xuICAgICAgICBjb25zdCBjYW1lbENhc2VQcm9wID0gZGFzaENhc2VUb0NhbWVsQ2FzZShwcm9wKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbY2FtZWxDYXNlUHJvcF07XG4gICAgfVxuICAgIGFuaW1hdGUoZWxlbWVudCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuYW5pbWF0ZSBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIGtleWZyYW1lczogJHtrZXlmcmFtZXN9IGAgKyBgZHVyYXRpb246ICR7ZHVyYXRpb259LCBkZWxheTogJHtkZWxheX0gYCArIGBlYXNpbmc6ICR7ZWFzaW5nfWApO1xuICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllcihlbGVtZW50LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgbWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgIH1cbiAgICB2aXNpdERlc2NlbmRhbnRzKGVsZW1lbnQsIGNiLCBjYlBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgLy8gZmlsbCB0aGUgcmVzdWx0IG9iaiB3aXRoIHRoZSByZXN1bHQgZnJvbSB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgZWFjaERlc2NlbmRhbnQoZWxlbWVudCwgKGNoaWxkKSA9PiBjYihjaGlsZCwgcmVzdWx0LCBjYlBhcmFtcykpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZpZXdNYXRjaGVzKGVsZW1lbnQsIHJlc3VsdCwgcGFyYW1zKSB7XG4gICAgaWYgKGVsZW1lbnQgPT09IHBhcmFtcy5vcmlnaW5hbFZpZXcpIHtcbiAgICAgICAgcmVzdWx0LmZvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICFyZXN1bHQuZm91bmQ7XG59XG5mdW5jdGlvbiBxdWVyeURlc2NlbmRhbnRzKGVsZW1lbnQsIHJlc3VsdCwgcGFyYW1zKSB7XG4gICAgaWYgKCFyZXN1bHQubWF0Y2hlcykge1xuICAgICAgICByZXN1bHQubWF0Y2hlcyA9IFtdO1xuICAgIH1cbiAgICBjb25zdCB7IHNlbGVjdG9yLCBtdWx0aSB9ID0gcGFyYW1zO1xuICAgIC8vIHNraXAgY29tbWVudCBhbmQgdGV4dCBub2Rlc1xuICAgIC8vIGJlY2F1c2UgdGhleSBhcmUgbm90IGFjdHVhbCBWaWV3c1xuICAgIC8vIGFuZCBjYW5ub3QgYmUgYW5pbWF0ZWRcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUgfHwgIXNlbGVjdG9yLm1hdGNoKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFByb3h5Vmlld0NvbnRhaW5lcikge1xuICAgICAgICBlbGVtZW50LmVhY2hDaGlsZCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXRjaGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0Lm1hdGNoZXMucHVzaChlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG11bHRpO1xufVxuXG5jbGFzcyBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIGV4dGVuZHMgybVBbmltYXRpb25FbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKGRvYywgZHJpdmVyLCBub3JtYWxpemVyKSB7XG4gICAgICAgIHN1cGVyKGRvYy5ib2R5LCBkcml2ZXIsIG5vcm1hbGl6ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIGRlcHM6IFt7IHRva2VuOiBET0NVTUVOVCB9LCB7IHRva2VuOiBpMSQyLkFuaW1hdGlvbkRyaXZlciB9LCB7IHRva2VuOiBpMSQyLsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RPQ1VNRU5UXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTEkMi5BbmltYXRpb25Ecml2ZXIgfSwgeyB0eXBlOiBpMSQyLsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH1dOyB9IH0pO1xuZnVuY3Rpb24gaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIoKTtcbn1cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5KHJlbmRlcmVyLCBlbmdpbmUsIHpvbmUpIHtcbiAgICByZXR1cm4gbmV3IMm1QW5pbWF0aW9uUmVuZGVyZXJGYWN0b3J5KHJlbmRlcmVyLCBlbmdpbmUsIHpvbmUpO1xufVxuZnVuY3Rpb24gaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyKCkge1xuICAgIHJldHVybiBuZXcgybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyKCk7XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgLy8gUHJldmVudHMgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSBmcm9tIGdldHRpbmcgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgdGhyb3dJZkFscmVhZHlMb2FkZWQocGFyZW50TW9kdWxlLCAnTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZScpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IEFuaW1hdGlvbkJ1aWxkZXIsIHVzZUNsYXNzOiDJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgcHJvdmlkZTogybVBbmltYXRpb25FbmdpbmUsIHVzZUNsYXNzOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZTogUmVuZGVyZXJGYWN0b3J5MixcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCDJtUFuaW1hdGlvbkVuZ2luZSwgTmdab25lXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sIGltcG9ydHM6IFtOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFuaW1hdGlvbkJ1aWxkZXIsIHVzZUNsYXNzOiDJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogybVBbmltYXRpb25FbmdpbmUsIHVzZUNsYXNzOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUmVuZGVyZXJGYWN0b3J5MixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCDJtUFuaW1hdGlvbkVuZ2luZSwgTmdab25lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU2tpcFNlbGZcbiAgICAgICAgICAgICAgICB9XSB9XTsgfSB9KTtcblxuZnVuY3Rpb24gaXNMb2NhbFJlcXVlc3QodXJsKSB7XG4gICAgcmV0dXJuIHVybC5pbmRleE9mKCd+JykgPT09IDAgfHwgdXJsLmluZGV4T2YoJy8nKSA9PT0gMDtcbn1cbmZ1bmN0aW9uIGdldEFic29sdXRlUGF0aCh1cmwsIG5zRmlsZVN5c3RlbSkge1xuICAgIHVybCA9IHVybC5yZXBsYWNlKCd+JywgJycpLnJlcGxhY2UoJy8nLCAnJyk7XG4gICAgdXJsID0gcGF0aC5qb2luKG5zRmlsZVN5c3RlbS5jdXJyZW50QXBwKCkucGF0aCwgdXJsKTtcbiAgICByZXR1cm4gdXJsO1xufVxuZnVuY3Rpb24gcHJvY2Vzc0xvY2FsRmlsZVJlcXVlc3QodXJsLCBuc0ZpbGVTeXN0ZW0sIHN1Y2Nlc3NSZXNwb25zZSwgZXJyb3JSZXNwb25zZSkge1xuICAgIHVybCA9IGdldEFic29sdXRlUGF0aCh1cmwsIG5zRmlsZVN5c3RlbSk7XG4gICAgLy8gcmVxdWVzdCBmcm9tIGxvY2FsIGFwcCByZXNvdXJjZXNcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUkMSgob2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgaWYgKG5zRmlsZVN5c3RlbS5maWxlRXhpc3RzKHVybCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvY2FsRmlsZSA9IG5zRmlsZVN5c3RlbS5maWxlRnJvbVBhdGgodXJsKTtcbiAgICAgICAgICAgIGxvY2FsRmlsZS5yZWFkVGV4dCgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChzdWNjZXNzUmVzcG9uc2UodXJsLCBqc29uLCAyMDApKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIHRoZSByZXNwb25zZSBzdGF0dXMgd2FzIDJ4eCwgdGhpcyBpcyBzdGlsbCBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHBhcnNlIGVycm9yIGNvbnRhaW5zIHRoZSB0ZXh0IG9mIHRoZSBib2R5IHRoYXQgZmFpbGVkIHRvIHBhcnNlLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclJlc3VsdCA9IHsgZXJyb3IsIHRleHQ6IGRhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsIGVycm9yUmVzdWx0LCAyMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3JSZXNwb25zZSh1cmwsIGVyciwgNDAwKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCAnTm90IEZvdW5kJywgNDA0KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY2xhc3MgTnNIdHRwQmFja0VuZCBleHRlbmRzIEh0dHBYaHJCYWNrZW5kIHtcbiAgICBjb25zdHJ1Y3Rvcih4aHJGYWN0b3J5LCBuc0ZpbGVTeXN0ZW0pIHtcbiAgICAgICAgc3VwZXIoeGhyRmFjdG9yeSk7XG4gICAgICAgIHRoaXMubnNGaWxlU3lzdGVtID0gbnNGaWxlU3lzdGVtO1xuICAgIH1cbiAgICBoYW5kbGUocmVxKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGlmIChpc0xvY2FsUmVxdWVzdChyZXEudXJsKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5oYW5kbGVMb2NhbEZpbGVSZXF1ZXN0KHJlcS51cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3VwZXIuaGFuZGxlKHJlcSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaGFuZGxlTG9jYWxGaWxlUmVxdWVzdCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0KHVybCwgdGhpcy5uc0ZpbGVTeXN0ZW0sIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSwgY3JlYXRlRXJyb3JSZXNwb25zZSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnNIdHRwQmFja0VuZCwgZGVwczogW3sgdG9rZW46IGkxJDEuWGhyRmFjdG9yeSB9LCB7IHRva2VuOiBOU0ZpbGVTeXN0ZW0gfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDEuWGhyRmFjdG9yeSB9LCB7IHR5cGU6IE5TRmlsZVN5c3RlbSB9XTsgfSB9KTtcbmZ1bmN0aW9uIGNyZWF0ZVN1Y2Nlc3NSZXNwb25zZSh1cmwsIGJvZHksIHN0YXR1cykge1xuICAgIHJldHVybiBuZXcgSHR0cFJlc3BvbnNlKHtcbiAgICAgICAgdXJsLFxuICAgICAgICBib2R5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvclJlc3BvbnNlKHVybCwgYm9keSwgc3RhdHVzKSB7XG4gICAgcmV0dXJuIG5ldyBIdHRwRXJyb3JSZXNwb25zZSh7XG4gICAgICAgIHVybCxcbiAgICAgICAgZXJyb3I6IGJvZHksXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogJ0VSUk9SJyxcbiAgICB9KTtcbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSwgZXhwb3J0czogW0h0dHBDbGllbnRNb2R1bGVdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgcHJvdmlkZXJzOiBbTlNGaWxlU3lzdGVtLCBOc0h0dHBCYWNrRW5kLCB7IHByb3ZpZGU6IEh0dHBCYWNrZW5kLCB1c2VFeGlzdGluZzogTnNIdHRwQmFja0VuZCB9XSwgaW1wb3J0czogW0h0dHBDbGllbnRNb2R1bGUsIEh0dHBDbGllbnRNb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTlNGaWxlU3lzdGVtLCBOc0h0dHBCYWNrRW5kLCB7IHByb3ZpZGU6IEh0dHBCYWNrZW5kLCB1c2VFeGlzdGluZzogTnNIdHRwQmFja0VuZCB9XSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogVGhlcmUgYXJlIGNhc2VzIHdoZXJlIG11bHRpcGxlIGFjdGl2YXRlZFJvdXRlIG5vZGVzIHNob3VsZCBiZSBhc3NvY2lhdGVkL2hhbmRsZWQgYnkgdGhlIHNhbWUgUGFnZVJvdXRlck91dGxldC5cbiAqIFdlIGNhbiBnYXQgYWRkaXRpb25hbCBBY3RpdmF0ZWRSb3V0ZXMgbm9kZXMgd2hlbiB0aGVyZSBpczpcbiAqICAtIExhenkgbG9hZGluZyAtIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGUgbm9kZSBmb3IgdGhlIFJvdXRlQ29uZmlnIHdpdGggdGhlIGBsb2FkQ2hpbGRyZW5gIHNldHVwXG4gKiAgLSBDb21wb25lbnRsZXNzIHJvdXRlcyAtIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGUgbm9kZSBmb3IgdGhlIGNvbXBvbmVudGxlc3MgUm91dGVDb25maWdcbiAqXG4gKiBFeGFtcGxlOlxuICogICBSICA8LS0gcm9vdFxuICogICB8XG4gKiBmZWF0dXJlIChsYXp5IG1vZHVsZSkgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibGF6eVwiLCBsb2FkQ2hpbGRyZW46IFwiLi9mZWF0dXJlL2ZlYXR1cmUubW9kdWxlI0ZlYXR1cmVNb2R1bGVcIiB9XG4gKiAgIHxcbiAqIG1vZHVsZSAoY29tcG9uZW50bGVzcyByb3V0ZSkgPC0tIFJvdXRlQ29uZmlnOiB7IHBhdGg6IFwibW9kdWxlXCIsIGNoaWxkcmVuOiBbLi4uXSB9IC8vIE5vdGU6IE5vICdjb21wb25lbnQnXG4gKiAgIHxcbiAqICBob21lIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcIm1vZHVsZVwiLCBjb21wb25lbnQ6IE15Q29tcG9uZW50IH0gLSB0aGlzIGlzIHdoYXQgd2UgZ2V0IGFzIGFjdGl2YXRlZFJvdXRlIHBhcmFtXG4gKlxuICogIEluIHRoZXNlIGNhc2VzIHdlIHdpbGwgbWFyayB0aGUgdG9wLW1vc3Qgbm9kZSAoZmVhdHVyZSkuIE5TUm91dGVSZXVzZVN0cmF0ZWd5IHdpbGwgZGV0YWNoIHRoZSB0cmVlIHRoZXJlIGFuZFxuICogIHVzZSB0aGlzIEFjdGl2YXRlUm91dGUgYXMgYSBrYXkgZm9yIGNhY2hpbmcuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoYWN0aXZhdGVkUm91dGUpIHtcbiAgICAvLyBUT0RPOiB0ZXN0IHRoaXMgYW5kIGZpZ3VyZSBpdCBvdXQgaWYgaXQncyByZWFsbHkgbm8gbG9uZ2VyIG5lZWRlZFxuICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAvLyBsZXQgb3V0bGV0QWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAvLyB3aGlsZSAob3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50ICYmIG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudC5yb3V0ZUNvbmZpZyAmJiAhb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50LnJvdXRlQ29uZmlnLmNvbXBvbmVudCkge1xuICAgIC8vICAgb3V0bGV0QWN0aXZhdGVkUm91dGUgPSBvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQ7XG4gICAgLy8gfVxuICAgIC8vIHJldHVybiBvdXRsZXRBY3RpdmF0ZWRSb3V0ZTtcbn1cbmNvbnN0IHBhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2wgPSBTeW1ib2woJ3BhZ2Utcm91dGVyLWFjdGl2YXRlZCcpO1xuY29uc3QgbG9hZGVyUmVmU3ltYm9sID0gU3ltYm9sKCdsb2FkZXItcmVmJyk7XG5mdW5jdGlvbiBkZXN0cm95Q29tcG9uZW50UmVmKGNvbXBvbmVudFJlZikge1xuICAgIGlmIChjb21wb25lbnRSZWYpIHtcbiAgICAgICAgY29uc3QgbG9hZGVyUmVmID0gY29tcG9uZW50UmVmW2xvYWRlclJlZlN5bWJvbF07XG4gICAgICAgIGlmIChsb2FkZXJSZWYpIHtcbiAgICAgICAgICAgIGxvYWRlclJlZi5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbmNvbnN0IGdldFNuYXBzaG90S2V5ID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG4gICAgcmV0dXJuIHNuYXBzaG90LnBhdGhGcm9tUm9vdC5qb2luKCctPicpO1xufTtcbi8qKlxuICogRGV0YWNoZWQgc3RhdGUgY2FjaGVcbiAqL1xuY2xhc3MgRGV0YWNoZWRTdGF0ZUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IG5ldyBBcnJheSgpO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGg7XG4gICAgfVxuICAgIHB1c2goY2FjaGVJdGVtKSB7XG4gICAgICAgIHRoaXMuY2FjaGUucHVzaChjYWNoZUl0ZW0pO1xuICAgIH1cbiAgICBwb3AoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLnBvcCgpO1xuICAgIH1cbiAgICBwZWVrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVt0aGlzLmNhY2hlLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYERldGFjaGVkU3RhdGVDYWNoZS5jbGVhcigpICR7dGhpcy5jYWNoZS5sZW5ndGh9IGl0ZW1zIHdpbGwgYmUgZGVzdHJveWVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuY2FjaGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmNhY2hlLnBvcCgpLnN0YXRlO1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFya0N1cnJlbnRGb3JDbGVhcigpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuY2FjaGUpIHtcbiAgICAgICAgICAgIGl0ZW0ubWFya2VkRm9yRGVsZXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTWFya2VkKCkge1xuICAgICAgICAvLyB0cnkgdG8gcHJlc2VydmUgc2FtZSBvcmRlciBhcyAuY2xlYXIoKVxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jYWNoZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVJdGVtID0gdGhpcy5jYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChjYWNoZUl0ZW0ubWFya2VkRm9yRGVsZXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNhY2hlSXRlbS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1vZGFsQ2FjaGUoKSB7XG4gICAgICAgIGxldCByZW1vdmVkSXRlbXNDb3VudCA9IDA7XG4gICAgICAgIGNvbnN0IGhhc01vZGFsUGFnZXMgPSB0aGlzLmNhY2hlLnNvbWUoKGNhY2hlSXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlSXRlbS5pc01vZGFsO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGhhc01vZGFsUGFnZXMpIHtcbiAgICAgICAgICAgIGxldCBtb2RhbENhY2hlQ2xlYXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKCFtb2RhbENhY2hlQ2xlYXJlZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMucGVlaygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGVJdGVtLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gY29tcG9uZW50UmVmIGZvdW5kIGluIERldGFjaGVkUm91dGVIYW5kbGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZUl0ZW0uaXNNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbENhY2hlQ2xlYXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEl0ZW1zQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgRGV0YWNoZWRTdGF0ZUNhY2hlLmNsZWFyTW9kYWxDYWNoZSgpICR7cmVtb3ZlZEl0ZW1zQ291bnR9IGl0ZW1zIHdpbGwgYmUgZGVzdHJveWVkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIERldGFjaGVzIHN1YnRyZWVzIGxvYWRlZCBpbnNpZGUgUGFnZVJvdXRlck91dGxldCBpbiBmb3J3YXJkIG5hdmlnYXRpb25cbiAqIGFuZCByZWF0dGFjaGVzIHRoZW0gb24gYmFjay5cbiAqIFJldXNlcyByb3V0ZXMgYXMgbG9uZyBhcyB0aGVpciByb3V0ZSBjb25maWcgaXMgdGhlIHNhbWUuXG4gKi9cbmNsYXNzIE5TUm91dGVSZXVzZVN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhdGlvbikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMuY2FjaGVCeU91dGxldCA9IHt9O1xuICAgIH1cbiAgICBzaG91bGREZXRhY2gocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBsZXQgaXNQYWdlQWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0bXAgPSByb3V0ZTtcbiAgICAgICAgd2hpbGUgKCEoaXNQYWdlQWN0aXZhdGVkID0gdG1wW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdKSAmJiB0bXAucGFyZW50KSB7XG4gICAgICAgICAgICB0bXAgPSB0bXAucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBsZXQgc2hvdWxkRGV0YWNoID0gb3V0bGV0ICYmICFpc0JhY2sgJiYgaXNQYWdlQWN0aXZhdGVkO1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAob3V0bGV0LnBhcmVudCAmJiAhb3V0bGV0LnBhcmVudC5zaG91bGREZXRhY2gpIHtcbiAgICAgICAgICAgICAgICBzaG91bGREZXRhY2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dGxldC5zaG91bGREZXRhY2ggPSBzaG91bGREZXRhY2g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHNob3VsZERldGFjaCBpc0JhY2s6ICR7aXNCYWNrfSBrZXk6ICR7a2V5fSByZXN1bHQ6ICR7c2hvdWxkRGV0YWNofWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGREZXRhY2g7XG4gICAgfVxuICAgIGZpbmRWYWxpZE91dGxldEFuZEtleSh0YXJnZXRSb3V0ZSkge1xuICAgICAgICBsZXQgcm91dGUgPSB0YXJnZXRSb3V0ZTtcbiAgICAgICAgY29uc3Qgcm91dGVPdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICBsZXQgb3V0bGV0S2V5ID0gcm91dGVPdXRsZXRLZXk7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmxvY2F0aW9uLmZpbmRPdXRsZXQob3V0bGV0S2V5LCByb3V0ZSk7XG4gICAgICAgIHdoaWxlICghb3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAoIXJvdXRlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG91dGxldDogbnVsbCwgb3V0bGV0S2V5OiByb3V0ZU91dGxldEtleSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91dGUgPSByb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uLmdldFJvdXRlRnVsbFBhdGgocm91dGUpO1xuICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5sb2NhdGlvbi5maW5kT3V0bGV0KG91dGxldEtleSwgcm91dGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgIHdoaWxlICghb3V0bGV0Lm91dGxldEtleXMuaW5jbHVkZXMob3V0bGV0S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghcm91dGUucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgQ291bGQgbm90IGZpbmQgdmFsaWQgb3V0bGV0IGtleSBmb3Igcm91dGU6ICR7dGFyZ2V0Um91dGV9LmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBvdXRsZXQsIG91dGxldEtleTogcm91dGVPdXRsZXRLZXkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm91dGUgPSByb3V0ZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBvdXRsZXQsIG91dGxldEtleSB9O1xuICAgIH1cbiAgICBzaG91bGRBdHRhY2gocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQsIG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBpc0JhY2sgPSBvdXRsZXQgPyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgOiBmYWxzZTtcbiAgICAgICAgY29uc3Qgc2hvdWxkQXR0YWNoID0gaXNCYWNrICYmIGNhY2hlLnBlZWsoKT8ua2V5ID09PSBrZXk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGRBdHRhY2ggaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gcmVzdWx0OiAke3Nob3VsZEF0dGFjaH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICBvdXRsZXQuc2hvdWxkRGV0YWNoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkQXR0YWNoO1xuICAgIH1cbiAgICBzdG9yZShyb3V0ZSwgc3RhdGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0U25hcHNob3RLZXkocm91dGUpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc3RvcmUga2V5OiAke2tleX0sIHN0YXRlOiAke3N0YXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0S2V5IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgY29uc3QgY2FjaGUgPSAodGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV0gPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XSB8fCBuZXcgRGV0YWNoZWRTdGF0ZUNhY2hlKCkpO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBpc01vZGFsID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NhdGlvbi5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaXNNb2RhbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZS5wdXNoKHsga2V5LCBzdGF0ZSwgaXNNb2RhbCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRvcEl0ZW0gPSBjYWNoZS5wZWVrKCk7XG4gICAgICAgICAgICBpZiAodG9wSXRlbS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgIGNhY2hlLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gcG9wIGZyb20gRGV0YWNoZWRTdGF0ZUNhY2hlIGJ1dCBrZXlzIGRvbid0IG1hdGNoLiBcIiArIGBleHBlY3RlZDogJHt0b3BJdGVtLmtleX0gYWN0dWFsOiAke2tleX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXRyaWV2ZShyb3V0ZSkge1xuICAgICAgICByb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQocm91dGUpO1xuICAgICAgICBjb25zdCB7IG91dGxldCwgb3V0bGV0S2V5IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IGNhY2hlZEl0ZW0gPSBjYWNoZS5wZWVrKCk7XG4gICAgICAgIGxldCBzdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChpc0JhY2sgJiYgY2FjaGVkSXRlbSAmJiBjYWNoZWRJdGVtLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGNhY2hlZEl0ZW0uc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHJldHJpZXZlZCBpc0JhY2s6ICR7aXNCYWNrfSBrZXk6ICR7a2V5fSBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHNob3VsZFJldXNlUm91dGUoZnV0dXJlLCBjdXJyKSB7XG4gICAgICAgIGNvbnN0IHNob3VsZFJldXNlID0gZnV0dXJlLnJvdXRlQ29uZmlnID09PSBjdXJyLnJvdXRlQ29uZmlnO1xuICAgICAgICBpZiAoc2hvdWxkUmV1c2UgJiYgY3VyciAmJiBjdXJyW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHJldXNpbmcgcm91dGUgLSBjb3B5IHRoZSBwYWdlUm91dGVyQWN0aXZhdGVkIHRvIHRoZSBuZXcgc25hcHNob3RcbiAgICAgICAgICAgIC8vIEl0J3MgbmVlZGVkIGluIHNob3VsZERldGFjaCB0byBkZXRlcm1pbmUgaWYgdGhlIHJvdXRlIHNob3VsZCBiZSBkZXRhY2hlZC5cbiAgICAgICAgICAgIGZ1dHVyZVtwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSA9IGN1cnJbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHNob3VsZFJldXNlUm91dGUgcmVzdWx0OiAke3Nob3VsZFJldXNlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGRSZXVzZTtcbiAgICB9XG4gICAgY2xlYXJDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDYWNoZUZvckNsZWFyKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLm1hcmtDdXJyZW50Rm9yQ2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwb3BDYWNoZShvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGUucGVlaygpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjYWNoZS5wb3AoKT8uc3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlPy5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZT8uY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFya0NhY2hlRm9yUG9wKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBjYWNoZS5wZWVrKCk7XG4gICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIGl0ZW0ubWFya2VkRm9yRGVsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyTWFya2VkQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUuY2xlYXJNYXJrZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1vZGFsQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUuY2xlYXJNb2RhbENhY2hlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSwgZGVwczogW3sgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV07IH0gfSk7XG5cbmNsYXNzIFJvdXRlckV4dGVuc2lvbnMge1xuICAgIGNvbnN0cnVjdG9yKHJvdXRlciwgbG9jYXRpb25TdHJhdGVneSwgZnJhbWVTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZSA9IGZyYW1lU2VydmljZTtcbiAgICB9XG4gICAgbmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGUoY29tbWFuZHMsIGV4dHJhcyk7XG4gICAgfVxuICAgIG5hdmlnYXRlQnlVcmwodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdXRlci5uYXZpZ2F0ZUJ5VXJsKHVybCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGJhY2soYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgIGlmIChiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja091dGxldHMoYmFja05hdmlnYXRpb25PcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuR29CYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICBsZXQgY2FuR29CYWNrID0gdHJ1ZTtcbiAgICAgICAgaWYgKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgeyBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzIH0gPSB0aGlzLmZpbmRPdXRsZXRzVG9CYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAob3V0bGV0c1RvQmFjay5sZW5ndGggIT09IG91dGxldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ05vIG91dGxldCBmb3VuZCByZWxhdGl2ZSB0byBhY3RpdmF0ZWQgcm91dGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dGxldHNUb0JhY2suZm9yRWFjaCgob3V0bGV0VG9CYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNhbkdvQmFjayhvdXRsZXRUb0JhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Hb0JhY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FuR29CYWNrID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNhbkdvQmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW5Hb0JhY2s7XG4gICAgfVxuICAgIGJhY2tUb1ByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKS5nb0JhY2soKTtcbiAgICB9XG4gICAgY2FuR29CYWNrVG9QcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYW1lU2VydmljZS5nZXRGcmFtZSgpLmNhbkdvQmFjaygpO1xuICAgIH1cbiAgICBiYWNrT3V0bGV0cyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0c1RvQmFjaywgb3V0bGV0cyB9ID0gdGhpcy5maW5kT3V0bGV0c1RvQmFjayhvcHRpb25zKTtcbiAgICAgICAgaWYgKG91dGxldHNUb0JhY2subGVuZ3RoICE9PSBvdXRsZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ05vIG91dGxldCBmb3VuZCByZWxhdGl2ZSB0byBhY3RpdmF0ZWQgcm91dGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dGxldHNUb0JhY2suZm9yRWFjaCgob3V0bGV0VG9CYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG91dGxldFRvQmFjay5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQXR0ZW1wdGVkIHRvIGNhbGwgc3RhcnRHb0JhY2sgd2hpbGUgZ29pbmcgYmFjazonKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG91dGxldFRvQmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxuICAgIGZpbmRPdXRsZXRzVG9CYWNrKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgcm9vdFJvdXRlID0gdGhpcy5yb3V0ZXIucm91dGVyU3RhdGUucm9vdDtcbiAgICAgICAgbGV0IG91dGxldHMgPSBvcHRpb25zLm91dGxldHM7XG4gICAgICAgIGxldCByZWxhdGl2ZVJvdXRlID0gb3B0aW9ucy5yZWxhdGl2ZVRvIHx8IHJvb3RSb3V0ZTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVSb3V0ZU91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5Um91dGUocmVsYXRpdmVSb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzTlNFbXB0eU91dGxldCA9IHJlbGF0aXZlUm91dGVPdXRsZXQgJiYgcmVsYXRpdmVSb3V0ZU91dGxldC5pc05TRW1wdHlPdXRsZXQ7XG4gICAgICAgIC8vIExhenkgbmFtZWQgb3V0bGV0IGhhcyBhZGRlZCAncHJpbWFyeScgaW5uZXIgTlNFbXB0eU91dGxldCBjaGlsZC5cbiAgICAgICAgLy8gVGFrZSBwYXJlbnQgcm91dGUgd2hlbiBgcmVsYXRpdmVUb2Agb3B0aW9uIHBvaW50cyB0byB0aGUgb3V0ZXIgbmFtZWQgb3V0bGV0LlxuICAgICAgICBpZiAoaXNOU0VtcHR5T3V0bGV0ICYmIHJlbGF0aXZlUm91dGUub3V0bGV0ICE9PSAncHJpbWFyeScpIHtcbiAgICAgICAgICAgIHJlbGF0aXZlUm91dGUgPSByZWxhdGl2ZVJvdXRlLnBhcmVudCB8fCByZWxhdGl2ZVJvdXRlO1xuICAgICAgICB9XG4gICAgICAgIG91dGxldHMgPSBvdXRsZXRzIHx8IFtyZWxhdGl2ZVJvdXRlLm91dGxldF07XG4gICAgICAgIGNvbnN0IG91dGxldHNUb0JhY2sgPSB0aGlzLmZpbmRPdXRsZXRzUmVjdXJzaXZlKFsuLi5vdXRsZXRzXSwgcmVsYXRpdmVSb3V0ZSk7XG4gICAgICAgIHJldHVybiB7IG91dGxldHNUb0JhY2s6IG91dGxldHNUb0JhY2ssIG91dGxldHM6IG91dGxldHMgfTtcbiAgICB9XG4gICAgLy8gd2FybmluZywgb3V0bGV0cyBpcyBtdXRhYmxlIVxuICAgIGZpbmRPdXRsZXRzUmVjdXJzaXZlKG91dGxldHMsIHJvdXRlKSB7XG4gICAgICAgIGlmICghcm91dGUgfHwgb3V0bGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRsZXRzVG9CYWNrID0gW107XG4gICAgICAgIGlmIChvdXRsZXRzLnNvbWUoKGN1cnJlbnRPdXRsZXQpID0+IGN1cnJlbnRPdXRsZXQgPT09IHJvdXRlLm91dGxldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5Um91dGUocm91dGUpO1xuICAgICAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgICAgIG91dGxldHMuc3BsaWNlKG91dGxldHMuaW5kZXhPZihyb3V0ZS5vdXRsZXQpLCAxKTtcbiAgICAgICAgICAgICAgICBvdXRsZXRzVG9CYWNrLnB1c2gob3V0bGV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0bGV0c1RvQmFjaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcm91dGUuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBpZiAob3V0bGV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHJvdXRlLmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgIG91dGxldHNUb0JhY2sucHVzaCguLi50aGlzLmZpbmRPdXRsZXRzUmVjdXJzaXZlKG91dGxldHMsIGN1cnJlbnRSb3V0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRsZXRzVG9CYWNrO1xuICAgIH1cbiAgICBmaW5kT3V0bGV0QnlSb3V0ZShjdXJyZW50Um91dGUpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFJvdXRlU25hcHNob3AgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGN1cnJlbnRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKGN1cnJlbnRSb3V0ZVNuYXBzaG9wKTtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5LCBjdXJyZW50Um91dGVTbmFwc2hvcCk7XG4gICAgICAgIHJldHVybiBvdXRsZXQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUm91dGVyRXh0ZW5zaW9ucywgZGVwczogW3sgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHRva2VuOiBGcmFtZVNlcnZpY2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIHByb3ZpZGVkSW46ICdyb290JyB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0eXBlOiBGcmFtZVNlcnZpY2UgfV07IH0gfSk7XG5cbi8qKlxuICogVGhlIG5zUm91dGVyTGluayBkaXJlY3RpdmUgbGV0cyB5b3UgbGluayB0byBzcGVjaWZpYyBwYXJ0cyBvZiB5b3VyIGFwcC5cbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIHJvdXRlIGNvbmZpZ3VyYXRpb246XG4gKiBgYGBcbiAqIFt7IHBhdGg6IFwiL3VzZXJcIiwgY29tcG9uZW50OiBVc2VyQ21wIH1dXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGxpbmtpbmcgdG8gdGhpcyBgVXNlcmAgcm91dGUsIHlvdSBjYW4gd3JpdGU6XG4gKlxuICogYGBgXG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIltcIi91c2VyXCJdXCI+bGluayB0byB1c2VyIGNvbXBvbmVudDwvYT5cbiAqIGBgYFxuICpcbiAqIE5TUm91dGVyTGluayBleHBlY3RzIHRoZSB2YWx1ZSB0byBiZSBhbiBhcnJheSBvZiBwYXRoIHNlZ21lbnRzLCBmb2xsb3dlZCBieSB0aGUgcGFyYW1zXG4gKiBmb3IgdGhhdCBsZXZlbCBvZiByb3V0aW5nLiBGb3IgaW5zdGFuY2UgYFtcIi90ZWFtXCIsIHt0ZWFtSWQ6IDF9LCBcInVzZXJcIiwge3VzZXJJZDogMn1dYFxuICogbWVhbnMgdGhhdCB3ZSB3YW50IHRvIGdlbmVyYXRlIGEgbGluayB0byBgL3RlYW07dGVhbUlkPTEvdXNlcjt1c2VySWQ9MmAuXG4gKlxuICogVGhlIGZpcnN0IHNlZ21lbnQgbmFtZSBjYW4gYmUgcHJlcGVuZGVkIHdpdGggYC9gLCBgLi9gLCBvciBgLi4vYC5cbiAqIElmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAvYCwgdGhlIHJvdXRlciB3aWxsIGxvb2sgdXAgdGhlIHJvdXRlIGZyb20gdGhlIHJvb3Qgb2YgdGhlIGFwcC5cbiAqIElmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAuL2AsIG9yIGRvZXNuXCJ0IGJlZ2luIHdpdGggYSBzbGFzaCwgdGhlIHJvdXRlciB3aWxsXG4gKiBpbnN0ZWFkIGxvb2sgaW4gdGhlIGN1cnJlbnQgY29tcG9uZW50XCJzIGNoaWxkcmVuIGZvciB0aGUgcm91dGUuXG4gKiBBbmQgaWYgdGhlIHNlZ21lbnQgYmVnaW5zIHdpdGggYC4uL2AsIHRoZSByb3V0ZXIgd2lsbCBnbyB1cCBvbmUgbGV2ZWwuXG4gKi9cbmNsYXNzIE5TUm91dGVyTGluayB7XG4gICAgY29uc3RydWN0b3Iobmdab25lLCByb3V0ZXIsIG5hdmlnYXRvciwgcm91dGUsIGVsKSB7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IgPSBuYXZpZ2F0b3I7XG4gICAgICAgIHRoaXMucm91dGUgPSByb3V0ZTtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLnBhZ2VUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5vbigndGFwJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFwKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNldCBwYXJhbXMoZGF0YSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzID0gW2RhdGFdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVGFwKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgbnNSb3V0ZXJMaW5rLnRhcHBlZDogJHt0aGlzLmNvbW1hbmRzfSBgICsgYGNsZWFyOiAke3RoaXMuY2xlYXJIaXN0b3J5fSBgICsgYHRyYW5zaXRpb246ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5wYWdlVHJhbnNpdGlvbil9IGAgKyBgZHVyYXRpb246ICR7dGhpcy5wYWdlVHJhbnNpdGlvbkR1cmF0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dHJhcyA9IHRoaXMuZ2V0RXh0cmFzKCk7XG4gICAgICAgIC8vIHRoaXMubmF2aWdhdG9yLm5hdmlnYXRlQnlVcmwodGhpcy51cmxUcmVlLCBleHRyYXMpO1xuICAgICAgICB0aGlzLm5hdmlnYXRvci5uYXZpZ2F0ZSh0aGlzLmNvbW1hbmRzLCB7XG4gICAgICAgICAgICAuLi5leHRyYXMsXG4gICAgICAgICAgICByZWxhdGl2ZVRvOiB0aGlzLnJvdXRlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHRoaXMucXVlcnlQYXJhbXMsXG4gICAgICAgICAgICBmcmFnbWVudDogdGhpcy5mcmFnbWVudCxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IHRoaXMucXVlcnlQYXJhbXNIYW5kbGluZyxcbiAgICAgICAgICAgIHByZXNlcnZlRnJhZ21lbnQ6IGF0dHJCb29sVmFsdWUodGhpcy5wcmVzZXJ2ZUZyYWdtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEV4dHJhcygpIHtcbiAgICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHRoaXMuZ2V0VHJhbnNpdGlvbigpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2tpcExvY2F0aW9uQ2hhbmdlOiBhdHRyQm9vbFZhbHVlKHRoaXMuc2tpcExvY2F0aW9uQ2hhbmdlKSxcbiAgICAgICAgICAgIHJlcGxhY2VVcmw6IGF0dHJCb29sVmFsdWUodGhpcy5yZXBsYWNlVXJsKSxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogdGhpcy5jb252ZXJ0Q2xlYXJIaXN0b3J5KHRoaXMuY2xlYXJIaXN0b3J5KSxcbiAgICAgICAgICAgIGFuaW1hdGVkOiB0cmFuc2l0aW9uLmFuaW1hdGVkLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbi50cmFuc2l0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgdXJsVHJlZSgpIHtcbiAgICAgICAgY29uc3QgdXJsVHJlZSA9IHRoaXMucm91dGVyLmNyZWF0ZVVybFRyZWUodGhpcy5jb21tYW5kcywge1xuICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IHRoaXMuZnJhZ21lbnQsXG4gICAgICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXG4gICAgICAgICAgICBwcmVzZXJ2ZUZyYWdtZW50OiBhdHRyQm9vbFZhbHVlKHRoaXMucHJlc2VydmVGcmFnbWVudCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgbnNSb3V0ZXJMaW5rIHVybFRyZWUgY3JlYXRlZDogJHt1cmxUcmVlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmxUcmVlO1xuICAgIH1cbiAgICBjb252ZXJ0Q2xlYXJIaXN0b3J5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICBnZXRUcmFuc2l0aW9uKCkge1xuICAgICAgICBsZXQgdHJhbnNpdGlvbjtcbiAgICAgICAgbGV0IGFuaW1hdGVkO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgYW5pbWF0ZWQgPSB0aGlzLnBhZ2VUcmFuc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFnZVRyYW5zaXRpb24gPT09ICdub25lJyB8fCB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnBhZ2VUcmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbmltYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uID0gdGhpcy5wYWdlVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9ICt0aGlzLnBhZ2VUcmFuc2l0aW9uRHVyYXRpb247XG4gICAgICAgIGlmICghaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uID0gdHJhbnNpdGlvbiB8fCB7fTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBhbmltYXRlZCwgdHJhbnNpdGlvbiB9O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGluaywgZGVwczogW3sgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBSb3V0ZXJFeHRlbnNpb25zIH0sIHsgdG9rZW46IGkxJDMuQWN0aXZhdGVkUm91dGUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IE5TUm91dGVyTGluaywgc2VsZWN0b3I6IFwiW25zUm91dGVyTGlua11cIiwgaW5wdXRzOiB7IHRhcmdldDogXCJ0YXJnZXRcIiwgcXVlcnlQYXJhbXM6IFwicXVlcnlQYXJhbXNcIiwgZnJhZ21lbnQ6IFwiZnJhZ21lbnRcIiwgcXVlcnlQYXJhbXNIYW5kbGluZzogXCJxdWVyeVBhcmFtc0hhbmRsaW5nXCIsIHByZXNlcnZlUXVlcnlQYXJhbXM6IFwicHJlc2VydmVRdWVyeVBhcmFtc1wiLCBwcmVzZXJ2ZUZyYWdtZW50OiBcInByZXNlcnZlRnJhZ21lbnRcIiwgc2tpcExvY2F0aW9uQ2hhbmdlOiBcInNraXBMb2NhdGlvbkNoYW5nZVwiLCByZXBsYWNlVXJsOiBcInJlcGxhY2VVcmxcIiwgY2xlYXJIaXN0b3J5OiBcImNsZWFySGlzdG9yeVwiLCBwYWdlVHJhbnNpdGlvbjogXCJwYWdlVHJhbnNpdGlvblwiLCBwYWdlVHJhbnNpdGlvbkR1cmF0aW9uOiBcInBhZ2VUcmFuc2l0aW9uRHVyYXRpb25cIiwgcGFyYW1zOiBbXCJuc1JvdXRlckxpbmtcIiwgXCJwYXJhbXNcIl0gfSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdbbnNSb3V0ZXJMaW5rXScgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMC5OZ1pvbmUgfSwgeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IFJvdXRlckV4dGVuc2lvbnMgfSwgeyB0eXBlOiBpMSQzLkFjdGl2YXRlZFJvdXRlIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgdGFyZ2V0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcXVlcnlQYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBmcmFnbWVudDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcHJlc2VydmVGcmFnbWVudDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHNraXBMb2NhdGlvbkNoYW5nZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHJlcGxhY2VVcmw6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBjbGVhckhpc3Rvcnk6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwYWdlVHJhbnNpdGlvbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHBhZ2VUcmFuc2l0aW9uRHVyYXRpb246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyduc1JvdXRlckxpbmsnXVxuICAgICAgICAgICAgfV0gfSB9KTtcbmZ1bmN0aW9uIGF0dHJCb29sVmFsdWUocykge1xuICAgIHJldHVybiBzID09PSAnJyB8fCAhIXM7XG59XG5cbi8qIHRzbGludDpkaXNhYmxlOmZvcmluICovXG5mdW5jdGlvbiBjb250YWluc1RyZWUoY29udGFpbmVyLCBjb250YWluZWUsIGV4YWN0KSB7XG4gICAgaWYgKGV4YWN0KSB7XG4gICAgICAgIHJldHVybiBlcXVhbFNlZ21lbnRHcm91cHMoY29udGFpbmVyLnJvb3QsIGNvbnRhaW5lZS5yb290KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250YWluc1NlZ21lbnRHcm91cChjb250YWluZXIucm9vdCwgY29udGFpbmVlLnJvb3QpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVxdWFsU2VnbWVudEdyb3Vwcyhjb250YWluZXIsIGNvbnRhaW5lZSkge1xuICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY29udGFpbmVlLnNlZ21lbnRzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIubnVtYmVyT2ZDaGlsZHJlbiAhPT0gY29udGFpbmVlLm51bWJlck9mQ2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGMgaW4gY29udGFpbmVlLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyLmNoaWxkcmVuW2NdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlcXVhbFNlZ21lbnRHcm91cHMoY29udGFpbmVyLmNoaWxkcmVuW2NdLCBjb250YWluZWUuY2hpbGRyZW5bY10pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBjb250YWluc1NlZ21lbnRHcm91cChjb250YWluZXIsIGNvbnRhaW5lZSkge1xuICAgIHJldHVybiBjb250YWluc1NlZ21lbnRHcm91cEhlbHBlcihjb250YWluZXIsIGNvbnRhaW5lZSwgY29udGFpbmVlLnNlZ21lbnRzKTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyKGNvbnRhaW5lciwgY29udGFpbmVlLCBjb250YWluZWVQYXRocykge1xuICAgIGlmIChjb250YWluZXIuc2VnbWVudHMubGVuZ3RoID4gY29udGFpbmVlUGF0aHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjb250YWluZXIuc2VnbWVudHMuc2xpY2UoMCwgY29udGFpbmVlUGF0aHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKCFlcXVhbFBhdGgoY3VycmVudCwgY29udGFpbmVlUGF0aHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRhaW5lZS5oYXNDaGlsZHJlbigpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGggPT09IGNvbnRhaW5lZVBhdGhzLmxlbmd0aCkge1xuICAgICAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGNvbnRhaW5lZVBhdGhzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgYyBpbiBjb250YWluZWUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmICghY29udGFpbmVyLmNoaWxkcmVuW2NdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb250YWluc1NlZ21lbnRHcm91cChjb250YWluZXIuY2hpbGRyZW5bY10sIGNvbnRhaW5lZS5jaGlsZHJlbltjXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY29udGFpbmVlUGF0aHMuc2xpY2UoMCwgY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IG5leHQgPSBjb250YWluZWVQYXRocy5zbGljZShjb250YWluZXIuc2VnbWVudHMubGVuZ3RoKTtcbiAgICAgICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjdXJyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGFpbmVyLmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250YWluc1NlZ21lbnRHcm91cEhlbHBlcihjb250YWluZXIuY2hpbGRyZW5bUFJJTUFSWV9PVVRMRVRdLCBjb250YWluZWUsIG5leHQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVxdWFsUGF0aChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYVtpXS5wYXRoICE9PSBiW2ldLnBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBUaGUgTlNSb3V0ZXJMaW5rQWN0aXZlIGRpcmVjdGl2ZSBsZXRzIHlvdSBhZGQgYSBDU1MgY2xhc3MgdG8gYW4gZWxlbWVudCB3aGVuIHRoZSBsaW5rXCJzIHJvdXRlXG4gKiBiZWNvbWVzIGFjdGl2ZS5cbiAqXG4gKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiYWN0aXZlLWxpbmtcIj5Cb2I8L2E+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSB1cmwgaXMgZWl0aGVyIFwiL3VzZXJcIiBvciBcIi91c2VyL2JvYlwiLCB0aGUgYWN0aXZlLWxpbmsgY2xhc3Mgd2lsbFxuICogYmUgYWRkZWQgdG8gdGhlIGNvbXBvbmVudC4gSWYgdGhlIHVybCBjaGFuZ2VzLCB0aGUgY2xhc3Mgd2lsbCBiZSByZW1vdmVkLlxuICpcbiAqIFlvdSBjYW4gc2V0IG1vcmUgdGhhbiBvbmUgY2xhc3MsIGFzIGZvbGxvd3M6XG4gKlxuICogYGBgXG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiY2xhc3MxIGNsYXNzMlwiPkJvYjwvYT5cbiAqIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCIgW25zUm91dGVyTGlua0FjdGl2ZV09XCJbXCJjbGFzczFcIiwgXCJjbGFzczJcIl1cIj5Cb2I8L2E+XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGNvbmZpZ3VyZSBOU1JvdXRlckxpbmtBY3RpdmUgYnkgcGFzc2luZyBgZXhhY3Q6IHRydWVgLiBUaGlzIHdpbGwgYWRkIHRoZVxuICogY2xhc3NlcyBvbmx5IHdoZW4gdGhlIHVybCBtYXRjaGVzIHRoZSBsaW5rIGV4YWN0bHkuXG4gKlxuICogYGBgXG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiYWN0aXZlLWxpbmtcIlxuICogW25zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnNdPVwie2V4YWN0OiB0cnVlfVwiPkJvYjwvYT5cbiAqIGBgYFxuICpcbiAqIEZpbmFsbHksIHlvdSBjYW4gYXBwbHkgdGhlIE5TUm91dGVyTGlua0FjdGl2ZSBkaXJlY3RpdmUgdG8gYW4gYW5jZXN0b3Igb2YgYSBSb3V0ZXJMaW5rLlxuICpcbiAqIGBgYFxuICogPGRpdiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCIgW25zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnNdPVwie2V4YWN0OiB0cnVlfVwiPlxuICogICA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2ppbVwiPkppbTwvYT5cbiAqICAgPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIj5Cb2I8L2E+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoaXMgd2lsbCBzZXQgdGhlIGFjdGl2ZS1saW5rIGNsYXNzIG9uIHRoZSBkaXYgdGFnIGlmIHRoZSB1cmwgaXMgZWl0aGVyIFwiL3VzZXIvamltXCIgb3JcbiAqIFwiL3VzZXIvYm9iXCIuXG4gKlxuICogQHN0YWJsZVxuICovXG5jbGFzcyBOU1JvdXRlckxpbmtBY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKHJvdXRlciwgZWxlbWVudCwgcmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jbGFzc2VzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucyA9IHsgZXhhY3Q6IGZhbHNlIH07XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gcm91dGVyLmV2ZW50cy5zdWJzY3JpYmUoKHMpID0+IHtcbiAgICAgICAgICAgIGlmIChzIGluc3RhbmNlb2YgTmF2aWdhdGlvbkVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgICB9XG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICB0aGlzLmxpbmtzLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMudXBkYXRlKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBzZXQgbnNSb3V0ZXJMaW5rQWN0aXZlKGRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NlcyA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSBkYXRhLnNwbGl0KCcgJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5saW5rcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc0FjdGl2ZUxpbmtzID0gdGhpcy5oYXNBY3RpdmVMaW5rcygpO1xuICAgICAgICAvLyByZWFjdCBvbmx5IHdoZW4gc3RhdHVzIGhhcyBjaGFuZ2VkIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgZG9tIHVwZGF0ZXNcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlICE9PSBoYXNBY3RpdmVMaW5rcykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFVybFRyZWUgPSB0aGlzLnJvdXRlci5wYXJzZVVybCh0aGlzLnJvdXRlci51cmwpO1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmVMaW5rcyA9IHRoaXMucmVkdWNlTGlzdChjdXJyZW50VXJsVHJlZSwgdGhpcy5saW5rcyk7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZUxpbmtzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVDbGFzcyh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGhhc0FjdGl2ZUxpbmtzKS50aGVuKChhY3RpdmUpID0+ICh0aGlzLmFjdGl2ZSA9IGFjdGl2ZSkpO1xuICAgIH1cbiAgICByZWR1Y2VMaXN0KGN1cnJlbnRVcmxUcmVlLCBxKSB7XG4gICAgICAgIHJldHVybiBxLnJlZHVjZSgocmVzLCBsaW5rKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzIHx8IGNvbnRhaW5zVHJlZShjdXJyZW50VXJsVHJlZSwgbGluay51cmxUcmVlLCB0aGlzLm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMuZXhhY3QpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICAgIGlzTGlua0FjdGl2ZShyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIChsaW5rKSA9PiByb3V0ZXIuaXNBY3RpdmUobGluay51cmxUcmVlLCB0aGlzLm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMuZXhhY3QpO1xuICAgIH1cbiAgICBoYXNBY3RpdmVMaW5rcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlua3Muc29tZSh0aGlzLmlzTGlua0FjdGl2ZSh0aGlzLnJvdXRlcikpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgdHlwZTogTlNSb3V0ZXJMaW5rQWN0aXZlLCBzZWxlY3RvcjogXCJbbnNSb3V0ZXJMaW5rQWN0aXZlXVwiLCBpbnB1dHM6IHsgbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uczogXCJuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXCIsIG5zUm91dGVyTGlua0FjdGl2ZTogXCJuc1JvdXRlckxpbmtBY3RpdmVcIiB9LCBxdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwibGlua3NcIiwgcHJlZGljYXRlOiBOU1JvdXRlckxpbmsgfV0sIGV4cG9ydEFzOiBbXCJyb3V0ZXJMaW5rQWN0aXZlXCJdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuc1JvdXRlckxpbmtBY3RpdmVdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICdyb3V0ZXJMaW5rQWN0aXZlJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IGkwLlJlbmRlcmVyMiB9XTsgfSwgcHJvcERlY29yYXRvcnM6IHsgbGlua3M6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogQ29udGVudENoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtOU1JvdXRlckxpbmtdXG4gICAgICAgICAgICB9XSwgbnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG5zUm91dGVyTGlua0FjdGl2ZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgUGFnZVJvdXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydFJvdXRlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkUm91dGUgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHN0YXJ0Um91dGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKGl0ZW0pIHtcbiAgICByZXR1cm4gISFpdGVtLnJlc29sdmVDb21wb25lbnRGYWN0b3J5O1xufVxuZnVuY3Rpb24gY2FsbGFibGVPbmNlKGZuKSB7XG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgIH07XG59XG5jbGFzcyBEZXN0cnVjdGlibGVJbmplY3RvciB7XG4gICAgY29uc3RydWN0b3IoZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5kZXN0cnVjdGlibGVQcm92aWRlcnMgPSBkZXN0cnVjdGlibGVQcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnJlZnMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgY29uc3QgcmVmID0gdGhpcy5wYXJlbnQuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgICAgIC8vIGlmIHdlJ3JlIHNraXBwaW5nIG91cnNlbHZlcyB0aGVuIGl0J3Mgbm90IG91ciByZXNwb25zaWJpbGl0eSB0byBkZXN0cm95XG4gICAgICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoIShmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSAmJiB0aGlzLmRlc3RydWN0aWJsZVByb3ZpZGVycy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZzLmFkZChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFmbGFncz8uc2tpcFNlbGYgJiYgdGhpcy5kZXN0cnVjdGlibGVQcm92aWRlcnMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5hZGQocmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnJlZnMuZm9yRWFjaCgocmVmKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVmLm5nT25EZXN0cm95IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZWYubmdPbkRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVmcy5jbGVhcigpO1xuICAgIH1cbn1cbmNvbnN0IHJvdXRlVG9TdHJpbmcgPSBmdW5jdGlvbiAoYWN0aXZhdGVkUm91dGUpIHtcbiAgICByZXR1cm4gYWN0aXZhdGVkUm91dGUucGF0aEZyb21Sb290LmpvaW4oJy0+Jyk7XG59O1xucmVnaXN0ZXJFbGVtZW50KCdwYWdlLXJvdXRlci1vdXRsZXQnLCAoKSA9PiBGcmFtZSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2RpcmVjdGl2ZS1zZWxlY3RvclxuY2xhc3MgUGFnZVJvdXRlck91dGxldCB7XG4gICAgLyoqIEBkZXByZWNhdGVkIGZyb20gQW5ndWxhciBzaW5jZSB2NCAqL1xuICAgIGdldCBsb2NhdGlvbkluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhdGlvbi5pbmplY3RvcjtcbiAgICB9XG4gICAgLyoqIEBkZXByZWNhdGVkIGZyb20gQW5ndWxhciBzaW5jZSB2NCAqL1xuICAgIGdldCBsb2NhdGlvbkZhY3RvcnlSZXNvbHZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzb2x2ZXI7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2YXRlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hY3RpdmF0ZWQ7XG4gICAgfVxuICAgIGdldCBjb21wb25lbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2U7XG4gICAgfVxuICAgIGdldCBhY3RpdmF0ZWRSb3V0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2YXRlZCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdPdXRsZXQgaXMgbm90IGFjdGl2YXRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RpdmF0ZWRSb3V0ZTtcbiAgICB9XG4gICAgZ2V0IGFjdGl2YXRlZFJvdXRlRGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGUuc25hcHNob3QuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhcmVudENvbnRleHRzLCBsb2NhdGlvbiwgbmFtZSwgYWN0aW9uQmFyVmlzaWJpbGl0eSwgaXNFbXB0eU91dGxldCwgbG9jYXRpb25TdHJhdGVneSwgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCByZXNvbHZlciwgY2hhbmdlRGV0ZWN0b3IsIHBhZ2VGYWN0b3J5LCByb3V0ZVJldXNlU3RyYXRlZ3ksIG5nWm9uZSwgcm91dGVyLCBlbFJlZiwgdmlld1V0aWwsIGVudmlyb25tZW50SW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRDb250ZXh0cyA9IHBhcmVudENvbnRleHRzO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneSA9IGxvY2F0aW9uU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICB0aGlzLnJlc29sdmVyID0gcmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IgPSBjaGFuZ2VEZXRlY3RvcjtcbiAgICAgICAgdGhpcy5wYWdlRmFjdG9yeSA9IHBhZ2VGYWN0b3J5O1xuICAgICAgICB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneSA9IHJvdXRlUmV1c2VTdHJhdGVneTtcbiAgICAgICAgdGhpcy5uZ1pvbmUgPSBuZ1pvbmU7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmVudmlyb25tZW50SW5qZWN0b3IgPSBlbnZpcm9ubWVudEluamVjdG9yO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLmRldGFjaEV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuYWN0aXZhdGVFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgdGhpcy5pc0VtcHR5T3V0bGV0ID0gaXNFbXB0eU91dGxldDtcbiAgICAgICAgdGhpcy5mcmFtZSA9IGVsUmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2V0QWN0aW9uQmFyVmlzaWJpbGl0eShhY3Rpb25CYXJWaXNpYmlsaXR5KTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuY29uc3RydWN0b3IgZnJhbWU6ICR7dGhpcy5mcmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lIHx8IFBSSU1BUllfT1VUTEVUO1xuICAgICAgICBwYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0Q3JlYXRlZCh0aGlzLm5hbWUsIHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdVdGlsID0gdmlld1V0aWw7XG4gICAgICAgIHRoaXMuZGV0YWNoZWRMb2FkZXJGYWN0b3J5ID0gcmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgIH1cbiAgICBzZXRBY3Rpb25CYXJWaXNpYmlsaXR5KGFjdGlvbkJhclZpc2liaWxpdHkpIHtcbiAgICAgICAgc3dpdGNoIChhY3Rpb25CYXJWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICBjYXNlICdhbHdheXMnOlxuICAgICAgICAgICAgY2FzZSAnbmV2ZXInOlxuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuYWN0aW9uQmFyVmlzaWJpbGl0eSA9IGFjdGlvbkJhclZpc2liaWxpdHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkgPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIC8vIEluIHRoZSBldmVudCB0aGF0IHRoZSBgcGFyZW50Q29udGV4dHNgIGhhcyBjaGFuZ2VkIHRoZSBvdXRsZXRcbiAgICAgICAgLy8gdmlhIHRoZSBjcmVhdGlvbiBvZiBhbm90aGVyIG91dGxldCwgdGhlIGBvbkNoaWxkT3V0bGV0RGVzdHJveWVkYFxuICAgICAgICAvLyB3aWxsIGJlIHNraXBwZWRcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Q29udGV4dHMuZ2V0Q29udGV4dCh0aGlzLm5hbWUpPy5vdXRsZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgIC8vIENsZWFyIGFjY3VtdWxhdGVkIG1vZGFsIHZpZXcgcGFnZSBjYWNoZSB3aGVuIHBhZ2Utcm91dGVyLW91dGxldFxuICAgICAgICAgICAgLy8gZGVzdHJveWVkIG9uIG1vZGFsIHZpZXcgY2xvc2luZ1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250ZXh0cy5vbkNoaWxkT3V0bGV0RGVzdHJveWVkKHRoaXMubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyTW9kYWxDYWNoZShrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuY2xlYXJPdXRsZXQodGhpcy5mcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQubmdPbkRlc3Ryb3k6IG5vIG91dGxldCBhdmFpbGFibGUgZm9yIHBhZ2Utcm91dGVyLW91dGxldCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2U7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5kZXRhY2goKTtcbiAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYodGhpcy5hY3RpdmF0ZWQpO1xuICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQoYyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm91dGxldCB8fCAhdGhpcy5vdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnQ3VycmVudGx5IG5vdCBpbiBwYWdlIGJhY2sgbmF2aWdhdGlvbiAtIGNvbXBvbmVudCBzaG91bGQgYmUgZGV0YWNoZWQgaW5zdGVhZCBvZiBkZWFjdGl2YXRlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnUGFnZVJvdXRlck91dGxldC5kZWFjdGl2YXRlKCkgd2hpbGUgZ29pbmcgYmFjayAtIHNob3VsZCBkZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24/LigpO1xuICAgICAgICBjb25zdCBjID0gdGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2U7XG4gICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYodGhpcy5hY3RpdmF0ZWQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlRXZlbnRzLmVtaXQoYyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBgUm91dGVSZXVzZVN0cmF0ZWd5YCBpbnN0cnVjdHMgdG8gZGV0YWNoIHRoZSBzdWJ0cmVlXG4gICAgICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5kZXRhY2goKSAtICR7cm91dGVUb1N0cmluZyh0aGlzLl9hY3RpdmF0ZWRSb3V0ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24/LigpO1xuICAgICAgICAvLyBEZXRhY2ggZnJvbSBDaGFuZ2VEZXRlY3Rpb25cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcuZGV0YWNoKCk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuYWN0aXZhdGVkO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRhY2hFdmVudHMuZW1pdChjb21wb25lbnQuaW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYFJvdXRlUmV1c2VTdHJhdGVneWAgaW5zdHJ1Y3RzIHRvIHJlLWF0dGFjaCBhIHByZXZpb3VzbHkgZGV0YWNoZWQgc3VidHJlZVxuICAgICAqL1xuICAgIGF0dGFjaChyZWYsIGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmF0dGFjaCgpIC0gJHtyb3V0ZVRvU3RyaW5nKGFjdGl2YXRlZFJvdXRlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IHJlZjtcbiAgICAgICAgLy8gcmVhdHRhY2ggdG8gQ2hhbmdlRGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3Lm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5yZWF0dGFjaCgpO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IGFjdGl2YXRlZFJvdXRlO1xuICAgICAgICB0aGlzLm1hcmtBY3RpdmF0ZWRSb3V0ZShhY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIC8vIHdlIGhhdmUgYSBjaGlsZCB3aXRoIHRoZSBzYW1lIG5hbWUsIHNvIHdlIGRvbid0IGZpbmlzaCB0aGUgYmFjayBuYXZcbiAgICAgICAgaWYgKHRoaXMuaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSkge1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRhY2hFdmVudHMuZW1pdChyZWYuaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRDb250ZXh0KHRoaXMubmFtZSk/LmNoaWxkcmVuO1xuICAgICAgICB3aGlsZSAoY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29udGV4dCA9IGNoaWxkcmVuLmdldENvbnRleHQodGhpcy5uYW1lKTtcbiAgICAgICAgICAgIGlmICghY2hpbGRDb250ZXh0IHx8ICFjaGlsZENvbnRleHQub3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGRDb250ZXh0Lm91dGxldCBpbnN0YW5jZW9mIFBhZ2VSb3V0ZXJPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkQ29udGV4dC5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJ5IHRoZSBSb3V0ZXIgdG8gaW5zdGFudGlhdGUgYSBuZXcgY29tcG9uZW50IGR1cmluZyB0aGUgY29tbWl0IHBoYXNlIG9mIGEgbmF2aWdhdGlvbi5cbiAgICAgKiBUaGlzIG1ldGhvZCBpbiB0dXJuIGlzIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIHRoZSBgcm91dGVyT25BY3RpdmF0ZWAgaG9vayBvZiBpdHMgY2hpbGQuXG4gICAgICovXG4gICAgYWN0aXZhdGVXaXRoKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlcikge1xuICAgICAgICB0aGlzLm91dGxldCA9IHRoaXMub3V0bGV0IHx8IHRoaXMuZ2V0T3V0bGV0KGFjdGl2YXRlZFJvdXRlLnNuYXBzaG90KTtcbiAgICAgICAgaWYgKCF0aGlzLm91dGxldCkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ05vIG91dGxldCBmb3VuZCByZWxhdGl2ZSB0byBhY3RpdmF0ZWQgcm91dGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm91dGxldC5pc05TRW1wdHlPdXRsZXQgPSB0aGlzLmlzRW1wdHlPdXRsZXQ7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS51cGRhdGVPdXRsZXRGcmFtZSh0aGlzLm91dGxldCwgdGhpcy5mcmFtZSwgdGhpcy5pc0VtcHR5T3V0bGV0KTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGV0ICYmIHRoaXMub3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ0N1cnJlbnRseSBpbiBwYWdlIGJhY2sgbmF2aWdhdGlvbiAtIGNvbXBvbmVudCBzaG91bGQgYmUgcmVhdHRhY2hlZCBpbnN0ZWFkIG9mIGFjdGl2YXRlZC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5hY3RpdmF0ZVdpdGgoKSAtICR7cm91dGVUb1N0cmluZyhhY3RpdmF0ZWRSb3V0ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAgICAgdGhpcy5tYXJrQWN0aXZhdGVkUm91dGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlT25Hb0ZvcndhcmQoYWN0aXZhdGVkUm91dGUsIHJlc29sdmVyIHx8IHRoaXMuZW52aXJvbm1lbnRJbmplY3Rvcik7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVFdmVudHMuZW1pdCh0aGlzLmFjdGl2YXRlZC5pbnN0YW5jZSk7XG4gICAgfVxuICAgIGFjdGl2YXRlT25Hb0ZvcndhcmQoYWN0aXZhdGVkUm91dGUsIHJlc29sdmVyT3JJbmplY3Rvcikge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnUGFnZVJvdXRlck91dGxldC5hY3RpdmF0ZSgpIGZvcndhcmQgbmF2aWdhdGlvbiAtICcgKyAnY3JlYXRlIGRldGFjaGVkIGxvYWRlciBpbiB0aGUgbG9hZGVyIGNvbnRhaW5lcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50VHlwZShhY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2VGYWN0b3J5KHtcbiAgICAgICAgICAgIGlzTmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvbmVudFR5cGU6IGNvbXBvbmVudCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbjtcbiAgICAgICAgY29uc3QgZGVzdHJ1Y3RpYmxlcyA9IG5ldyBTZXQoW1BhZ2VTZXJ2aWNlXSk7XG4gICAgICAgIGNvbnN0IHBhcmVudEluamVjdG9yID0gSW5qZWN0b3IuY3JlYXRlKHtcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGFnZSwgdXNlVmFsdWU6IHBhZ2UgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEZyYW1lLCB1c2VWYWx1ZTogdGhpcy5mcmFtZSB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGFnZVJvdXRlLCB1c2VWYWx1ZTogbmV3IFBhZ2VSb3V0ZShhY3RpdmF0ZWRSb3V0ZSkgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFjdGl2YXRlZFJvdXRlLCB1c2VWYWx1ZTogYWN0aXZhdGVkUm91dGUgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IENoaWxkcmVuT3V0bGV0Q29udGV4dHMsIHVzZVZhbHVlOiB0aGlzLnBhcmVudENvbnRleHRzLmdldE9yQ3JlYXRlQ29udGV4dCh0aGlzLm5hbWUpLmNoaWxkcmVuIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQYWdlU2VydmljZSwgdXNlQ2xhc3M6IFBhZ2VTZXJ2aWNlIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgcGFyZW50OiBsb2NhdGlvbi5pbmplY3RvcixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGluamVjdG9yID0gbmV3IERlc3RydWN0aWJsZUluamVjdG9yKGRlc3RydWN0aWJsZXMsIHBhcmVudEluamVjdG9yKTtcbiAgICAgICAgbGV0IGxvYWRlclJlZjtcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKHJlc29sdmVyT3JJbmplY3RvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSByZXNvbHZlck9ySW5qZWN0b3IucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICAgICAgbG9hZGVyUmVmID0gbG9jYXRpb24uY3JlYXRlQ29tcG9uZW50KGZhY3RvcnksIGxvY2F0aW9uLmxlbmd0aCwgaW5qZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZW52aXJvbm1lbnRJbmplY3RvciA9IHJlc29sdmVyT3JJbmplY3RvcjtcbiAgICAgICAgICAgIGxvYWRlclJlZiA9IGxvY2F0aW9uLmNyZWF0ZUNvbXBvbmVudChEZXRhY2hlZExvYWRlciwgeyBpbmRleDogbG9jYXRpb24ubGVuZ3RoLCBpbmplY3RvciwgZW52aXJvbm1lbnRJbmplY3RvciB9KTtcbiAgICAgICAgfVxuICAgICAgICBsb2FkZXJSZWYub25EZXN0cm95KCgpID0+IGluamVjdG9yLmRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbG9hZGVyUmVmLmluc3RhbmNlLmxvYWRDb21wb25lbnRJbkxvY2F0aW9uKGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5sb2FkQ29tcG9uZW50SW5QYWdlKHBhZ2UsIHRoaXMuYWN0aXZhdGVkLCB7IGFjdGl2YXRlZFJvdXRlIH0pO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFtsb2FkZXJSZWZTeW1ib2xdID0gbG9hZGVyUmVmO1xuICAgIH1cbiAgICBsb2FkQ29tcG9uZW50SW5QYWdlKHBhZ2UsIGNvbXBvbmVudFJlZiwgbmF2aWdhdGlvbkNvbnRleHQpIHtcbiAgICAgICAgLy8gQ29tcG9uZW50IGxvYWRlZC4gRmluZCBpdHMgcm9vdCBuYXRpdmUgdmlldy5cbiAgICAgICAgY29uc3QgY29tcG9uZW50VmlldyA9IGNvbXBvbmVudFJlZi5sb2NhdGlvbi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBSZW1vdmUgaXQgZnJvbSBvcmlnaW5hbCBuYXRpdmUgcGFyZW50LlxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNoaWxkKGNvbXBvbmVudFZpZXcucGFyZW50LCBjb21wb25lbnRWaWV3KTtcbiAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBuZXcgcGFnZVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmFwcGVuZENoaWxkKHBhZ2UsIGNvbXBvbmVudFZpZXcpO1xuICAgICAgICBsZXQgdG9wQWN0aXZhdGVkUm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHRoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90KTtcbiAgICAgICAgbGV0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgY29uc3QgdGhpc1JvdXRlS2V5ID0gb3V0bGV0S2V5O1xuICAgICAgICB3aGlsZSAoIXRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSkpIHtcbiAgICAgICAgICAgIHRvcEFjdGl2YXRlZFJvdXRlID0gdG9wQWN0aXZhdGVkUm91dGUucGFyZW50O1xuICAgICAgICAgICAgaWYgKCF0b3BBY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdDb3VsZCBub3QgZmluZCBvdXRsZXQgZm9yIHJvdXRlOiAnICsgdGhpc1JvdXRlS2V5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2sgPSBnbG9iYWwuWm9uZS5jdXJyZW50LndyYXAoKGFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUsIG91dGxldEtleSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmJhY2sobnVsbCwgdGhpcy5mcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBleHBlcmltZW50IHdpdGggdXNpbmcgTmdab25lIGluc3RlYWQgb2YgZ2xvYmFsIGFib3ZlXG4gICAgICAgIC8vIGNvbnN0IG5hdmlnYXRlZEZyb21DYWxsYmFjayA9IChhcmdzOiBOYXZpZ2F0ZWREYXRhKSA9PiB7XG4gICAgICAgIC8vIFx0aWYgKGFyZ3MuaXNCYWNrTmF2aWdhdGlvbikge1xuICAgICAgICAvLyAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcbiAgICAgICAgLy8gICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lKTtcbiAgICAgICAgLy8gICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmJhY2sobnVsbCwgdGhpcy5mcmFtZSk7XG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy8gXHR9XG4gICAgICAgIC8vIH07XG4gICAgICAgIHBhZ2Uub24oUGFnZS5uYXZpZ2F0ZWRGcm9tRXZlbnQsIG5hdmlnYXRlZEZyb21DYWxsYmFjayk7XG4gICAgICAgIGNvbXBvbmVudFJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgICAgICAgICBwYWdlLm9mZihQYWdlLm5hdmlnYXRlZEZyb21FdmVudCwgbmF2aWdhdGVkRnJvbUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBwYWdlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5hdk9wdGlvbnMgPSB7IC4uLmRlZmF1bHROYXZPcHRpb25zLCAuLi4odGhpcy5yb3V0ZXIuZ2V0Q3VycmVudE5hdmlnYXRpb24oKS5leHRyYXMgfHwge30pIH07XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5QYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lLCBuYXZPcHRpb25zKTtcbiAgICAgICAgY29uc3QgaXNSZXBsYWNlID0gbmF2T3B0aW9ucy5yZXBsYWNlVXJsICYmICFuYXZPcHRpb25zLmNsZWFySGlzdG9yeTtcbiAgICAgICAgY29uc3QgY3VycmVudFJvdXRlID0gdGhpcy5hY3RpdmF0ZWRSb3V0ZTtcbiAgICAgICAgLy8gQ2xlYXIgcmVmQ2FjaGUgaWYgbmF2aWdhdGlvbiB3aXRoIGNsZWFySGlzdG9yeVxuICAgICAgICBpZiAobmF2T3B0aW9ucy5jbGVhckhpc3RvcnkpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5tYXJrQ2FjaGVGb3JDbGVhcihrZXkpKTtcbiAgICAgICAgICAgIGNvbnN0IHdpcGVDYWNoZSA9IGNhbGxhYmxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5hdkZ1bmN0aW9uID09PSB3aXBlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRsZXQgJiYgdGhpcy5hY3RpdmF0ZWRSb3V0ZSA9PT0gY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvdGVudGlhbCBhbHRlcm5hdGl2ZSBmaXggKG9ubHkgZml4IGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IG91dGxldClcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgbmVzdHMgPSBvdXRsZXRLZXkuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5maWx0ZXIoKGspID0+IGsuc3BsaXQoJy8nKS5sZW5ndGggPj0gbmVzdHMubGVuZ3RoKS5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1hcmtlZENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSB3aXBlQ2FjaGU7XG4gICAgICAgICAgICBjb25zdCBjbGVhckNhbGxiYWNrID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgd2lwZUNhY2hlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhZ2Uub25jZShQYWdlLm5hdmlnYXRlZFRvRXZlbnQsIGNsZWFyQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5hdk9wdGlvbnMucmVwbGFjZVVybCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5Lm1hcmtDYWNoZUZvclBvcChrZXkpKTtcbiAgICAgICAgICAgIGNvbnN0IHBvcENhY2hlID0gY2FsbGFibGVPbmNlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3N0TmF2RnVuY3Rpb24gPT09IHBvcENhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0bGV0ICYmIHRoaXMuYWN0aXZhdGVkUm91dGUgPT09IGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWwgYWx0ZXJuYXRpdmUgZml4IChvbmx5IGZpeCBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCBvdXRsZXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG5lc3RzID0gb3V0bGV0S2V5LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZmlsdGVyKChrKSA9PiBrLnNwbGl0KCcvJykubGVuZ3RoID49IG5lc3RzLmxlbmd0aCkuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5wb3BDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHRoaXMucm91dGVSZXVzZVN0cmF0ZWd5LmNsZWFyTWFya2VkQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IHBvcENhY2hlO1xuICAgICAgICAgICAgY29uc3QgY2xlYXJDYWxsYmFjayA9ICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBvcENhY2hlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBhZ2Uub25jZShQYWdlLm5hdmlnYXRlZFRvRXZlbnQsIGNsZWFyQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZXh0OiBuYXZpZ2F0aW9uQ29udGV4dCxcbiAgICAgICAgICAgIGNsZWFySGlzdG9yeTogbmF2T3B0aW9ucy5jbGVhckhpc3RvcnksXG4gICAgICAgICAgICBhbmltYXRlZDogbmF2T3B0aW9ucy5hbmltYXRlZCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IG5hdk9wdGlvbnMudHJhbnNpdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzUmVwbGFjZSAmJiB0aGlzLmZyYW1lLmN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLnJlcGxhY2VQYWdlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLm5hdmlnYXRlKG5hdmlnYXRpb25FbnRyeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRmluZCBhbmQgbWFyayB0aGUgdG9wIGFjdGl2YXRlZCByb3V0ZSBhcyBhbiBhY3RpdmF0ZWQgb25lLlxuICAgIC8vIEluIG5zLWxvY2F0aW9uLXN0cmF0ZWd5IHdlIGFyZSByZXVzaW5nIGNvbXBvbmVudHMgb25seSBpZiB0aGVpciBjb3JyZXNwb25pbmcgcm91dGVzXG4gICAgLy8gYXJlIG1hcmtlZCBhcyBhY3RpdmF0ZWQgZnJvbSB0aGlzIG1ldGhvZC5cbiAgICBtYXJrQWN0aXZhdGVkUm91dGUoYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgcXVldWUucHVzaChhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGxldCBjdXJyZW50Um91dGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB3aGlsZSAoY3VycmVudFJvdXRlKSB7XG4gICAgICAgICAgICBjdXJyZW50Um91dGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGRSb3V0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY2hpbGRSb3V0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRvcEFjdGl2YXRlZFJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChjdXJyZW50Um91dGUpO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5LCB0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgICAgICBpZiAob3V0bGV0ICYmIG91dGxldC5mcmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG9wQWN0aXZhdGVkUm91dGVbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ0FjdGl2YXRlZCByb3V0ZSBtYXJrZWQgYXMgcGFnZTogJyArIHJvdXRlVG9TdHJpbmcodG9wQWN0aXZhdGVkUm91dGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Um91dGUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENvbXBvbmVudFR5cGUoYWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlLnJvdXRlQ29uZmlnLmNvbXBvbmVudCB8fCBhY3RpdmF0ZWRSb3V0ZS5jb21wb25lbnQ7XG4gICAgfVxuICAgIGdldE91dGxldChhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgIGNvbnN0IHRvcEFjdGl2YXRlZFJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KTtcbiAgICAgICAgY29uc3Qgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBsZXQgb3V0bGV0ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQob3V0bGV0S2V5LCB0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIC8vIE5hbWVkIGxhenkgbG9hZGVkIG91dGxldC5cbiAgICAgICAgaWYgKCFvdXRsZXQgJiYgdGhpcy5pc0VtcHR5T3V0bGV0KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQpO1xuICAgICAgICAgICAgb3V0bGV0ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmZpbmRPdXRsZXQocGFyZW50T3V0bGV0S2V5LCB0b3BBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQpO1xuICAgICAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgICAgIG91dGxldC5vdXRsZXRLZXlzLnB1c2gob3V0bGV0S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIGRlcHM6IFt7IHRva2VuOiBpMSQzLkNoaWxkcmVuT3V0bGV0Q29udGV4dHMgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiAnbmFtZScsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiAnYWN0aW9uQmFyVmlzaWJpbGl0eScsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiAnaXNFbXB0eU91dGxldCcsIGF0dHJpYnV0ZTogdHJ1ZSB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHRva2VuOiBQQUdFX0ZBQ1RPUlkgfSwgeyB0b2tlbjogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkxJDMuUm91dGVyIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogVmlld1V0aWwgfSwgeyB0b2tlbjogaTAuRW52aXJvbm1lbnRJbmplY3RvciB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIHNlbGVjdG9yOiBcInBhZ2Utcm91dGVyLW91dGxldFwiLCBvdXRwdXRzOiB7IGFjdGl2YXRlRXZlbnRzOiBcImFjdGl2YXRlXCIsIGRlYWN0aXZhdGVFdmVudHM6IFwiZGVhY3RpdmF0ZVwiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbQWN0aXZhdGVkUm91dGUsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBQYWdlUm91dGVyT3V0bGV0LnByb3RvdHlwZSwgXCJhY3RpdmF0ZVdpdGhcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBwcm9maWxlLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtQYWdlLCBDb21wb25lbnRSZWYsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBQYWdlUm91dGVyT3V0bGV0LnByb3RvdHlwZSwgXCJsb2FkQ29tcG9uZW50SW5QYWdlXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbeyBzZWxlY3RvcjogJ3BhZ2Utcm91dGVyLW91dGxldCcgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMSQzLkNoaWxkcmVuT3V0bGV0Q29udGV4dHMgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmFtZSddXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogWydhY3Rpb25CYXJWaXNpYmlsaXR5J11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ2lzRW1wdHlPdXRsZXQnXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIH0sIHsgdHlwZTogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW1BBR0VfRkFDVE9SWV1cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0sIHsgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogVmlld1V0aWwgfSwgeyB0eXBlOiBpMC5FbnZpcm9ubWVudEluamVjdG9yIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBhY3RpdmF0ZUV2ZW50czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWydhY3RpdmF0ZSddXG4gICAgICAgICAgICB9XSwgZGVhY3RpdmF0ZUV2ZW50czogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWydkZWFjdGl2YXRlJ11cbiAgICAgICAgICAgIH1dLCBhY3RpdmF0ZVdpdGg6IFtdLCBsb2FkQ29tcG9uZW50SW5QYWdlOiBbXSB9IH0pO1xuXG5jbGFzcyBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIGV4dGVuZHMgUGxhdGZvcm1Mb2NhdGlvbiB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb25TdHJhdGVneSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbi5jb25zdHJ1Y3RvcigpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldEJhc2VIcmVmRnJvbURPTSgpIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9XG4gICAgb25Qb3BTdGF0ZShmbikge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kub25Qb3BTdGF0ZShmbik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICBvbkhhc2hDaGFuZ2UoX2ZuKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgc2VhcmNoKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGdldCBoYXNoKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGdldCBwYXRobmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25TdHJhdGVneS5wYXRoKCk7XG4gICAgfVxuICAgIHNldCBwYXRobmFtZShfbmV3UGF0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gc2V0IHBhdGhuYW1lIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIHB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBudWxsKTtcbiAgICB9XG4gICAgcmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwsIG51bGwpO1xuICAgIH1cbiAgICBmb3J3YXJkKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpIC0gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGJhY2soKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiwgZGVwczogW3sgdG9rZW46IE5TTG9jYXRpb25TdHJhdGVneSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogZnVuY3Rpb24gKCkgeyByZXR1cm4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dOyB9IH0pO1xuXG5jbGFzcyBOU0VtcHR5T3V0bGV0Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwYWdlKSB7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCdsb2FkZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZVJvdXRlck91dGxldCAmJiB0aGlzLnBhZ2UuZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlUm91dGVyT3V0bGV0LnNldEFjdGlvbkJhclZpc2liaWxpdHkodGhpcy5wYWdlLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkxLlBhZ2UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBzZWxlY3RvcjogXCJucy1lbXB0eS1vdXRsZXRcIiwgdmlld1F1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJwYWdlUm91dGVyT3V0bGV0XCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBQYWdlUm91dGVyT3V0bGV0IH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBcIjxwYWdlLXJvdXRlci1vdXRsZXQgaXNFbXB0eU91dGxldD0ndHJ1ZSc+PC9wYWdlLXJvdXRlci1vdXRsZXQ+XCIsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IFBhZ2VSb3V0ZXJPdXRsZXQsIHNlbGVjdG9yOiBcInBhZ2Utcm91dGVyLW91dGxldFwiLCBvdXRwdXRzOiBbXCJhY3RpdmF0ZVwiLCBcImRlYWN0aXZhdGVcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ25zLWVtcHR5LW91dGxldCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxwYWdlLXJvdXRlci1vdXRsZXQgaXNFbXB0eU91dGxldD0ndHJ1ZSc+PC9wYWdlLXJvdXRlci1vdXRsZXQ+XCIsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBbeyB0eXBlOiBpMS5QYWdlIH1dOyB9LCBwcm9wRGVjb3JhdG9yczogeyBwYWdlUm91dGVyT3V0bGV0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFZpZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbUGFnZVJvdXRlck91dGxldCwgeyByZWFkOiBQYWdlUm91dGVyT3V0bGV0LCBzdGF0aWM6IGZhbHNlIH1dXG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5mdW5jdGlvbiBwcm92aWRlTG9jYXRpb25TdHJhdGVneShsb2NhdGlvblN0cmF0ZWd5LCBmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCkge1xuICAgIHJldHVybiBsb2NhdGlvblN0cmF0ZWd5ID8gbG9jYXRpb25TdHJhdGVneSA6IG5ldyBOU0xvY2F0aW9uU3RyYXRlZ3koZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpO1xufVxuY2xhc3MgTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlIHtcbiAgICBzdGF0aWMgZm9yUm9vdChyb3V0ZXMsIGNvbmZpZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgIC4uLlJvdXRlck1vZHVsZS5mb3JSb290KHJvdXRlcywgY29uZmlnKS5wcm92aWRlcnMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IHByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiBbW05TTG9jYXRpb25TdHJhdGVneSwgbmV3IE9wdGlvbmFsKCksIG5ldyBTa2lwU2VsZigpXSwgRnJhbWVTZXJ2aWNlLCBbbmV3IE9wdGlvbmFsKCksIFNUQVJUX1BBVEhdXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogTG9jYXRpb25TdHJhdGVneSwgdXNlRXhpc3Rpbmc6IE5TTG9jYXRpb25TdHJhdGVneSB9LFxuICAgICAgICAgICAgICAgIE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBQbGF0Zm9ybUxvY2F0aW9uLCB1c2VFeGlzdGluZzogTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiB9LFxuICAgICAgICAgICAgICAgIFJvdXRlckV4dGVuc2lvbnMsXG4gICAgICAgICAgICAgICAgTlNSb3V0ZVJldXNlU3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBSb3V0ZVJldXNlU3RyYXRlZ3ksIHVzZUV4aXN0aW5nOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGZvckNoaWxkKHJvdXRlcykge1xuICAgICAgICByZXR1cm4geyBuZ01vZHVsZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBwcm92aWRlcnM6IFJvdXRlck1vZHVsZS5mb3JDaGlsZChyb3V0ZXMpLnByb3ZpZGVycyB9O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE2LjAuMVwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlY2xhcmF0aW9uczogW05TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSwgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSwgZXhwb3J0czogW1JvdXRlck1vZHVsZSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTYuMC4xXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBpbXBvcnRzOiBbUm91dGVyTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIFJvdXRlck1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNi4wLjFcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW05TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW1JvdXRlck1vZHVsZSwgTlNSb3V0ZXJMaW5rLCBOU1JvdXRlckxpbmtBY3RpdmUsIFBhZ2VSb3V0ZXJPdXRsZXQsIE5TRW1wdHlPdXRsZXRDb21wb25lbnRdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbmxldCBjdXJyZW50UmFmSWQgPSAxO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuLyoqXG4gKiBBbiBpbmplY3RhYmxlIHNlcnZpY2UgZm9yIGV4ZWN1dGluZyB3b3JrIGluc2lkZSBvciBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gb3B0aW1pemUgcGVyZm9ybWFuY2Ugd2hlbiBzdGFydGluZyBhIHdvcmsgY29uc2lzdGluZyBvZlxuICogb25lIG9yIG1vcmUgYXN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgcmVxdWlyZSBVSSB1cGRhdGVzIG9yIGVycm9yIGhhbmRsaW5nIHRvIGJlIGhhbmRsZWQgYnlcbiAqIEFuZ3VsYXIuIFN1Y2ggdGFza3MgY2FuIGJlIGtpY2tlZCBvZmYgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9IGFuZCBpZiBuZWVkZWQsIHRoZXNlIHRhc2tzXG4gKiBjYW4gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIHZpYSB7QGxpbmsgI3J1bn0uXG4gKlxuICogPCEtLSBUT0RPOiBhZGQvZml4IGxpbmtzIHRvOlxuICogICAtIGRvY3MgZXhwbGFpbmluZyB6b25lcyBhbmQgdGhlIHVzZSBvZiB6b25lcyBpbiBBbmd1bGFyIGFuZCBjaGFuZ2UtZGV0ZWN0aW9uXG4gKiAgIC0gbGluayB0byBydW5PdXRzaWRlQW5ndWxhci9ydW4gKHRocm91Z2hvdXQgdGhpcyBmaWxlISlcbiAqICAgLS0+XG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgTmdab25lfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7TmdJZn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICduZy16b25lLWRlbW8nLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxoMj5EZW1vOiBOZ1pvbmU8L2gyPlxuICpcbiAqICAgICA8cD5Qcm9ncmVzczoge3twcm9ncmVzc319JTwvcD5cbiAqICAgICA8cCAqbmdJZj1cInByb2dyZXNzID49IDEwMFwiPkRvbmUgcHJvY2Vzc2luZyB7e2xhYmVsfX0gb2YgQW5ndWxhciB6b25lITwvcD5cbiAqXG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIHdpdGhpbiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgb3V0c2lkZSBvZiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgYCxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTmdab25lRGVtbyB7XG4gKiAgIHByb2dyZXNzOiBudW1iZXIgPSAwO1xuICogICBsYWJlbDogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbmdab25lOiBOZ1pvbmUpIHt9XG4gKlxuICogICAvLyBMb29wIGluc2lkZSB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ2luc2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiBjb25zb2xlLmxvZygnSW5zaWRlIERvbmUhJykpO1xuICogICB9XG4gKlxuICogICAvLyBMb29wIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyBOT1QgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnb3V0c2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAqICAgICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4ge1xuICogICAgICAgICAvLyByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRpc3BsYXkgZG9uZVxuICogICAgICAgICB0aGlzLl9uZ1pvbmUucnVuKCgpID0+IHsgY29uc29sZS5sb2coJ091dHNpZGUgRG9uZSEnKTsgfSk7XG4gKiAgICAgICB9KTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spLCAxMCk7XG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5jbGFzcyBOYXRpdmVTY3JpcHROZ1pvbmUge1xuICAgIGNvbnN0cnVjdG9yKHsgZW5hYmxlTG9uZ1N0YWNrVHJhY2UgPSBpc0Rldk1vZGUoKSwgc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9IHRydWUsIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZSB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZXJlIGFyZSBubyBvdXRzdGFuZGluZyBtaWNyb3Rhc2tzIG9yIG1hY3JvdGFza3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gY29kZSBlbnRlcnMgQW5ndWxhciBab25lLiBUaGlzIGdldHMgZmlyZWQgZmlyc3Qgb24gVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25VbnN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGVyZSBpcyBubyBtb3JlIG1pY3JvdGFza3MgZW5xdWV1ZWQgaW4gdGhlIGN1cnJlbnQgVk0gVHVybi5cbiAgICAgICAgICogVGhpcyBpcyBhIGhpbnQgZm9yIEFuZ3VsYXIgdG8gZG8gY2hhbmdlIGRldGVjdGlvbiwgd2hpY2ggbWF5IGVucXVldWUgbW9yZSBtaWNyb3Rhc2tzLlxuICAgICAgICAgKiBGb3IgdGhpcyByZWFzb24gdGhpcyBldmVudCBjYW4gZmlyZSBtdWx0aXBsZSB0aW1lcyBwZXIgVk0gVHVybi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25NaWNyb3Rhc2tFbXB0eSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGUgbGFzdCBgb25NaWNyb3Rhc2tFbXB0eWAgaGFzIHJ1biBhbmQgdGhlcmUgYXJlIG5vIG1vcmUgbWljcm90YXNrcywgd2hpY2hcbiAgICAgICAgICogaW1wbGllcyB3ZSBhcmUgYWJvdXQgdG8gcmVsaW5xdWlzaCBWTSB0dXJuLlxuICAgICAgICAgKiBUaGlzIGV2ZW50IGdldHMgY2FsbGVkIGp1c3Qgb25jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHRoYXQgYW4gZXJyb3IgaGFzIGJlZW4gZGVsaXZlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIGlmICh0eXBlb2YgWm9uZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzYCk7XG4gICAgICAgIH1cbiAgICAgICAgWm9uZS5hc3NlcnRab25lUGF0Y2hlZCgpO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5fbmVzdGluZyA9IDA7XG4gICAgICAgIHNlbGYuX291dGVyID0gc2VsZi5faW5uZXIgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgIGlmIChab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsobmV3IFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10oKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUxvbmdTdGFja1RyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZSwgYWxsIHRhc2tzIGluY2x1ZGluZyBldmVudCB0YXNrcyB3aWxsIGJlXG4gICAgICAgIC8vIGNvYWxlc2NlZCwgc28gc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiBvcHRpb24gaXMgbm90IG5lY2Vzc2FyeSBhbmQgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiA9ICFzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiAmJiBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICBzZWxmLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgIHNlbGYubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBjb25zdCBuYXRpdmVEaXNwYXRjaFRvTWFpblRocmVhZCA9IFV0aWxzW1pvbmUuX19zeW1ib2xfXygnZGlzcGF0Y2hUb01haW5UaHJlYWQnKV0gfHwgVXRpbHMuZGlzcGF0Y2hUb01haW5UaHJlYWQ7XG4gICAgICAgICAgICBuYXRpdmVEaXNwYXRjaFRvTWFpblRocmVhZChjYik7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFJhZklkKys7XG4gICAgICAgIH07XG4gICAgICAgIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHNlbGYpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICByZXR1cm4gWm9uZS5jdXJyZW50LmdldCgnaXNBbmd1bGFyWm9uZScpID09PSB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpIHtcbiAgICAgICAgaWYgKCFOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90IScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnROb3RJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoTmdab25lLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bihmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFzIGEgdGFzayBhbmQgcmV0dXJucyB2YWx1ZVxuICAgICAqIHJldHVybmVkIGJ5IHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuYCBhbGxvd3MgeW91IHRvIHJlZW50ZXIgQW5ndWxhciB6b25lIGZyb20gYSB0YXNrIHRoYXQgd2FzIGV4ZWN1dGVkXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lICh0eXBpY2FsbHkgc3RhcnRlZCB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0pLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiB3aXRoaW4gdGhlIEFuZ3VsYXIgem9uZS5cbiAgICAgKlxuICAgICAqIElmIGEgc3luY2hyb25vdXMgZXJyb3IgaGFwcGVucyBpdCB3aWxsIGJlIHJldGhyb3duIGFuZCBub3QgcmVwb3J0ZWQgdmlhIGBvbkVycm9yYC5cbiAgICAgKi9cbiAgICBydW5UYXNrKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncywgbmFtZSkge1xuICAgICAgICBjb25zdCB6b25lID0gdGhpcy5faW5uZXI7XG4gICAgICAgIGNvbnN0IHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdOZ1pvbmVFdmVudDogJyArIG5hbWUsIGZuLCBFTVBUWV9QQVlMT0FELCBub29wLCBub29wKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB6b25lLnJ1blRhc2sodGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYHJ1bmAsIGV4Y2VwdCB0aGF0IHN5bmNocm9ub3VzIGVycm9ycyBhcmUgY2F1Z2h0IGFuZCBmb3J3YXJkZWQgdmlhIGBvbkVycm9yYCBhbmQgbm90XG4gICAgICogcmV0aHJvd24uXG4gICAgICovXG4gICAgcnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnJ1bkd1YXJkZWQoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24gc3luY2hyb25vdXNseSBpbiBBbmd1bGFyJ3MgcGFyZW50IHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYWxsb3dzIHlvdSB0byBlc2NhcGUgQW5ndWxhcidzIHpvbmUgYW5kIGRvXG4gICAgICogd29yayB0aGF0XG4gICAgICogZG9lc24ndCB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlLWRldGVjdGlvbiBvciBpcyBzdWJqZWN0IHRvIEFuZ3VsYXIncyBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogVXNlIHtAbGluayAjcnVufSB0byByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRvIHdvcmsgdGhhdCB1cGRhdGVzIHRoZSBhcHBsaWNhdGlvbiBtb2RlbC5cbiAgICAgKi9cbiAgICBydW5PdXRzaWRlQW5ndWxhcihmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3V0ZXIucnVuKGZuKTtcbiAgICB9XG59XG5jb25zdCBFTVBUWV9QQVlMT0FEID0ge307XG5mdW5jdGlvbiBjaGVja1N0YWJsZSh6b25lKSB7XG4gICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc2hvdWxkIGNoZWNrIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgdG8gcHJldmVudFxuICAgIC8vIHJlLWVudHJ5LiBUaGUgY2FzZSBpczpcbiAgICAvL1xuICAgIC8vIEBDb21wb25lbnQoey4uLn0pXG4gICAgLy8gZXhwb3J0IGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgLy8gY29uc3RydWN0b3IocHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSkge1xuICAgIC8vICAgdGhpcy5uZ1pvbmUub25TdGFibGUuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAvLyAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IGNvbnNvbGUubG9nKCdzdGFibGUnKTspO1xuICAgIC8vICAgfSk7XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gVGhlIG9uU3RhYmxlIHN1YnNjcmliZXIgcnVuIGFub3RoZXIgZnVuY3Rpb24gaW5zaWRlIG5nWm9uZVxuICAgIC8vIHdoaWNoIGNhdXNlcyBgY2hlY2tTdGFibGUoKWAgcmUtZW50cnkuXG4gICAgLy8gQnV0IHRoaXMgZml4IGNhdXNlcyBzb21lIGlzc3VlcyBpbiBnMywgc28gdGhpcyBmaXggd2lsbCBiZVxuICAgIC8vIGxhdW5jaGVkIGluIGFub3RoZXIgUFIuXG4gICAgaWYgKHpvbmUuX25lc3RpbmcgPT0gMCAmJiAhem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyAmJiAhem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZysrO1xuICAgICAgICAgICAgem9uZS5vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgICAgICAgICBpZiAoIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25TdGFibGUuZW1pdChudWxsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKSB7XG4gICAgLyoqXG4gICAgICogV2UgYWxzbyBuZWVkIHRvIGNoZWNrIF9uZXN0aW5nIGhlcmVcbiAgICAgKiBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2Ugd2l0aCBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiA9IHRydWVcbiAgICAgKlxuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqIG5nWm9uZS5ydW4oKCkgPT4ge30pO1xuICAgICAqXG4gICAgICogV2Ugd2FudCB0aGUgdHdvIGBuZ1pvbmUucnVuKClgIG9ubHkgdHJpZ2dlciBvbmUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHdoZW4gc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gaXMgdHJ1ZS5cbiAgICAgKiBBbmQgYmVjYXVzZSBpbiB0aGlzIGNhc2UsIGNoYW5nZSBkZXRlY3Rpb24gcnVuIGluIGFzeW5jIHdheShyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpLFxuICAgICAqIHNvIHdlIGFsc28gbmVlZCB0byBjaGVjayB0aGUgX25lc3RpbmcgaGVyZSB0byBwcmV2ZW50IG11bHRpcGxlXG4gICAgICogY2hhbmdlIGRldGVjdGlvbnMuXG4gICAgICovXG4gICAgaWYgKHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgfHwgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSB6b25lLm5hdGl2ZVJlcXVlc3RBbmltYXRpb25GcmFtZS5jYWxsKGdsb2JhbCwgKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIGlzIGEgd29yayBhcm91bmQgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzM2ODM5LlxuICAgICAgICAvLyBUaGUgY29yZSBpc3N1ZSBpcyB0aGF0IHdoZW4gZXZlbnQgY29hbGVzY2luZyBpcyBlbmFibGVkIGl0IGlzIHBvc3NpYmxlIGZvciBtaWNyb3Rhc2tzXG4gICAgICAgIC8vIHRvIGdldCBmbHVzaGVkIHRvbyBlYXJseSAoQXMgaXMgdGhlIGNhc2Ugd2l0aCBgUHJvbWlzZS50aGVuYCkgYmV0d2VlbiB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUbyB3b3JrYXJvdW5kIHRoaXMgd2Ugc2NoZWR1bGUgYSBcImZha2VcIiBldmVudFRhc2sgYmVmb3JlIHdlIHByb2Nlc3MgdGhlXG4gICAgICAgIC8vIGNvYWxlc2NpbmcgZXZlbnRUYXNrcy4gVGhlIGJlbmVmaXQgb2YgdGhpcyBpcyB0aGF0IHRoZSBcImZha2VcIiBjb250YWluZXIgZXZlbnRUYXNrXG4gICAgICAgIC8vICB3aWxsIHByZXZlbnQgdGhlIG1pY3JvdGFza3MgcXVldWUgZnJvbSBnZXR0aW5nIGRyYWluZWQgaW4gYmV0d2VlbiB0aGUgY29hbGVzY2luZ1xuICAgICAgICAvLyBldmVudFRhc2sgZXhlY3V0aW9uLlxuICAgICAgICBpZiAoIXpvbmUuZmFrZVRvcEV2ZW50VGFzaykge1xuICAgICAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrID0gWm9uZS5yb290LnNjaGVkdWxlRXZlbnRUYXNrKCdmYWtlVG9wRXZlbnRUYXNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gLTE7XG4gICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIHpvbmUuaXNDaGVja1N0YWJsZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgKCkgPT4geyB9LCAoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHpvbmUuZmFrZVRvcEV2ZW50VGFzay5pbnZva2UoKTtcbiAgICB9KTtcbiAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG59XG5mdW5jdGlvbiBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcih6b25lKSB7XG4gICAgY29uc3QgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSA9ICgpID0+IHtcbiAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMoem9uZSk7XG4gICAgfTtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgaXNBbmd1bGFyWm9uZTogdHJ1ZSB9LFxuICAgICAgICBvbkludm9rZVRhc2s6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKCh6b25lLnNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24gJiYgdGFzay50eXBlID09PSAnZXZlbnRUYXNrJykgfHwgem9uZS5zaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiB8fCAhVXRpbHMuaXNNYWluVGhyZWFkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHNEZWxlZ2F0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkludm9rZTogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZSh0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmICh6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIHx8ICFVdGlscy5pc01haW5UaHJlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFzVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGhhc1Rhc2tTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFzVGFzayh0YXJnZXQsIGhhc1Rhc2tTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBoYXNUYXNrIGV2ZW50cyB3aGljaCBvcmlnaW5hdGUgZnJvbSBvdXIgem9uZVxuICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtaWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1pY3JvVGFzaztcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlTWljcm9UYXNrU3RhdHVzKHpvbmUpO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWFjcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1hY3JvVGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFuZGxlRXJyb3I6IChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHpvbmUub25FcnJvci5lbWl0KGVycm9yKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSkge1xuICAgIGlmICh6b25lLl9oYXNQZW5kaW5nTWljcm90YXNrcyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gb25FbnRlcih6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZysrO1xuICAgIGlmICh6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHpvbmUuaXNTdGFibGUgPSBmYWxzZTtcbiAgICAgICAgem9uZS5vblVuc3RhYmxlLmVtaXQobnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gb25MZWF2ZSh6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZy0tO1xuICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFQUF9ST09UX1ZJRVcsIEFjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIEFwcEhvc3RBc3luY1ZpZXcsIEFwcEhvc3RWaWV3LCBCYXNlUG9ydGFsT3V0bGV0LCBCYXNlVmFsdWVBY2Nlc3NvciwgQ09NTU9OX1BST1ZJREVSUywgQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXQsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBDb21tZW50Tm9kZSwgQ29tcG9uZW50UG9ydGFsLCBERVZJQ0UsIERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HLCBEYXRlVmFsdWVBY2Nlc3NvciwgRGV0YWNoZWRMb2FkZXIsIERvbVBvcnRhbCwgRU5BQkxFX1JFVVNBQkVfVklFV1MsIEVtdWxhdGVkUmVuZGVyZXIsIEZyYW1lRGlyZWN0aXZlLCBGcmFtZVBhZ2VDb21wb25lbnQsIEZyYW1lUGFnZU1vZHVsZSwgRnJhbWVTZXJ2aWNlLCBJT1NGaWx0ZXJDb21wb25lbnQsIEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIEludmlzaWJsZU5vZGUsIEl0ZW1Db250ZXh0LCBMaXN0Vmlld0NvbXBvbmVudCwgTW9kYWxEaWFsb2dQYXJhbXMsIE1vZGFsRGlhbG9nU2VydmljZSwgTkFNRVNQQUNFX0ZJTFRFUlMsIE5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTLCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMsIE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgTkFUSVZFX0RJQUxPR19EQVRBLCBOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OUywgTlNFbXB0eU91dGxldENvbXBvbmVudCwgTlNGaWxlU3lzdGVtLCBOU0xvY2F0aW9uU3RyYXRlZ3ksIE5TUm91dGVSZXVzZVN0cmF0ZWd5LCBOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIE5hdGl2ZURpYWxvZ0NvbmZpZywgTmF0aXZlRGlhbG9nTW9kdWxlLCBOYXRpdmVEaWFsb2dSZWYsIE5hdGl2ZURpYWxvZ1NlcnZpY2UsIE5hdGl2ZU1vZGFsUmVmLCBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBOYXRpdmVTY3JpcHREb2N1bWVudCwgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0LCBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIE5hdGl2ZVNjcmlwdE1vZHVsZSwgTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQsIE5hdGl2ZVNjcmlwdE5nWm9uZSwgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdFNhbml0aXplciwgTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgTmdWaWV3UmVmLCBOc0h0dHBCYWNrRW5kLCBOc1RlbXBsYXRlZEl0ZW0sIE51bWJlclZhbHVlQWNjZXNzb3IsIE91dGxldCwgUEFHRV9GQUNUT1JZLCBQYWdlRGlyZWN0aXZlLCBQYWdlUm91dGUsIFBhZ2VSb3V0ZXJPdXRsZXQsIFBhZ2VTZXJ2aWNlLCBQbGF0Zm9ybU5hbWVzcGFjZUZpbHRlciwgUG9ydGFsLCBQb3J0YWxNb2R1bGUsIFJvb3RDb21wb3NpdGVNb2R1bGUsIFJvb3RWaWV3UHJveHksIFJvdXRlckV4dGVuc2lvbnMsIFNUQVJUX1BBVEgsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCBUYWJWaWV3RGlyZWN0aXZlLCBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgVGVtcGxhdGVLZXlEaXJlY3RpdmUsIFRlbXBsYXRlUG9ydGFsLCBUZXh0Tm9kZSwgVGV4dFZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgX05hdGl2ZURpYWxvZ0Jhc2UsIGJvb3RzdHJhcEFwcGxpY2F0aW9uLCBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbiwgY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5LCBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksIGN1c3RvbVBhZ2VGYWN0b3J5LCBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSwgZGFzaENhc2VUb0NhbWVsQ2FzZSwgZGVmYXVsdE5hdk9wdGlvbnMsIGRlZmF1bHRQYWdlRmFjdG9yeSwgZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIsIGRldGFjaFZpZXdGcm9tUGFyZW50LCBkaXNhYmxlUm9vdFZpZXdIYW5kaW5nLCBlcnJvckhhbmRsZXIsIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlLCBmcmFtZU1ldGEsIGdlbmVyYXRlRGV0YWNoZWRMb2FkZXIsIGdlbmVyYXRlRmFsbGJhY2tSb290VmlldywgZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3LCBnZW5lcmF0ZVJhbmRvbUlkLCBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSwgZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldywgZ2V0SXRlbVZpZXdSb290LCBnZXRTaW5nbGVWaWV3UmVjdXJzaXZlLCBnZXRWaWV3Q2xhc3MsIGdldFZpZXdNZXRhLCBpbnN0YW50aWF0ZURlZmF1bHRTdHlsZU5vcm1hbGl6ZXIsIGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LCBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlciwgaXNCbGFuaywgaXNDb250ZW50VmlldywgaXNEZXRhY2hlZEVsZW1lbnQsIGlzSW52aXNpYmxlTm9kZSwgaXNKc09iamVjdCwgaXNLbm93blZpZXcsIGlzTGF5b3V0LCBpc0xpc3RMaWtlSXRlcmFibGUsIGlzUHJlc2VudCwgaXNWaWV3LCBvbkFmdGVyTGl2ZXN5bmMsIG9uQmVmb3JlTGl2ZXN5bmMsIG9uY2UsIHBsYXRmb3JtTmF0aXZlU2NyaXB0LCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdER5bmFtaWMsIHBvc3RBbmd1bGFyQm9vdHN0cmFwJCwgcHJlQW5ndWxhckRpc3Bvc2FsJCwgcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3ksIHJlZ2lzdGVyRWxlbWVudCwgcmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cywgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCwgdGhyb3dJZkFscmVhZHlMb2FkZWQsIHRocm93Tm9Qb3J0YWxBdHRhY2hlZEVycm9yLCB0aHJvd051bGxQb3J0YWxFcnJvciwgdGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IsIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IsIHRocm93UG9ydGFsT3V0bGV0QWxyZWFkeURpc3Bvc2VkRXJyb3IsIHRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvciwgQ09NUE9ORU5UX1ZBUklBQkxFIGFzIMm1Q09NUE9ORU5UX1ZBUklBQkxFLCBDT05URU5UX0FUVFIgYXMgybVDT05URU5UX0FUVFIsIEhPU1RfQVRUUiBhcyDJtUhPU1RfQVRUUiwgTmF0aXZlU2NyaXB0RGVidWcgYXMgybVOYXRpdmVTY3JpcHRBbmd1bGFyRGVidWcsIHZpZXdVdGlsIGFzIMm1Vmlld1V0aWwsIGFjdGlvbkJhck1ldGEgYXMgybVhY3Rpb25CYXJNZXRhLCBlbGVtZW50TWFwIGFzIMm1ZWxlbWVudE1hcCwgaXNBY3Rpb25JdGVtIGFzIMm1aXNBY3Rpb25JdGVtLCBpc05hdmlnYXRpb25CdXR0b24gYXMgybVpc05hdmlnYXRpb25CdXR0b24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hdGl2ZXNjcmlwdC1hbmd1bGFyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJpMSIsIlZpZXciLCJMYXlvdXRCYXNlIiwiQ29udGVudFZpZXciLCJQcm94eVZpZXdDb250YWluZXIiLCJQYWdlIiwicGxhdGZvcm1OYW1lcyIsIkdyaWRMYXlvdXQiLCJBcHBsaWNhdGlvbiIsIlRyYWNlIiwiRm9ybWF0dGVkU3RyaW5nIiwiU3BhbiIsIkFic29sdXRlTGF5b3V0IiwiQWN0aXZpdHlJbmRpY2F0b3IiLCJCdXR0b24iLCJEYXRlUGlja2VyIiwiRG9ja0xheW91dCIsIkZyYW1lIiwiSHRtbFZpZXciLCJJbWFnZSIsIkxhYmVsIiwiTGlzdFBpY2tlciIsIkxpc3RWaWV3IiwiUGxhY2Vob2xkZXIiLCJQcm9ncmVzcyIsIlJlcGVhdGVyIiwiUm9vdExheW91dCIsIlNjcm9sbFZpZXciLCJTZWFyY2hCYXIiLCJTZWdtZW50ZWRCYXIiLCJTZWdtZW50ZWRCYXJJdGVtIiwiU2xpZGVyIiwiU3RhY2tMYXlvdXQiLCJGbGV4Ym94TGF5b3V0IiwiU3dpdGNoIiwiVGFiVmlldyIsIlRleHRGaWVsZCIsIlRleHRWaWV3IiwiVGltZVBpY2tlciIsIldlYlZpZXciLCJXcmFwTGF5b3V0IiwidW5zZXRWYWx1ZSIsInByb2ZpbGUiLCJhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTIiwiZ2V0Vmlld0J5SWQiLCJPYnNlcnZhYmxlIiwiQWN0aW9uSXRlbSIsIk5hdmlnYXRpb25CdXR0b24iLCJBY3Rpb25CYXIiLCJPYnNlcnZhYmxlQXJyYXkiLCJUYWJWaWV3SXRlbSIsIkNvbG9yIiwiRGV2aWNlIiwiVXRpbHMiLCJyZW1vdmVUYWdnZWRBZGRpdGlvbmFsQ1NTIiwia25vd25Gb2xkZXJzIiwiRmlsZSIsIktleWZyYW1lQW5pbWF0aW9uIiwiYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25Db252ZXJ0ZXIiLCJwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zIiwiQ1NTSGVscGVyIiwiQ3NzQW5pbWF0aW9uUHJvcGVydHkiLCJlYWNoRGVzY2VuZGFudCIsInBhdGgiLCJpMCIsIkluamVjdGlvblRva2VuIiwiSW5qZWN0IiwiQ29tcG9uZW50UmVmIiwiSW5qZWN0YWJsZSIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiT3B0aW9uYWwiLCJFbGVtZW50UmVmIiwiRGlyZWN0aXZlIiwiRXZlbnRFbWl0dGVyIiwiT3V0cHV0IiwiTmdNb2R1bGUiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJBcHBsaWNhdGlvblJlZiIsIkluamVjdG9yIiwiVmlld0NvbnRhaW5lclJlZiIsIkNvbXBvbmVudCIsIlZpZXdDaGlsZCIsIklucHV0IiwiaW5qZWN0IiwiSXRlcmFibGVEaWZmZXJzIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJmb3J3YXJkUmVmIiwiVGVtcGxhdGVSZWYiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsIkNvbnRlbnRDaGlsZCIsIkhvc3RMaXN0ZW5lciIsIkhvc3QiLCJOT19FUlJPUlNfU0NIRU1BIiwiRXJyb3JIYW5kbGVyIiwiU2tpcFNlbGYiLCLJtUlOSkVDVE9SX1NDT1BFIiwiUmVuZGVyZXJGYWN0b3J5MiIsIkFwcGxpY2F0aW9uTW9kdWxlIiwiUGxhdGZvcm1SZWYiLCJOZ01vZHVsZVJlZiIsIsm1aW50ZXJuYWxDcmVhdGVBcHBsaWNhdGlvbiIsIk5nWm9uZSIsIlNhbml0aXplciIsImNyZWF0ZVBsYXRmb3JtRmFjdG9yeSIsInBsYXRmb3JtQ29yZSIsIkNvbnRlbnRDaGlsZHJlbiIsIkluamVjdEZsYWdzIiwiQXR0cmlidXRlIiwiaXNEZXZNb2RlIiwiX19kZWNvcmF0ZSIsIl9fcGFyYW0iLCJfX21ldGFkYXRhIiwiaTEkMSIsIlhockZhY3RvcnkiLCJMb2NhdGlvblN0cmF0ZWd5IiwiQ29tbW9uTW9kdWxlIiwiVmlld3BvcnRTY3JvbGxlciIsIsm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIiLCJET0NVTUVOVCIsIlBsYXRmb3JtTG9jYXRpb24iLCJmaWx0ZXIiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsIm1hcCIsInRha2UiLCJzdGFydFdpdGgiLCJCZWhhdmlvclN1YmplY3QiLCJTdWJqZWN0IiwiZnJvbUV2ZW50IiwiZGVmZXIiLCJPYnNlcnZhYmxlJDEiLCJpMSQzIiwiRGVmYXVsdFVybFNlcmlhbGl6ZXIiLCJQUklNQVJZX09VVExFVCIsIk5hdmlnYXRpb25FbmQiLCJBY3RpdmF0ZWRSb3V0ZSIsIkNoaWxkcmVuT3V0bGV0Q29udGV4dHMiLCJSb3V0ZXJNb2R1bGUiLCJSb3V0ZVJldXNlU3RyYXRlZ3kiLCJOR19WQUxVRV9BQ0NFU1NPUiIsIkZvcm1zTW9kdWxlIiwiQW5pbWF0aW9uQnVpbGRlciIsImkxJDIiLCLJtUFuaW1hdGlvbkVuZ2luZSIsIsm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciIsIkFuaW1hdGlvbkRyaXZlciIsIsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIiwiybVBbmltYXRpb25SZW5kZXJlckZhY3RvcnkiLCLJtUJyb3dzZXJBbmltYXRpb25CdWlsZGVyIiwiSHR0cFhockJhY2tlbmQiLCJIdHRwUmVzcG9uc2UiLCJIdHRwRXJyb3JSZXNwb25zZSIsIkh0dHBDbGllbnRNb2R1bGUiLCJIdHRwQmFja2VuZCIsIl9jMCIsIl9jMSIsIl9jMiIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfbmdfY29udGVudF8wX1RlbXBsYXRlIiwicmYiLCJjdHgiLCLJtcm1cHJvamVjdGlvbiIsIklPU0ZpbHRlckNvbXBvbmVudF9uZ19jb250ZW50XzBfVGVtcGxhdGUiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudF9uZ19jb250ZW50XzBfVGVtcGxhdGUiLCJnZXRDbGFzc05hbWUiLCJpbnN0YW5jZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkludmlzaWJsZU5vZGUiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwidG9TdHJpbmciLCJpZCIsIkNvbW1lbnROb2RlIiwidmFsdWUiLCJtZXRhIiwic2tpcEFkZFRvRG9tIiwiVGV4dE5vZGUiLCJ0ZXh0Q2hhbmdlRXZlbnQiLCJ0ZXh0IiwiX3RleHQiLCJ0Iiwibm90aWZ5IiwiZXZlbnROYW1lIiwib2JqZWN0IiwiY2FsbGJhY2tNYXAiLCJNYXAiLCJyZWdpc3RlclRleHRDaGFuZ2UiLCJjYWxsYmFjayIsImNiIiwiZXZ0IiwiY2JBcnIiLCJnZXQiLCJwdXNoIiwic2V0Iiwib24iLCJ1bnJlZ2lzdGVyVGV4dENoYW5nZSIsImZvckVhY2giLCJvZmYiLCJkZWxldGUiLCJpc0RldGFjaGVkRWxlbWVudCIsImVsZW1lbnQiLCJpc1ZpZXciLCJ2aWV3IiwiaXNJbnZpc2libGVOb2RlIiwiaXNMYXlvdXQiLCJpc0NvbnRlbnRWaWV3IiwiZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyIsImV4dHJhY3RGcm9tTlNQYXJlbnQiLCJnZXRDaGlsZHJlbkNvdW50IiwiZ2V0Q2hpbGRBdCIsIm5vZGUiLCJwYXJlbnROb2RlIiwiZGV0YWNoVmlld0Zyb21QYXJlbnQiLCJwYXJlbnQiLCJyZW1vdmVDaGlsZCIsImNvbnRlbnQiLCJfcmVtb3ZlVmlldyIsIkFQUF9ST09UX1ZJRVciLCJOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQiLCJTVEFSVF9QQVRIIiwiRU5BQkxFX1JFVVNBQkVfVklFV1MiLCJESVNBQkxFX1JPT1RfVklFV19IQU5ETElORyIsIkRFVklDRSIsIlBBR0VfRkFDVE9SWSIsImRlZmF1bHRQYWdlRmFjdG9yeSIsIl9vcHRzIiwiUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIiLCJkZXZpY2UiLCJydW5zSW4iLCJuYW1lc3BhY2UiLCJuZXh0Iiwib3MiLCJhbmRyb2lkIiwiaW9zIiwiT2JqZWN0IiwiTkFNRVNQQUNFX0ZJTFRFUlMiLCJOZ1ZpZXdSZWYiLCJyZWYiLCJsb2NhdGlvbiIsIm5hdGl2ZUVsZW1lbnQiLCJyb290Tm9kZXMiLCJmaW5kIiwidiIsImZpcnN0TmF0aXZlTGlrZVZpZXciLCJkZXRhY2hOYXRpdmVMaWtlVmlldyIsIkFwcEhvc3RWaWV3IiwiYmFja2dyb3VuZENvbG9yIiwidGltZW91dCIsIm5nQXBwUm9vdCIsIl9uZ0FwcFJvb3QiLCJfY29udGVudCIsInVuZGVmaW5lZCIsImdyaWQiLCJhZGRDaGlsZCIsInNjaGVkdWxlUm9vdENoYW5nZSIsInNldFRpbWVvdXQiLCJyZXNldFJvb3RWaWV3IiwiY3JlYXRlIiwiQXBwSG9zdEFzeW5jVmlldyIsIk5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlIiwibWFpbk1vZHVsZVJlYWR5JCIsInJlYWR5VG9EZXN0cm95JCIsIm9uTWFpbk1vZHVsZVJlYWR5JCIsInBpcGUiLCJyZWFkeSIsIndhaXRVbnRpbE5vdGlmaWVkIiwibm90aWZ5UmVhZHlUb0Rlc3Ryb3kiLCJpc01haW5Nb2R1bGVSZWFkeSIsIm5nT25EZXN0cm95IiwiY29tcGxldGUiLCJfbm90aWZ5TWFpbk1vZHVsZVJlYWR5IiwiybVmYWMiLCJOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZV9GYWN0b3J5IiwiybVwcm92IiwiybXJtWRlZmluZUluamVjdGFibGUiLCJ0b2tlbiIsImZhY3RvcnkiLCJwcm92aWRlZEluIiwibmdEZXZNb2RlIiwiybVzZXRDbGFzc01ldGFkYXRhIiwidHlwZSIsImFyZ3MiLCJOYXRpdmVTY3JpcHREZWJ1ZyIsImFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5IiwicmVuZGVyZXJUcmFjZUNhdGVnb3J5Iiwidmlld1V0aWxDYXRlZ29yeSIsInJvdXRlclRyYWNlQ2F0ZWdvcnkiLCJyb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5IiwibGlzdFZpZXdUcmFjZUNhdGVnb3J5IiwiYm9vdHN0cmFwQ2F0ZWdvcnkiLCJlbmFibGVkIiwiaXNFbmFibGVkIiwiaXNMb2dFbmFibGVkIiwiYW5pbWF0aW9uc0xvZyIsIm1lc3NhZ2UiLCJ3cml0ZSIsInJlbmRlcmVyTG9nIiwibXNnIiwicmVuZGVyZXJFcnJvciIsIm1lc3NhZ2VUeXBlIiwiZXJyb3IiLCJ2aWV3VXRpbExvZyIsInJvdXRlckxvZyIsInJvdXRlckVycm9yIiwicm91dGVSZXVzZVN0cmF0ZWd5TG9nIiwic3R5bGVFcnJvciIsImNhdGVnb3JpZXMiLCJTdHlsZSIsImxpc3RWaWV3TG9nIiwibGlzdFZpZXdFcnJvciIsImJvb3RzdHJhcExvZyIsImJvb3RzdHJhcExvZ0Vycm9yIiwiTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSIsImJ1aWxkIiwiWE1MSHR0cFJlcXVlc3QiLCLJtU5hdGl2ZXNjcmlwdFhockZhY3RvcnlfQmFzZUZhY3RvcnkiLCJOYXRpdmVzY3JpcHRYaHJGYWN0b3J5X0ZhY3RvcnkiLCLJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSIsImZyYW1lTWV0YSIsImluc2VydENoaWxkIiwiY2hpbGQiLCJuYXZpZ2F0ZSIsIkVycm9yIiwiZm9ybWF0dGVkU3RyaW5nTWV0YSIsImluZGV4Iiwic3BhbnMiLCJpbmRleE9mIiwic3BsaWNlIiwidGV4dEJhc2VNZXRhIiwiZm9ybWF0dGVkVGV4dCIsImVsZW1lbnRNYXAiLCJjYW1lbENhc2VTcGxpdCIsImRlZmF1bHRWaWV3TWV0YSIsInJlZ2lzdGVyRWxlbWVudCIsImVsZW1lbnROYW1lIiwicmVzb2x2ZXIiLCJlbnRyeSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImdldFZpZXdDbGFzcyIsIlR5cGVFcnJvciIsImUiLCJnZXRWaWV3TWV0YSIsImlzS25vd25WaWV3IiwiaGFzIiwiZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUiLCJub2RlcyIsIm5lc3RMZXZlbCIsImFjdHVhbE5vZGVzIiwibGVuZ3RoIiwicm9vdExheW91dCIsImNoaWxkcmVuIiwicGFyZW50TGF5b3V0IiwiZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZSIsInJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMiLCJnbG9iYWwiLCJfX25nUmVnaXN0ZXJlZFZpZXdzIiwiaXNDc3NWYXJpYWJsZSIsInByb3BlcnR5IiwidGVzdCIsIkVMRU1FTlRfTk9ERV9UWVBFIiwiWE1MX0FUVFJJQlVURVMiLCJmcmVlemUiLCJ3aGl0ZVNwYWNlU3BsaXR0ZXIiLCJwcmludE5nVHJlZSIsImZpcnN0Q2hpbGQiLCJwcmludENoaWxkcmVuUmVjdXJzZSIsImdldENoaWxkcmVuU2libGluZ3MiLCJuZXh0U2libGluZ3MiLCJjb25zb2xlIiwibG9nIiwibGFzdENoaWxkIiwiYyIsInByZXZpb3VzU2libGluZ3MiLCJzaWJsaW5nIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJwcmludFNpYmxpbmdzVHJlZSIsInByb3BlcnR5TWFwcyIsIlZpZXdVdGlsIiwibmFtZXNwYWNlRmlsdGVycyIsInJldXNlVmlld3MiLCJwcmV2aW91cyIsImV4dGVuZGVkUGFyZW50IiwiZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyIsImV4dGVuZGVkQ2hpbGQiLCJpbnNlcnRJbkxpc3QiLCJuZXh0VmlzdWFsIiwiZmluZE5leHRWaXN1YWwiLCJhZGRUb1Zpc3VhbFRyZWUiLCJhZGRJbnZpc2libGVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwicmVmQ2hpbGQiLCJleHRlbmRlZFJlZiIsImluc2VydEFmdGVyIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRUb0xheW91dCIsIl9hZGRDaGlsZEZyb21CdWlsZGVyIiwiaW5zZXJ0SW52aXNpYmxlTm9kZSIsInJlbW92ZUxheW91dENoaWxkIiwiZ2V0Q2hpbGRJbmRleCIsInJlbW92ZUZyb21MaXN0IiwicmVtb3ZlRnJvbVZpc3VhbFRyZWUiLCJyZW1vdmVJbnZpc2libGVOb2RlIiwiZmluZFByZXZpb3VzRWxlbWVudCIsInByZXZpb3VzVmlzdWFsIiwiZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50IiwiZWxlbWVudEluZGV4IiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZVRleHQiLCJjcmVhdGVWaWV3Iiwib3JpZ2luYWxOYW1lIiwidmlld0NsYXNzIiwibmdWaWV3Iiwic2V0TmdWaWV3RXh0ZW5zaW9ucyIsInJldXNhYmxlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY3NzVHlwZSIsInR5cGVOYW1lIiwic2V0UHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lIiwicHJvcGVydGllcyIsInNwbGl0IiwicHJvcE1hcCIsImdldFByb3BlcnRpZXMiLCJpIiwicHJvcCIsInNldFByb3BlcnR5SW50ZXJuYWwiLCJwbGF0Zm9ybSIsInJ1bnMiLCJsYXN0IiwiY2hhaW4iLCJwIiwiY3VycmVudENoYWluIiwic2V0Q2xhc3NlcyIsInByb3BlcnR5TmFtZSIsIkFycmF5IiwiaXNBcnJheSIsInJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJwcm9wTmFtZSIsImNzc0NsYXNzZXMiLCJuZ0Nzc0NsYXNzZXMiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsImV4dGVuZGVkVmlldyIsInN5bmNDbGFzc2VzIiwicmVtb3ZlQ2xhc3MiLCJjbGFzc2VzVmFsdWUiLCJjbGFzc2VzIiwiY2xlYXIiLCJjbGFzc1ZhbHVlIiwiZnJvbSIsImtleXMiLCJqb2luIiwic2V0U3R5bGUiLCJzdHlsZU5hbWUiLCJzdHlsZSIsInNldFVuc2NvcGVkQ3NzVmFyaWFibGUiLCJfb25Dc3NTdGF0ZUNoYW5nZSIsInJlbW92ZVN0eWxlIiwidW5zY29wZWRDc3NWYXJpYWJsZXMiLCJ2aWV3VXRpbCIsIl9fcHJvdG9fXyIsImFkZFN0eWxlVG9Dc3MiLCJ0YWciLCJhZGRDc3MiLCJydW5JblJvb3Rab25lIiwiZm4iLCJab25lIiwicm9vdCIsInJ1biIsImluUm9vdFpvbmUiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjcmlwdG9yIiwiY2hpbGRGdW5jdGlvbiIsImJpbmQiLCJOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkiLCJyb290VmlldyIsInJvb3RNb2R1bGVJRCIsImNvbXBvbmVudFJlbmRlcmVycyIsImRlZmF1bHRSZW5kZXJlciIsIk5hdGl2ZVNjcmlwdFJlbmRlcmVyIiwiY3JlYXRlUmVuZGVyZXIiLCJob3N0RWxlbWVudCIsImVuY2Fwc3VsYXRpb24iLCJyZW5kZXJlciIsIkVtdWxhdGVkUmVuZGVyZXIiLCJhcHBseVRvSG9zdCIsIk5vbmUiLCJzdHlsZXMiLCJzIiwid2hlblJlbmRlcmluZ0RvbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImludGVydmFsIiwic2NoZWR1bGVSZXNvbHZlIiwiZmlyZVdoZW5Mb2FkZWQiLCJyb290RmFjdG9yeSIsImlzTG9hZGVkIiwib25jZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRlc3Ryb3lOb2RlIiwiZGF0YSIsImRlc3Ryb3kiLCJjcmVhdGVFbGVtZW50Iiwib2xkTmFtZSIsImN1c3RvbUNTU05hbWUiLCJuZXdDaGlsZCIsIm9sZENoaWxkIiwiaXNIb3N0RWxlbWVudCIsInNlbGVjdFJvb3RFbGVtZW50Iiwic2VsZWN0b3JPck5vZGUiLCJwcmVzZXJ2ZUNvbnRlbnQiLCJyZXN1bHQiLCJzbGljZSIsInNldEF0dHJpYnV0ZSIsImVsIiwicmVtb3ZlQXR0cmlidXRlIiwiZmxhZ3MiLCJzZXRWYWx1ZSIsImxpc3RlbiIsImxvYWRlZEV2ZW50Iiwib2JzIiwiRnVuY3Rpb24iLCJTdHJpbmciLCJwcm90b3R5cGUiLCJCb29sZWFuIiwiTnVtYmVyIiwiQ09NUE9ORU5UX1JFR0VYIiwiQVRUUl9TQU5JVElaRVIiLCJDT01QT05FTlRfVkFSSUFCTEUiLCJIT1NUX0FUVFIiLCJDT05URU5UX0FUVFIiLCJyZXBsYWNlTmdBdHRyaWJ1dGUiLCJpbnB1dCIsImNvbXBvbmVudElkIiwiYWRkU2NvcGVkU3R5bGVUb0NzcyIsImNvbXBvbmVudCIsInJvb3RNb2R1bGVJZCIsImNvbnRlbnRBdHRyIiwiaG9zdEF0dHIiLCJhZGRTdHlsZXMiLCJFbXVsYXRlZFJlbmRlcmVyX0ZhY3RvcnkiLCLJtcm1aW52YWxpZEZhY3RvcnkiLCJ0aHJvd051bGxQb3J0YWxFcnJvciIsInRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IiLCJ0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yIiwidGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yIiwidGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IiLCJ0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvciIsIlBvcnRhbCIsImF0dGFjaCIsImhvc3QiLCJoYXNBdHRhY2hlZCIsIl9hdHRhY2hlZEhvc3QiLCJkZXRhY2giLCJpc0F0dGFjaGVkIiwic2V0QXR0YWNoZWRIb3N0IiwiQ29tcG9uZW50UG9ydGFsIiwidmlld0NvbnRhaW5lclJlZiIsImluamVjdG9yIiwiY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiVGVtcGxhdGVQb3J0YWwiLCJ0ZW1wbGF0ZSIsImNvbnRleHQiLCJ0ZW1wbGF0ZVJlZiIsIm9yaWdpbiIsImVsZW1lbnRSZWYiLCJEb21Qb3J0YWwiLCJCYXNlUG9ydGFsT3V0bGV0IiwiX2lzRGlzcG9zZWQiLCJhdHRhY2hEb21Qb3J0YWwiLCJfYXR0YWNoZWRQb3J0YWwiLCJwb3J0YWwiLCJhdHRhY2hDb21wb25lbnRQb3J0YWwiLCJhdHRhY2hUZW1wbGF0ZVBvcnRhbCIsIl9pbnZva2VEaXNwb3NlRm4iLCJkaXNwb3NlIiwic2V0RGlzcG9zZUZuIiwiX2Rpc3Bvc2VGbiIsIkNka1BvcnRhbCIsIkNka1BvcnRhbF9GYWN0b3J5IiwiybXJtWRpcmVjdGl2ZUluamVjdCIsIsm1ZGlyIiwiybXJtWRlZmluZURpcmVjdGl2ZSIsInNlbGVjdG9ycyIsImV4cG9ydEFzIiwiZmVhdHVyZXMiLCLJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlIiwic2VsZWN0b3IiLCJDZGtQb3J0YWxPdXRsZXQiLCJfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiX3ZpZXdDb250YWluZXJSZWYiLCJfaXNJbml0aWFsaXplZCIsImF0dGFjaGVkIiwiYW5jaG9yTm9kZSIsIl9nZXRSb290Tm9kZSIsImF0dGFjaGVkUmVmIiwiX2F0dGFjaGVkUmVmIiwibmdPbkluaXQiLCJjb21wb25lbnRGYWN0b3J5IiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJjcmVhdGVDb21wb25lbnQiLCJob3N0VmlldyIsImVtaXQiLCJ2aWV3UmVmIiwiY3JlYXRlRW1iZWRkZWRWaWV3IiwiQ2RrUG9ydGFsT3V0bGV0X0ZhY3RvcnkiLCJSZW5kZXJlcjIiLCJpbnB1dHMiLCJvdXRwdXRzIiwiUG9ydGFsTW9kdWxlIiwiUG9ydGFsTW9kdWxlX0ZhY3RvcnkiLCLJtW1vZCIsIsm1ybVkZWZpbmVOZ01vZHVsZSIsIsm1aW5qIiwiybXJtWRlZmluZUluamVjdG9yIiwiZXhwb3J0cyIsImRlY2xhcmF0aW9ucyIsIk5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCIsIm91dGxldEVsZW1lbnQiLCJfYXBwUmVmIiwiX2RlZmF1bHRJbmplY3RvciIsIl92aWV3VXRpbCIsImNvbXBvbmVudFJlZiIsImF0dGFjaFZpZXciLCJkZXRhY2hWaWV3Iiwicm9vdE5vZGUiLCJfZ2V0Q29tcG9uZW50Um9vdE5vZGUiLCJ2aWV3Q29udGFpbmVyIiwiZGV0ZWN0Q2hhbmdlcyIsInJlbW92ZSIsIkRldGFjaGVkTG9hZGVyIiwiY2hhbmdlRGV0ZWN0b3IiLCJjb250YWluZXJSZWYiLCJhcHBSZWYiLCJkaXNwb3NlRnVuY3Rpb25zIiwiY3JlYXRlQ29tcG9uZW50UG9ydGFsIiwiY29tcG9uZW50VHlwZSIsImN1c3RvbUluamVjdG9yIiwidmMiLCJjcmVhdGVUZW1wbGF0ZVBvcnRhbCIsImxvYWRJbkFwcFJlZiIsImxvYWRJbkxvY2F0aW9uIiwibWFya0ZvckNoZWNrIiwibG9hZENvbXBvbmVudCIsImxvYWRDb21wb25lbnRTeW5jIiwibG9hZENvbXBvbmVudEluTG9jYXRpb24iLCJsb2FkV2l0aEZhY3RvcnkiLCJsb2FkV2l0aEZhY3RvcnlJbkxvY2F0aW9uIiwiRGV0YWNoZWRMb2FkZXJfRmFjdG9yeSIsIsm1Y21wIiwiybXJtWRlZmluZUNvbXBvbmVudCIsInZpZXdRdWVyeSIsIkRldGFjaGVkTG9hZGVyX1F1ZXJ5IiwiybXJtXZpZXdRdWVyeSIsIl90IiwiybXJtXF1ZXJ5UmVmcmVzaCIsIsm1ybVsb2FkUXVlcnkiLCJmaXJzdCIsIm5nQ29udGVudFNlbGVjdG9ycyIsImRlY2xzIiwidmFycyIsImNvbnN0cyIsIkRldGFjaGVkTG9hZGVyX1RlbXBsYXRlIiwiybXJtXByb2plY3Rpb25EZWYiLCLJtcm1ZWxlbWVudCIsIsm1ybVlbGVtZW50Q29udGFpbmVyIiwicmVhZCIsInN0YXRpYyIsIlBhZ2VTZXJ2aWNlIiwiaW5QYWdlIiwiX2luUGFnZSQiLCJpblBhZ2UkIiwicGFnZUV2ZW50cyQiLCJfcGFnZUV2ZW50cyQiLCJhc09ic2VydmFibGUiLCJwYWdlIiwiZWxSZWYiLCJwYWdlRXZlbnQiLCJQYWdlU2VydmljZV9GYWN0b3J5IiwiybXJtWluamVjdCIsIlZpZXdCYXNlIiwiZGVjb3JhdG9ycyIsImN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSIsImN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lIiwiRnJhbWVQYWdlQ29tcG9uZW50IiwiYWN0aW9uQmFySGlkZGVuIiwibmdPbkNoYW5nZXMiLCJjaGFuZ2VzIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIm5nQWZ0ZXJWaWV3SW5pdCIsIkZyYW1lUGFnZUNvbXBvbmVudF9GYWN0b3J5IiwiybXJtVByb3ZpZGVyc0ZlYXR1cmUiLCJwcm92aWRlIiwidXNlRmFjdG9yeSIsImRlcHMiLCLJtcm1TmdPbkNoYW5nZXNGZWF0dXJlIiwiRnJhbWVQYWdlQ29tcG9uZW50X1RlbXBsYXRlIiwicHJvdmlkZXJzIiwiY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5IiwiRnJhbWVEaXJlY3RpdmUiLCJGcmFtZURpcmVjdGl2ZV9GYWN0b3J5IiwiY3VzdG9tUGFnZUZhY3RvcnkiLCJQYWdlRGlyZWN0aXZlIiwiUGFnZURpcmVjdGl2ZV9GYWN0b3J5IiwiRnJhbWVQYWdlTW9kdWxlIiwiRnJhbWVQYWdlTW9kdWxlX0ZhY3RvcnkiLCJpc1ByZXNlbnQiLCJvYmoiLCJpc0JsYW5rIiwiaXNBY3Rpb25JdGVtIiwiaXNOYXZpZ2F0aW9uQnV0dG9uIiwiYWN0aW9uQmFyTWV0YSIsIm5hdmlnYXRpb25CdXR0b24iLCJhZGRBY3Rpb25JdGVtIiwidGl0bGVWaWV3IiwiYWN0aW9uSXRlbXMiLCJyZW1vdmVJdGVtIiwiYmFyIiwiaW5zZXJ0QWN0aW9uSXRlbUJlZm9yZSIsImFwcGVuZEFjdGlvbkl0ZW0iLCJhY3Rpb25JdGVtc0NvbGxlY3Rpb24iLCJnZXRJdGVtcyIsImluZGV4VG9JbnNlcnQiLCJzZXRJdGVtcyIsImFkZEl0ZW0iLCJBY3Rpb25CYXJDb21wb25lbnQiLCJhY3Rpb25CYXIiLCJ1cGRhdGUiLCJBY3Rpb25CYXJDb21wb25lbnRfRmFjdG9yeSIsIkFjdGlvbkJhckNvbXBvbmVudF9UZW1wbGF0ZSIsIkFjdGlvbkJhclNjb3BlIiwib25OYXZCdXR0b25Jbml0IiwibmF2QnRuIiwib25OYXZCdXR0b25EZXN0cm95IiwibmF2Iiwib25BY3Rpb25Jbml0Iiwib25BY3Rpb25EZXN0cm95IiwiQWN0aW9uQmFyU2NvcGVfRmFjdG9yeSIsIkFjdGlvbkJhclNjb3BlX1RlbXBsYXRlIiwiQWN0aW9uSXRlbURpcmVjdGl2ZSIsIm93bmVyU2NvcGUiLCJBY3Rpb25JdGVtRGlyZWN0aXZlX0ZhY3RvcnkiLCJOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlIiwiTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZV9GYWN0b3J5IiwidGhyb3dJZkFscmVhZHlMb2FkZWQiLCJwYXJlbnRNb2R1bGUiLCJtb2R1bGVOYW1lIiwid2FzQ2FsbGVkIiwid3JhcHBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiaXNMaXN0TGlrZUl0ZXJhYmxlIiwiaXNKc09iamVjdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibyIsIk5HX1ZJRVciLCJURU1QTEFURURfSVRFTVNfQ09NUE9ORU5UIiwiSXRlbUNvbnRleHQiLCIkaW1wbGljaXQiLCJldmVuIiwib2RkIiwiTnNUZW1wbGF0ZWRJdGVtIiwib25DcmVhdGUiLCJzZXR1cEl0ZW1Db250ZXh0IiwicmVzdWx0VmlldyIsImdldEl0ZW1WaWV3Um9vdCIsImdldEVtYmVkZGVkVmlld1JlZiIsInJlYXR0YWNoIiwiaXNWYWxpZCIsIm9sZFZpZXciLCJMaXN0Vmlld0NvbXBvbmVudCIsInRlbXBsYXRlZEl0ZW1zVmlldyIsIl9pdGVtcyIsIm5lZWREaWZmZXIiLCJfZGlmZmVyIiwiX2l0ZXJhYmxlRGlmZmVycyIsIl9pbmRleCIsIl9lbGVtZW50UmVmIiwiX2NoYW5nZURldGVjdG9yUmVmIiwiX3ZpZXdUb1RlbXBsYXRlIiwiV2Vha01hcCIsInNldHVwSXRlbVZpZXciLCJuZ0FmdGVyQ29udGVudEluaXQiLCJzZXRJdGVtVGVtcGxhdGVzIiwiX3RlbXBsYXRlTWFwIiwiZmFsbGJhY2tJdGVtVGVtcGxhdGUiLCJpdGVtVGVtcGxhdGVRdWVyeSIsInJlZ2lzdGVyVGVtcGxhdGUiLCJsb2FkZXIiLCJ0ZW1wbGF0ZXMiLCJpdGVtVGVtcGxhdGVzIiwib25JdGVtTG9hZGluZyIsImx2aWV3IiwiY3VycmVudEl0ZW0iLCJnZXRJdGVtIiwidGVtcGxhdGVLZXkiLCJpdGVtVGVtcGxhdGVTZWxlY3RvciIsInNldHVwVmlld1JlZiIsIm5nRG9DaGVjayIsImRpZmYiLCJyZWZyZXNoIiwiTGlzdFZpZXdDb21wb25lbnRfRmFjdG9yeSIsImNvbnRlbnRRdWVyaWVzIiwiTGlzdFZpZXdDb21wb25lbnRfQ29udGVudFF1ZXJpZXMiLCJkaXJJbmRleCIsIsm1ybVjb250ZW50UXVlcnkiLCJMaXN0Vmlld0NvbXBvbmVudF9RdWVyeSIsImhvc3RCaW5kaW5ncyIsIkxpc3RWaWV3Q29tcG9uZW50X0hvc3RCaW5kaW5ncyIsIsm1ybVsaXN0ZW5lciIsIkxpc3RWaWV3Q29tcG9uZW50X2l0ZW1Mb2FkaW5nX0hvc3RCaW5kaW5nSGFuZGxlciIsIiRldmVudCIsInVzZUV4aXN0aW5nIiwiTGlzdFZpZXdDb21wb25lbnRfVGVtcGxhdGUiLCLJtcm1ZWxlbWVudFN0YXJ0IiwiybXJtWVsZW1lbnRFbmQiLCJjaGFuZ2VEZXRlY3Rpb24iLCJPblB1c2giLCJyb290TG9jYXRvciIsIlRlbXBsYXRlS2V5RGlyZWN0aXZlIiwiY29tcCIsIm5zVGVtcGxhdGVLZXkiLCJuc1RlbXBsYXRlS2V5cyIsInZhbHVlcyIsIlRlbXBsYXRlS2V5RGlyZWN0aXZlX0ZhY3RvcnkiLCJGcmFtZVNlcnZpY2UiLCJnZXRGcmFtZSIsInRvcG1vc3QiLCJGcmFtZVNlcnZpY2VfRmFjdG9yeSIsIk91dGxldCIsImlzUGFnZU5hdmlnYXRpb25CYWNrIiwiX25hdmlnYXRpbmdCYWNrT3V0bGV0cyIsInNpemUiLCJpc0JhY2siLCJvdXRsZXRLZXlzIiwiYWRkIiwib3V0bGV0S2V5IiwicGF0aEJ5T3V0bGV0cyIsIm1vZGFsTmF2aWdhdGlvbkRlcHRoIiwiU2V0IiwiZnJhbWVzIiwic3RhdGVzIiwic2hvdWxkRGV0YWNoIiwic2hvd2luZ01vZGFsIiwic2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2siLCJuZXN0cyIsImsiLCJjb250YWluc0ZyYW1lIiwiZnJhbWUiLCJwZWVrU3RhdGUiLCJjb250YWluc1RvcFN0YXRlIiwic3RhdGVVcmwiLCJsYXN0U3RhdGUiLCJzZWdtZW50R3JvdXAiLCJnZXRGcmFtZVRvQmFjayIsImlzTlNFbXB0eU91dGxldCIsImN1cnJlbnRGcmFtZSIsImNhbkdvQmFjayIsImRlZmF1bHROYXZPcHRpb25zIiwiY2xlYXJIaXN0b3J5IiwiYW5pbWF0ZWQiLCJOU0xvY2F0aW9uU3RyYXRlZ3kiLCJmcmFtZVNlcnZpY2UiLCJzdGFydFBhdGgiLCJvdXRsZXRzIiwicG9wU3RhdGVDYWxsYmFja3MiLCJfbW9kYWxOYXZpZ2F0aW9uRGVwdGgiLCJnZXRTdGF0ZSIsImN1cnJlbnRPdXRsZXQiLCJjdXJyZW50VXJsVHJlZSIsInN0YXRlIiwidHJlZSIsImNoYW5nZWRPdXRsZXQiLCJnZXRTZWdtZW50R3JvdXBCeU91dGxldCIsImlzUm9vdFNlZ21lbnRHcm91cCIsInVwZGF0ZVNlZ21lbnRHcm91cCIsInVybFNlcmlhbGl6ZXIiLCJxdWVyeVBhcmFtcyIsInVybCIsInNlcmlhbGl6ZSIsInByZXBhcmVFeHRlcm5hbFVybCIsImludGVybmFsIiwicHVzaFN0YXRlIiwidGl0bGUiLCJwdXNoU3RhdGVJbnRlcm5hbCIsInBhcnNlIiwidXJsVHJlZVJvb3QiLCJnZXRPdXRsZXRLZXkiLCJnZXRTZWdtZW50R3JvdXBGdWxsUGF0aCIsIm91dGxldCIsImZpbmRPdXRsZXQiLCJ1cGRhdGVTdGF0ZXMiLCJyb290T3V0bGV0IiwiY3JlYXRlT3V0bGV0IiwicXVldWUiLCJjdXJyZW50VHJlZSIsIm91dGxldE5hbWUiLCJjdXJyZW50U2VnbWVudEdyb3VwIiwib3V0bGV0UGF0aCIsInBhcmVudE91dGxldE5hbWUiLCJwYXJlbnRPdXRsZXRQYXRoIiwicGFyZW50T3V0bGV0S2V5IiwicGFyZW50T3V0bGV0IiwiY29udGFpbnNMYXN0U3RhdGUiLCJ1cHNlcnRNb2RhbE91dGxldCIsInNoaWZ0IiwicmVwbGFjZVN0YXRlIiwiZm9yd2FyZCIsImJhY2siLCJwb3AiLCJjb3VudCIsImlzUGFnZU5hdmlnYXRpb24iLCJjYWxsUG9wU3RhdGUiLCJ0b3Btb3N0RnJhbWUiLCJnZXRPdXRsZXRCeUZyYW1lIiwiZnJhbWVUb0JhY2siLCJnb0JhY2siLCJvblBvcFN0YXRlIiwiZ2V0QmFzZUhyZWYiLCJjaGFuZ2UiLCJvdXRsZXRTdGF0ZXMiLCJvdXRsZXRMb2ciLCJyZXZlcnNlIiwiY29uY2F0IiwiX2JlZ2luQmFja1BhZ2VOYXZpZ2F0aW9uIiwiX2ZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbiIsIl9iZWdpbk1vZGFsTmF2aWdhdGlvbiIsIl9jbG9zZU1vZGFsTmF2aWdhdGlvbiIsImlzU2hvd2luZ01vZGFsIiwidG9wbW9zdE91dGxldCIsImZpbmRPdXRsZXRCeU1vZGFsIiwiX2JlZ2luUGFnZU5hdmlnYXRpb24iLCJvcHRpb25zIiwibmF2T3B0aW9ucyIsIl9nZXRPdXRsZXRzIiwidXBkYXRlT3V0bGV0RnJhbWUiLCJpc0VtcHR5T3V0bGV0RnJhbWUiLCJjbGVhck91dGxldCIsImlzRXF1YWxUb0N1cnJlbnQiLCJmdWxsUGF0aCIsImdldFJvdXRlRnVsbFBhdGgiLCJjdXJyZW50Um91dGUiLCJ1cmxzIiwiZ2V0UGF0aEJ5T3V0bGV0cyIsInVybFNlZ21lbnRHcm91cCIsInBhdGhUb091dGxldCIsImxhc3RQYXRoIiwiYWN0aXZhdGVkUm91dGVTbmFwc2hvdCIsImVxdWFsTW9kYWxEZXB0aCIsIm1vZGFsTmF2aWdhdGlvbiIsImlzTmV3UGFnZSIsImVxdWFsU3RhdGVVcmxzIiwibG9jYXRpb25TdGF0ZSIsInVwZGF0ZVBhcmVudHNTdGF0ZXMiLCJuZXdTZWdtZW50R3JvdXAiLCJuZXdPdXRsZXQiLCJwYXRoTGlzdCIsImN1cnJlbnRQYXRoIiwiY2hpbGRyZW5Db3VudCIsIm9sZFNlZ21lbnRHcm91cCIsInNlZ21lbnRlZEdyb3VwIiwiY3VycmVudE1vZGFsT3V0bGV0IiwiTlNMb2NhdGlvblN0cmF0ZWd5X0ZhY3RvcnkiLCJNb2RhbERpYWxvZ1BhcmFtcyIsImNsb3NlQ2FsbGJhY2siLCJNb2RhbERpYWxvZ1NlcnZpY2UiLCJ6b25lIiwiZGVmYXVsdEluamVjdG9yIiwiY2xvc2VkJCIsIl9jbG9zZWQkIiwic2hvd01vZGFsIiwicGFyZW50VmlldyIsImdldFJvb3RWaWV3IiwiX25nRGlhbG9nUm9vdCIsImNvbXBvbmVudEluamVjdG9yIiwibW9kdWxlUmVmIiwicmVqZWN0IiwiX3Nob3dEaWFsb2ciLCJkb25lQ2FsbGJhY2siLCJlcnIiLCJfdGhpcyIsImNvbXBvbmVudFZpZXdSZWYiLCJkZXRhY2hlZExvYWRlclJlZiIsInBvcnRhbE91dGxldCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiY2xvc2VNb2RhbCIsInBhcmFtcyIsIm9wZW5lZE1vZGFsUGFyYW1zIiwibW9kYWxQYXJhbXMiLCJjaGlsZEluamVjdG9yIiwidXNlVmFsdWUiLCJ0YXJnZXRWaWV3IiwiY2hhbmdlRGV0ZWN0b3JSZWYiLCJ1c2VDb250ZXh0QXNDb21wb25lbnRQcm9wcyIsIk1vZGFsRGlhbG9nU2VydmljZV9GYWN0b3J5IiwiTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQiLCJydW5BZnRlckV2ZW50IiwiZXZlbnQiLCJwcm9wZXJ0eUtleSIsImdldE5nU2FmZSIsImRlZmF1bHROZ1NhZmUiLCJldmVudHMiLCJydW5CZWZvcmUiLCJkb25lIiwiYnVmZmVyIiwib3JpZ2luYWxEZWxlZ2F0ZSIsImFsd2F5c1J1bkJlZm9yZSIsIm9sZEZuIiwic2hvdWxkUHVzaCIsIm9ubHlGaXJzdCIsIm9ubHlMYXN0IiwiVGFiVmlld0RpcmVjdGl2ZSIsInNlbGVjdGVkSW5kZXgiLCJfc2VsZWN0ZWRJbmRleCIsInZpZXdJbml0aWFsaXplZCIsInRhYlZpZXciLCJUYWJWaWV3RGlyZWN0aXZlX0ZhY3RvcnkiLCJUYWJWaWV3SXRlbURpcmVjdGl2ZSIsIm93bmVyIiwiY29uZmlnIiwiX2NvbmZpZyIsImljb25Tb3VyY2UiLCJ0ZXh0VHJhbnNmb3JtIiwiYXBwbHlDb25maWciLCJhc3NpZ24iLCJlbnN1cmVJdGVtIiwicmVhbFZpZXdzIiwibmV3SXRlbXMiLCJUYWJWaWV3SXRlbURpcmVjdGl2ZV9GYWN0b3J5IiwiQW5kcm9pZEZpbHRlckNvbXBvbmVudCIsInNob3ciLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50X0ZhY3RvcnkiLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50X1RlbXBsYXRlIiwiybXJtXRlbXBsYXRlIiwiybXJtXByb3BlcnR5IiwiZGVwZW5kZW5jaWVzIiwiTmdJZiIsIklPU0ZpbHRlckNvbXBvbmVudCIsIklPU0ZpbHRlckNvbXBvbmVudF9GYWN0b3J5IiwiSU9TRmlsdGVyQ29tcG9uZW50X1RlbXBsYXRlIiwiVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQiLCJ2aXNpb25vcyIsIlZpc2lvbk9TRmlsdGVyQ29tcG9uZW50X0ZhY3RvcnkiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudF9UZW1wbGF0ZSIsIkNES19DT01QT05FTlRTIiwiTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlIiwiTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlX0ZhY3RvcnkiLCJpbXBvcnRzIiwic2NoZW1hcyIsImdlbmVyYXRlRmFsbGJhY2tSb290VmlldyIsInBhcmVudFJvb3RWaWV3IiwiZXJyb3JIYW5kbGVyIiwiZ2VuZXJhdGVSYW5kb21JZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwic3Vic3RyIiwiTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTIiwidXNlQ2xhc3MiLCJtdWx0aSIsIk5BVElWRVNDUklQVF9NT0RVTEVfUFJPVklERVJTIiwiTmF0aXZlU2NyaXB0TW9kdWxlIiwiTmF0aXZlU2NyaXB0TW9kdWxlX0ZhY3RvcnkiLCJkaXNhYmxlUm9vdFZpZXdIYW5kaW5nIiwiX19kaXNhYmxlX3Jvb3Rfdmlld19oYW5kbGluZyIsInByZUFuZ3VsYXJEaXNwb3NhbCQiLCJwb3N0QW5ndWxhckJvb3RzdHJhcCQiLCJvbkJlZm9yZUxpdmVzeW5jIiwibW9kdWxlVHlwZSIsInJlYXNvbiIsInJlZmVyZW5jZSIsIm9uQWZ0ZXJMaXZlc3luYyIsImltcG9ydCIsImRlY2xpbmUiLCJfX29uTGl2ZVN5bmNDb3JlIiwiZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50IiwiZGVzdHJveVJlZiIsInJ1blpvbmVTeW5jVGFzayIsImN1cnJlbnQiLCJ0YXNrIiwic2NoZWR1bGVFdmVudFRhc2siLCJpbnZva2UiLCJjYW5jZWxUYXNrIiwiWm9uZUNhbldvcmtTeW5jIiwiY2FuUnVuU3luYyIsInRoZW4iLCJuYXRpdmVRdWV1ZUNhbkJlRHJhaW5lZCIsIm1ha2VUZXN0RHJhaW4iLCJfX2RyYWluTWljcm90YXNrUXVldWUiLCJydW5TeW5jaHJvbm91c2x5IiwicXVldWVNYWNyb3Rhc2siLCJjcmVhdGVQcm92aWRlcnNDb25maWciLCJhcHBQcm92aWRlcnMiLCJib290c3RyYXBBcHBsaWNhdGlvbiIsInJvb3RDb21wb25lbnQiLCJydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIiwibWFpbk1vZHVsZVJlZiIsImxvYWRpbmdNb2R1bGVSZWYiLCJwbGF0Zm9ybVJlZiIsImJvb3RzdHJhcElkIiwidXBkYXRlUGxhdGZvcm1SZWYiLCJuZXdQbGF0Zm9ybVJlZiIsIm9uRGVzdHJveSIsImxhdW5jaEV2ZW50RG9uZSIsInRhcmdldFJvb3RWaWV3Iiwic2V0Um9vdFZpZXciLCJfY2xvc2VBbGxNb2RhbFZpZXdzSW50ZXJuYWwiLCJlbWJlZGRlZCIsIm5ld1Jvb3QiLCJzaG93RXJyb3JVSSIsInN0YWNrIiwiZXJyb3JUZXh0Qm94IiwiY29sb3IiLCJib290c3RyYXBSb290IiwiY3VycmVudEJvb3RzdHJhcElkIiwiYm9vdHN0cmFwcGVkIiwib25NYWluQm9vdHN0cmFwIiwiYXBwTW9kdWxlQm9vdHN0cmFwIiwiY29tcG9uZW50cyIsInN0eWxlVGFnIiwibG9hZGluZ01vZHVsZSIsImxvYWRpbmdSZWYiLCJsb2FkaW5nU2VydmljZSIsInN1YnNjcmliZSIsImxhdW5jaFZpZXciLCJzdGFydEFuaW1hdGlvbiIsImNsZWFudXAiLCJjYXRjaCIsIndhcm4iLCJkaXNwb3NlUGxhdGZvcm0iLCJkaXNwb3NlTGFzdE1vZHVsZXMiLCJsYXVuY2hDYWxsYmFjayIsImV4aXRDYWxsYmFjayIsIm9sZEFkZEV2ZW50TGlzdGVuZXIiLCJOYXRpdmVTY3JpcHRHbG9iYWxzIiwiX19zeW1ib2xfXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYXVuY2hFdmVudCIsImV4aXRFdmVudCIsInNob3VsZERpc3Bvc2VQbGF0Zm9ybSIsImhhc0xhdW5jaGVkIiwiTmF0aXZlU2NyaXB0UGxhdGZvcm1SZWZQcm94eSIsImJvb3RzdHJhcE1vZHVsZUZhY3RvcnkiLCJtb2R1bGVGYWN0b3J5IiwiYm9vdHN0cmFwTW9kdWxlIiwiY29tcGlsZXJPcHRpb25zIiwiZGVzdHJveWVkIiwiZGVmYXVsdFBhZ2VGYWN0b3J5UHJvdmlkZXIiLCJOYXRpdmVTY3JpcHRTYW5pdGl6ZXIiLCJzYW5pdGl6ZSIsIl9jb250ZXh0IiwiTmF0aXZlU2NyaXB0RG9jdW1lbnQiLCJib2R5IiwiaXNPdmVycmlkZSIsIkNPTU1PTl9QUk9WSURFUlMiLCJwbGF0Zm9ybU5hdGl2ZVNjcmlwdCIsInBsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyIsImV4dHJhUHJvdmlkZXJzIiwibmdSb290VmlldyIsImFzeW5jIiwiUm9vdFZpZXdQcm94eSIsInBhcmVudFJvb3RMYXlvdXQiLCJfYWRkVmlldyIsImF0SW5kZXgiLCJnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSIsInZpZXdQcm94eSIsIlJvb3RDb21wb3NpdGVNb2R1bGUiLCJSb290Q29tcG9zaXRlTW9kdWxlX0ZhY3RvcnkiLCJOYXRpdmVEaWFsb2dDb25maWciLCJoYXNCYWNrZHJvcCIsImRpc2FibGVDbG9zZSIsImNsb3NlT25OYXZpZ2F0aW9uIiwibmF0aXZlT3B0aW9ucyIsInVuaXF1ZUlkIiwiTmF0aXZlRGlhbG9nUmVmIiwiX25hdGl2ZU1vZGFsUmVmIiwiX2FmdGVyT3BlbmVkIiwiX2FmdGVyQ2xvc2VkIiwiX2JlZm9yZUNsb3NlZCIsIl9zdGF0ZSIsIl9pZCIsInN0YXRlQ2hhbmdlZCIsImNsZWFyVGltZW91dCIsIl9jbG9zZUZhbGxiYWNrVGltZW91dCIsIl9maW5pc2hEaWFsb2dDbG9zZSIsIl9yZXN1bHQiLCJvbkRpc21pc3MiLCJjb21wb25lbnRJbnN0YW5jZSIsImNsb3NlIiwiZGlhbG9nUmVzdWx0IiwiX3N0YXJ0RXhpdEFuaW1hdGlvbiIsImFmdGVyT3BlbmVkIiwiYWZ0ZXJDbG9zZWQiLCJiZWZvcmVDbG9zZWQiLCJiYWNrZHJvcENsaWNrIiwiYWRkUGFuZWxDbGFzcyIsInJlbW92ZVBhbmVsQ2xhc3MiLCJOYXRpdmVNb2RhbFJlZiIsIl9pbmplY3RvciIsIl90aGlzMiIsIl9pc0Rpc21pc3NlZCIsIl9tb2RhbCIsIl9jbG9zZUNhbGxiYWNrIiwibW9kYWxWaWV3UmVmIiwiX2dlbmVyYXRlRGV0YWNoZWRDb250YWluZXIiLCJ2Y1JlZiIsImRldGFjaGVkRmFjdG9yeSIsIl90aGlzMyIsInN0YXJ0TW9kYWxOYXZpZ2F0aW9uIiwidXNlck9wdGlvbnMiLCJfcmVmMyIsImNhbmNlbGFibGUiLCJfdGhpczQiLCJfcmVmNCIsIk5BVElWRV9ESUFMT0dfREFUQSIsIk5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TIiwiX05hdGl2ZURpYWxvZ0Jhc2UiLCJvcGVuRGlhbG9ncyIsIl9wYXJlbnREaWFsb2ciLCJfb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCIsIl9hZnRlck9wZW5lZEF0VGhpc0xldmVsIiwiX2dldEFmdGVyQWxsQ2xvc2VkIiwiX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWwiLCJfZGVmYXVsdE9wdGlvbnMiLCJfZGlhbG9nUmVmQ29uc3RydWN0b3IiLCJfbmF0aXZlTW9kYWxUeXBlIiwiX2RpYWxvZ0RhdGFUb2tlbiIsImxvY2F0aW9uU3RyYXRlZ3kiLCJhZnRlckFsbENsb3NlZCIsIm9wZW4iLCJjb21wb25lbnRPclRlbXBsYXRlUmVmIiwiX2FwcGx5Q29uZmlnRGVmYXVsdHMiLCJnZXREaWFsb2dCeUlkIiwiZGlhbG9nUmVmIiwiX2F0dGFjaERpYWxvZ0NvbnRlbnQiLCJfcmVtb3ZlT3BlbkRpYWxvZyIsImNsb3NlQWxsIiwiX2Nsb3NlRGlhbG9ncyIsImRpYWxvZyIsIm5hdGl2ZU1vZGFsUmVmIiwiX2NyZWF0ZUluamVjdG9yIiwiY29udGVudFJlZiIsInVzZXJJbmplY3RvciIsImRpYWxvZ3MiLCJfTmF0aXZlRGlhbG9nQmFzZV9GYWN0b3J5IiwiVHlwZSIsIk5hdGl2ZURpYWxvZ1NlcnZpY2UiLCJkZWZhdWx0T3B0aW9ucyIsInBhcmVudERpYWxvZyIsIk5hdGl2ZURpYWxvZ1NlcnZpY2VfRmFjdG9yeSIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlIiwiX2RpYWxvZyIsImdldENsb3Nlc3REaWFsb2ciLCJwcm94aWVkQ2hhbmdlIiwiX29uQnV0dG9uQ2xpY2siLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV9GYWN0b3J5IiwiTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVfSG9zdEJpbmRpbmdzIiwiTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmVfdGFwX0hvc3RCaW5kaW5nSGFuZGxlciIsIl9tYXREaWFsb2dDbG9zZSIsIk5hdGl2ZURpYWxvZ01vZHVsZSIsIk5hdGl2ZURpYWxvZ01vZHVsZV9GYWN0b3J5IiwiTlNGaWxlU3lzdGVtIiwiY3VycmVudEFwcCIsImZpbGVGcm9tUGF0aCIsImZyb21QYXRoIiwiZmlsZUV4aXN0cyIsImV4aXN0cyIsIk5TRmlsZVN5c3RlbV9GYWN0b3J5IiwiZ2VuZXJhdGVEZXRhY2hlZExvYWRlciIsImdlbmVyYXRlTmF0aXZlU2NyaXB0VmlldyIsInR5cGVPclRlbXBsYXRlIiwicmV1c2luZ0RldGFjaGVkTG9hZGVyIiwia2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCIsIkJhc2VWYWx1ZUFjY2Vzc29yIiwicGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiIsIm9uQ2hhbmdlIiwib25Ub3VjaGVkIiwicmVnaXN0ZXJPbkNoYW5nZSIsImFyZyIsInJlZ2lzdGVyT25Ub3VjaGVkIiwic2V0RGlzYWJsZWRTdGF0ZSIsImlzRGlzYWJsZWQiLCJ3cml0ZVZhbHVlIiwiXyIsIm5vcm1hbGl6ZVZhbHVlIiwiVEVYVF9WQUxVRV9BQ0NFU1NPUiIsIlRleHRWYWx1ZUFjY2Vzc29yIiwibm9ybWFsaXplZCIsIlRleHRWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJUZXh0VmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJUZXh0VmFsdWVBY2Nlc3Nvcl9ibHVyX0hvc3RCaW5kaW5nSGFuZGxlciIsIlRleHRWYWx1ZUFjY2Vzc29yX3RleHRDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUiIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yIiwiY2hlY2tlZCIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJDaGVja2VkVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJDaGVja2VkVmFsdWVBY2Nlc3Nvcl9jaGVja2VkQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIkRBVEVfVkFMVUVfQUNDRVNTT1IiLCJEYXRlVmFsdWVBY2Nlc3NvciIsImRhdGUiLCJEYXRlVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiRGF0ZVZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiRGF0ZVZhbHVlQWNjZXNzb3JfZGF0ZUNoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJUSU1FX1ZBTFVFX0FDQ0VTU09SIiwiVGltZVZhbHVlQWNjZXNzb3IiLCJ0aW1lIiwiVGltZVZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIlRpbWVWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIlRpbWVWYWx1ZUFjY2Vzc29yX3RpbWVDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiTlVNQkVSX1ZBTFVFX0FDQ0VTU09SIiwiTnVtYmVyVmFsdWVBY2Nlc3NvciIsIk51bWJlclZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIk51bWJlclZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiTnVtYmVyVmFsdWVBY2Nlc3Nvcl92YWx1ZUNoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUiIsIlNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yIiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIlNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIlNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yX3NlbGVjdGVkSW5kZXhDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiTmF0aXZlU2NyaXB0Rm9ybXNNb2R1bGUiLCJOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZV9GYWN0b3J5IiwiREFTSF9DQVNFX1JFR0VYUCIsImRhc2hDYXNlVG9DYW1lbENhc2UiLCJtIiwidG9VcHBlckNhc2UiLCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbiIsImR1cmF0aW9uIiwiZGVsYXkiLCJlYXNpbmciLCJpbmZvIiwiY3JlYXRlS2V5ZnJhbWVBbmltYXRpb25JbmZvIiwia2V5ZnJhbWVBbmltYXRpb25Gcm9tSW5mbyIsImlzRm9yd2FyZHMiLCJjdXJ2ZSIsImdldEN1cnZlIiwia2V5ZnJhbWVzIiwicGFyc2VBbmltYXRpb25LZXlmcmFtZSIsImdldEtleWZyYW1lRHVyYXRpb24iLCJnZXREZWNsYXJhdGlvbnMiLCJvZmZzZXQiLCJ1bnBhcnNlZERlY2xhcmF0aW9ucyIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllciIsInBhcmVudFBsYXllciIsIl9zdGFydFN1YnNjcmlwdGlvbnMiLCJfZG9uZVN1YnNjcmlwdGlvbnMiLCJfZmluaXNoZWQiLCJfc3RhcnRlZCIsImluaXRLZXlmcmFtZUFuaW1hdGlvbiIsInRvdGFsVGltZSIsImluaXQiLCJoYXNTdGFydGVkIiwib25TdGFydCIsIm9uRG9uZSIsInBsYXkiLCJhbmltYXRpb24iLCJwbGF5QW5pbWF0aW9uIiwib25UYXJnZXRMb2FkZWQiLCJvbkZpbmlzaCIsIl9lIiwicGF1c2UiLCJmaW5pc2giLCJyZXNldCIsImlzUGxheWluZyIsImNhbmNlbCIsInJlc3RhcnQiLCJzZXRQb3NpdGlvbiIsIl9wIiwiZ2V0UG9zaXRpb24iLCJTZWxlY3RvciIsInJhd1NlbGVjdG9yIiwibWF0Y2giLCJuc1NlbGVjdG9yTWF0Y2giLCJjbGFzc1NlbGVjdG9yc01hdGNoIiwidHJpbSIsIm5zU2VsZWN0b3JzIiwiY3JlYXRlU2VsZWN0b3IiLCJjbGFzc1NlbGVjdG9ycyIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJzb21lIiwiaGFzQ2xhc3MiLCJjbHMiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIiLCJ2YWxpZFByb3BlcnRpZXMiLCJfZ2V0UHJvcGVydHlOYW1lcyIsImdldFBhcmVudEVsZW1lbnQiLCJ2YWxpZGF0ZVN0eWxlUHJvcGVydHkiLCJtYXRjaGVzRWxlbWVudCIsIm1ha2VTZWxlY3RvciIsImNvbnRhaW5zRWxlbWVudCIsImVsbTEiLCJlbG0yIiwib3JpZ2luYWxWaWV3IiwidmlzaXREZXNjZW5kYW50cyIsInZpZXdNYXRjaGVzIiwiZm91bmQiLCJxdWVyeSIsInF1ZXJ5RGVzY2VuZGFudHMiLCJtYXRjaGVzIiwiY29tcHV0ZVN0eWxlIiwiY2FtZWxDYXNlUHJvcCIsImFuaW1hdGUiLCJjYlBhcmFtcyIsImVhY2hDaGlsZCIsIkluamVjdGFibGVBbmltYXRpb25FbmdpbmUiLCJkb2MiLCJkcml2ZXIiLCJub3JtYWxpemVyIiwiSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZV9GYWN0b3J5IiwiaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIiLCJpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSIsImVuZ2luZSIsImluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlX0ZhY3RvcnkiLCJpc0xvY2FsUmVxdWVzdCIsImdldEFic29sdXRlUGF0aCIsIm5zRmlsZVN5c3RlbSIsInByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0Iiwic3VjY2Vzc1Jlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsIm9ic2VydmVyIiwibG9jYWxGaWxlIiwicmVhZFRleHQiLCJqc29uIiwiSlNPTiIsImVycm9yUmVzdWx0IiwiTnNIdHRwQmFja0VuZCIsInhockZhY3RvcnkiLCJoYW5kbGUiLCJyZXEiLCJoYW5kbGVMb2NhbEZpbGVSZXF1ZXN0IiwiY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsIk5zSHR0cEJhY2tFbmRfRmFjdG9yeSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlIiwiTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZV9GYWN0b3J5IiwiZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCIsImFjdGl2YXRlZFJvdXRlIiwicGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbCIsImxvYWRlclJlZlN5bWJvbCIsImRlc3Ryb3lDb21wb25lbnRSZWYiLCJsb2FkZXJSZWYiLCJnZXRTbmFwc2hvdEtleSIsInNuYXBzaG90IiwicGF0aEZyb21Sb290IiwiRGV0YWNoZWRTdGF0ZUNhY2hlIiwiY2FjaGUiLCJjYWNoZUl0ZW0iLCJwZWVrIiwibWFya0N1cnJlbnRGb3JDbGVhciIsIm1hcmtlZEZvckRlbGV0aW9uIiwiY2xlYXJNYXJrZWQiLCJjbGVhck1vZGFsQ2FjaGUiLCJyZW1vdmVkSXRlbXNDb3VudCIsImhhc01vZGFsUGFnZXMiLCJpc01vZGFsIiwibW9kYWxDYWNoZUNsZWFyZWQiLCJOU1JvdXRlUmV1c2VTdHJhdGVneSIsImNhY2hlQnlPdXRsZXQiLCJyb3V0ZSIsImZpbmRWYWxpZE91dGxldEFuZEtleSIsImlzUGFnZUFjdGl2YXRlZCIsInRtcCIsInRhcmdldFJvdXRlIiwicm91dGVPdXRsZXRLZXkiLCJpbmNsdWRlcyIsInNob3VsZEF0dGFjaCIsInN0b3JlIiwidG9wSXRlbSIsInJldHJpZXZlIiwiY2FjaGVkSXRlbSIsInNob3VsZFJldXNlUm91dGUiLCJmdXR1cmUiLCJjdXJyIiwic2hvdWxkUmV1c2UiLCJyb3V0ZUNvbmZpZyIsImNsZWFyQ2FjaGUiLCJtYXJrQ2FjaGVGb3JDbGVhciIsInBvcENhY2hlIiwibWFya0NhY2hlRm9yUG9wIiwiY2xlYXJNYXJrZWRDYWNoZSIsIk5TUm91dGVSZXVzZVN0cmF0ZWd5X0ZhY3RvcnkiLCJSb3V0ZXJFeHRlbnNpb25zIiwicm91dGVyIiwiY29tbWFuZHMiLCJleHRyYXMiLCJuYXZpZ2F0ZUJ5VXJsIiwiYmFja05hdmlnYXRpb25PcHRpb25zIiwiYmFja091dGxldHMiLCJvdXRsZXRzVG9CYWNrIiwiZmluZE91dGxldHNUb0JhY2siLCJvdXRsZXRUb0JhY2siLCJiYWNrVG9QcmV2aW91c1BhZ2UiLCJjYW5Hb0JhY2tUb1ByZXZpb3VzUGFnZSIsInJvb3RSb3V0ZSIsInJvdXRlclN0YXRlIiwicmVsYXRpdmVSb3V0ZSIsInJlbGF0aXZlVG8iLCJyZWxhdGl2ZVJvdXRlT3V0bGV0IiwiZmluZE91dGxldEJ5Um91dGUiLCJmaW5kT3V0bGV0c1JlY3Vyc2l2ZSIsImN1cnJlbnRSb3V0ZVNuYXBzaG9wIiwiUm91dGVyRXh0ZW5zaW9uc19GYWN0b3J5IiwiUm91dGVyIiwiTlNSb3V0ZXJMaW5rIiwibmdab25lIiwibmF2aWdhdG9yIiwicGFnZVRyYW5zaXRpb24iLCJvblRhcCIsInN0cmluZ2lmeSIsInBhZ2VUcmFuc2l0aW9uRHVyYXRpb24iLCJnZXRFeHRyYXMiLCJmcmFnbWVudCIsInF1ZXJ5UGFyYW1zSGFuZGxpbmciLCJwcmVzZXJ2ZUZyYWdtZW50IiwiYXR0ckJvb2xWYWx1ZSIsInRyYW5zaXRpb24iLCJnZXRUcmFuc2l0aW9uIiwic2tpcExvY2F0aW9uQ2hhbmdlIiwicmVwbGFjZVVybCIsImNvbnZlcnRDbGVhckhpc3RvcnkiLCJ1cmxUcmVlIiwiY3JlYXRlVXJsVHJlZSIsImlzTmFOIiwiTlNSb3V0ZXJMaW5rX0ZhY3RvcnkiLCJwcmVzZXJ2ZVF1ZXJ5UGFyYW1zIiwiY29udGFpbnNUcmVlIiwiY29udGFpbmVyIiwiY29udGFpbmVlIiwiZXhhY3QiLCJlcXVhbFNlZ21lbnRHcm91cHMiLCJjb250YWluc1NlZ21lbnRHcm91cCIsImVxdWFsUGF0aCIsInNlZ21lbnRzIiwibnVtYmVyT2ZDaGlsZHJlbiIsImNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyIiwiY29udGFpbmVlUGF0aHMiLCJoYXNDaGlsZHJlbiIsImEiLCJiIiwiTlNSb3V0ZXJMaW5rQWN0aXZlIiwiYWN0aXZlIiwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucyIsInN1YnNjcmlwdGlvbiIsImlzQWN0aXZlIiwibGlua3MiLCJuc1JvdXRlckxpbmtBY3RpdmUiLCJ1bnN1YnNjcmliZSIsImhhc0FjdGl2ZUxpbmtzIiwicGFyc2VVcmwiLCJpc0FjdGl2ZUxpbmtzIiwicmVkdWNlTGlzdCIsInEiLCJyZWR1Y2UiLCJyZXMiLCJsaW5rIiwiaXNMaW5rQWN0aXZlIiwiTlNSb3V0ZXJMaW5rQWN0aXZlX0ZhY3RvcnkiLCJOU1JvdXRlckxpbmtBY3RpdmVfQ29udGVudFF1ZXJpZXMiLCJQYWdlUm91dGUiLCJzdGFydFJvdXRlIiwiaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJjYWxsYWJsZU9uY2UiLCJjYWxsZWQiLCJEZXN0cnVjdGlibGVJbmplY3RvciIsImRlc3RydWN0aWJsZVByb3ZpZGVycyIsInJlZnMiLCJub3RGb3VuZFZhbHVlIiwic2tpcFNlbGYiLCJyb3V0ZVRvU3RyaW5nIiwiUGFnZVJvdXRlck91dGxldCIsImxvY2F0aW9uSW5qZWN0b3IiLCJsb2NhdGlvbkZhY3RvcnlSZXNvbHZlciIsImlzQWN0aXZhdGVkIiwiYWN0aXZhdGVkIiwiX2FjdGl2YXRlZFJvdXRlIiwiYWN0aXZhdGVkUm91dGVEYXRhIiwicGFyZW50Q29udGV4dHMiLCJhY3Rpb25CYXJWaXNpYmlsaXR5IiwiaXNFbXB0eU91dGxldCIsInBhZ2VGYWN0b3J5Iiwicm91dGVSZXVzZVN0cmF0ZWd5IiwiZW52aXJvbm1lbnRJbmplY3RvciIsImF0dGFjaEV2ZW50cyIsImRldGFjaEV2ZW50cyIsImFjdGl2YXRlRXZlbnRzIiwiZGVhY3RpdmF0ZUV2ZW50cyIsInNldEFjdGlvbkJhclZpc2liaWxpdHkiLCJvbkNoaWxkT3V0bGV0Q3JlYXRlZCIsImRldGFjaGVkTG9hZGVyRmFjdG9yeSIsImdldENvbnRleHQiLCJvbkNoaWxkT3V0bGV0RGVzdHJveWVkIiwiZGVhY3RpdmF0ZSIsInBvc3ROYXZGdW5jdGlvbiIsIm1hcmtBY3RpdmF0ZWRSb3V0ZSIsImlzRmluYWxQYWdlUm91dGVyT3V0bGV0IiwiY2hpbGRDb250ZXh0IiwiYWN0aXZhdGVXaXRoIiwiZ2V0T3V0bGV0IiwiYWN0aXZhdGVPbkdvRm9yd2FyZCIsInJlc29sdmVyT3JJbmplY3RvciIsImdldENvbXBvbmVudFR5cGUiLCJpc05hdmlnYXRpb24iLCJkZXN0cnVjdGlibGVzIiwicGFyZW50SW5qZWN0b3IiLCJnZXRPckNyZWF0ZUNvbnRleHQiLCJsb2FkQ29tcG9uZW50SW5QYWdlIiwibmF2aWdhdGlvbkNvbnRleHQiLCJjb21wb25lbnRWaWV3IiwidG9wQWN0aXZhdGVkUm91dGUiLCJ0aGlzUm91dGVLZXkiLCJuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2siLCJ3cmFwIiwiaXNCYWNrTmF2aWdhdGlvbiIsIm5hdmlnYXRlZEZyb21FdmVudCIsImdldEN1cnJlbnROYXZpZ2F0aW9uIiwiaXNSZXBsYWNlIiwid2lwZUNhY2hlIiwiY2xlYXJDYWxsYmFjayIsIm5hdmlnYXRlZFRvRXZlbnQiLCJuYXZpZ2F0aW9uRW50cnkiLCJjdXJyZW50UGFnZSIsInJlcGxhY2VQYWdlIiwiY2hpbGRSb3V0ZSIsIlBhZ2VSb3V0ZXJPdXRsZXRfRmFjdG9yeSIsIsm1ybVpbmplY3RBdHRyaWJ1dGUiLCJFbnZpcm9ubWVudEluamVjdG9yIiwiTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiIsImdldEJhc2VIcmVmRnJvbURPTSIsIm9uSGFzaENoYW5nZSIsIl9mbiIsInNlYXJjaCIsImhhc2giLCJwYXRobmFtZSIsIl9uZXdQYXRoIiwiTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbl9GYWN0b3J5IiwiTlNFbXB0eU91dGxldENvbXBvbmVudCIsInBhZ2VSb3V0ZXJPdXRsZXQiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50X0ZhY3RvcnkiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50X1F1ZXJ5IiwiTlNFbXB0eU91dGxldENvbXBvbmVudF9UZW1wbGF0ZSIsInByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5IiwiTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlIiwiZm9yUm9vdCIsInJvdXRlcyIsIm5nTW9kdWxlIiwiZm9yQ2hpbGQiLCJOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGVfRmFjdG9yeSIsImN1cnJlbnRSYWZJZCIsIm5vb3AiLCJOYXRpdmVTY3JpcHROZ1pvbmUiLCJlbmFibGVMb25nU3RhY2tUcmFjZSIsInNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24iLCJzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiIsImhhc1BlbmRpbmdNYWNyb3Rhc2tzIiwiaGFzUGVuZGluZ01pY3JvdGFza3MiLCJpc1N0YWJsZSIsIm9uVW5zdGFibGUiLCJvbk1pY3JvdGFza0VtcHR5Iiwib25TdGFibGUiLCJvbkVycm9yIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJzZWxmIiwiX25lc3RpbmciLCJfb3V0ZXIiLCJfaW5uZXIiLCJmb3JrIiwibGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkIiwibmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQiLCJkaXNwYXRjaFRvTWFpblRocmVhZCIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwiYXNzZXJ0SW5Bbmd1bGFyWm9uZSIsImFzc2VydE5vdEluQW5ndWxhclpvbmUiLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJydW5UYXNrIiwiRU1QVFlfUEFZTE9BRCIsInJ1bkd1YXJkZWQiLCJydW5PdXRzaWRlQW5ndWxhciIsImNoZWNrU3RhYmxlIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMiLCJpc0NoZWNrU3RhYmxlUnVubmluZyIsImZha2VUb3BFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNBbmd1bGFyWm9uZSIsIm9uSW52b2tlVGFzayIsImRlbGVnYXRlIiwib25FbnRlciIsImludm9rZVRhc2siLCJpc01haW5UaHJlYWQiLCJvbkxlYXZlIiwib25JbnZva2UiLCJzb3VyY2UiLCJvbkhhc1Rhc2siLCJoYXNUYXNrU3RhdGUiLCJoYXNUYXNrIiwiX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIiwibWljcm9UYXNrIiwibWFjcm9UYXNrIiwib25IYW5kbGVFcnJvciIsImhhbmRsZUVycm9yIiwiybVDT01QT05FTlRfVkFSSUFCTEUiLCLJtUNPTlRFTlRfQVRUUiIsIsm1SE9TVF9BVFRSIiwiybVOYXRpdmVTY3JpcHRBbmd1bGFyRGVidWciLCLJtVZpZXdVdGlsIiwiybVhY3Rpb25CYXJNZXRhIiwiybVlbGVtZW50TWFwIiwiybVpc0FjdGlvbkl0ZW0iLCLJtWlzTmF2aWdhdGlvbkJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=